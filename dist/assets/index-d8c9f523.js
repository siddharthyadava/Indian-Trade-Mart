function hj(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function na(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _A(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),s}var mj={exports:{}},Uu={},pj={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc=Symbol.for("react.element"),SA=Symbol.for("react.portal"),CA=Symbol.for("react.fragment"),kA=Symbol.for("react.strict_mode"),EA=Symbol.for("react.profiler"),PA=Symbol.for("react.provider"),AA=Symbol.for("react.context"),TA=Symbol.for("react.forward_ref"),DA=Symbol.for("react.suspense"),RA=Symbol.for("react.memo"),IA=Symbol.for("react.lazy"),ey=Symbol.iterator;function OA(e){return e===null||typeof e!="object"?null:(e=ey&&e[ey]||e["@@iterator"],typeof e=="function"?e:null)}var fj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gj=Object.assign,xj={};function go(e,t,s){this.props=e,this.context=t,this.refs=xj,this.updater=s||fj}go.prototype.isReactComponent={};go.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};go.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vj(){}vj.prototype=go.prototype;function dg(e,t,s){this.props=e,this.context=t,this.refs=xj,this.updater=s||fj}var ug=dg.prototype=new vj;ug.constructor=dg;gj(ug,go.prototype);ug.isPureReactComponent=!0;var ty=Array.isArray,yj=Object.prototype.hasOwnProperty,hg={current:null},wj={key:!0,ref:!0,__self:!0,__source:!0};function bj(e,t,s){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)yj.call(t,n)&&!wj.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:rc,type:e,key:i,ref:o,props:a,_owner:hg.current}}function MA(e,t){return{$$typeof:rc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mg(e){return typeof e=="object"&&e!==null&&e.$$typeof===rc}function LA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var sy=/\/+/g;function Yh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?LA(""+e.key):t.toString(36)}function wd(e,t,s,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case rc:case SA:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Yh(o,0):n,ty(a)?(s="",e!=null&&(s=e.replace(sy,"$&/")+"/"),wd(a,t,s,"",function(d){return d})):a!=null&&(mg(a)&&(a=MA(a,s+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(sy,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",ty(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Yh(i,l);o+=wd(i,t,s,c,a)}else if(c=OA(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Yh(i,l++),o+=wd(i,t,s,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Rc(e,t,s){if(e==null)return e;var n=[],a=0;return wd(e,n,"","",function(i){return t.call(s,i,a++)}),n}function FA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ds={current:null},bd={transition:null},VA={ReactCurrentDispatcher:ds,ReactCurrentBatchConfig:bd,ReactCurrentOwner:hg};function jj(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:Rc,forEach:function(e,t,s){Rc(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Rc(e,function(){t++}),t},toArray:function(e){return Rc(e,function(t){return t})||[]},only:function(e){if(!mg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ze.Component=go;ze.Fragment=CA;ze.Profiler=EA;ze.PureComponent=dg;ze.StrictMode=kA;ze.Suspense=DA;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VA;ze.act=jj;ze.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gj({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=hg.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)yj.call(t,c)&&!wj.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:rc,type:e.type,key:a,ref:i,props:n,_owner:o}};ze.createContext=function(e){return e={$$typeof:AA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:PA,_context:e},e.Consumer=e};ze.createElement=bj;ze.createFactory=function(e){var t=bj.bind(null,e);return t.type=e,t};ze.createRef=function(){return{current:null}};ze.forwardRef=function(e){return{$$typeof:TA,render:e}};ze.isValidElement=mg;ze.lazy=function(e){return{$$typeof:IA,_payload:{_status:-1,_result:e},_init:FA}};ze.memo=function(e,t){return{$$typeof:RA,type:e,compare:t===void 0?null:t}};ze.startTransition=function(e){var t=bd.transition;bd.transition={};try{e()}finally{bd.transition=t}};ze.unstable_act=jj;ze.useCallback=function(e,t){return ds.current.useCallback(e,t)};ze.useContext=function(e){return ds.current.useContext(e)};ze.useDebugValue=function(){};ze.useDeferredValue=function(e){return ds.current.useDeferredValue(e)};ze.useEffect=function(e,t){return ds.current.useEffect(e,t)};ze.useId=function(){return ds.current.useId()};ze.useImperativeHandle=function(e,t,s){return ds.current.useImperativeHandle(e,t,s)};ze.useInsertionEffect=function(e,t){return ds.current.useInsertionEffect(e,t)};ze.useLayoutEffect=function(e,t){return ds.current.useLayoutEffect(e,t)};ze.useMemo=function(e,t){return ds.current.useMemo(e,t)};ze.useReducer=function(e,t,s){return ds.current.useReducer(e,t,s)};ze.useRef=function(e){return ds.current.useRef(e)};ze.useState=function(e){return ds.current.useState(e)};ze.useSyncExternalStore=function(e,t,s){return ds.current.useSyncExternalStore(e,t,s)};ze.useTransition=function(){return ds.current.useTransition()};ze.version="18.3.1";pj.exports=ze;var m=pj.exports;const $e=na(m),Nj=hj({__proto__:null,default:$e},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA=m,BA=Symbol.for("react.element"),$A=Symbol.for("react.fragment"),UA=Object.prototype.hasOwnProperty,zA=qA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HA={key:!0,ref:!0,__self:!0,__source:!0};function _j(e,t,s){var n,a={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)UA.call(t,n)&&!HA.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:BA,type:e,key:i,ref:o,props:a,_owner:zA.current}}Uu.Fragment=$A;Uu.jsx=_j;Uu.jsxs=_j;mj.exports=Uu;var r=mj.exports,mp={},Sj={exports:{}},Bs={},Cj={exports:{}},kj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var B=R.length;R.push(L);e:for(;0<B;){var Q=B-1>>>1,W=R[Q];if(0<a(W,L))R[Q]=L,R[B]=W,B=Q;else break e}}function s(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var L=R[0],B=R.pop();if(B!==L){R[0]=B;e:for(var Q=0,W=R.length,z=W>>>1;Q<z;){var X=2*(Q+1)-1,de=R[X],ue=X+1,te=R[ue];if(0>a(de,B))ue<W&&0>a(te,de)?(R[Q]=te,R[ue]=B,Q=ue):(R[Q]=de,R[X]=B,Q=X);else if(ue<W&&0>a(te,B))R[Q]=te,R[ue]=B,Q=ue;else break e}}return L}function a(R,L){var B=R.sortIndex-L.sortIndex;return B!==0?B:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,f=!1,g=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var L=s(d);L!==null;){if(L.callback===null)n(d);else if(L.startTime<=R)n(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=s(d)}}function N(R){if(x=!1,b(R),!g)if(s(c)!==null)g=!0,O(k);else{var L=s(d);L!==null&&P(N,L.startTime-R)}}function k(R,L){g=!1,x&&(x=!1,y(_),_=-1),f=!0;var B=p;try{for(b(L),h=s(c);h!==null&&(!(h.expirationTime>L)||R&&!q());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,p=h.priorityLevel;var W=Q(h.expirationTime<=L);L=e.unstable_now(),typeof W=="function"?h.callback=W:h===s(c)&&n(c),b(L)}else n(c);h=s(c)}if(h!==null)var z=!0;else{var X=s(d);X!==null&&P(N,X.startTime-L),z=!1}return z}finally{h=null,p=B,f=!1}}var T=!1,A=null,_=-1,C=5,I=-1;function q(){return!(e.unstable_now()-I<C)}function F(){if(A!==null){var R=e.unstable_now();I=R;var L=!0;try{L=A(!0,R)}finally{L?D():(T=!1,A=null)}}else T=!1}var D;if(typeof v=="function")D=function(){v(F)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,E=S.port2;S.port1.onmessage=F,D=function(){E.postMessage(null)}}else D=function(){w(F,0)};function O(R){A=R,T||(T=!0,D())}function P(R,L){_=w(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,O(k))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var B=p;p=L;try{return R()}finally{p=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=p;p=R;try{return L()}finally{p=B}},e.unstable_scheduleCallback=function(R,L,B){var Q=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Q+B:Q):B=Q,R){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=B+W,R={id:u++,callback:L,priorityLevel:R,startTime:B,expirationTime:W,sortIndex:-1},B>Q?(R.sortIndex=B,t(d,R),s(c)===null&&R===s(d)&&(x?(y(_),_=-1):x=!0,P(N,B-Q))):(R.sortIndex=W,t(c,R),g||f||(g=!0,O(k))),R},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(R){var L=p;return function(){var B=p;p=L;try{return R.apply(this,arguments)}finally{p=B}}}})(kj);Cj.exports=kj;var WA=Cj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA=m,Fs=WA;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ej=new Set,Nl={};function Ga(e,t){Qi(e,t),Qi(e+"Capture",t)}function Qi(e,t){for(Nl[e]=t,e=0;e<t.length;e++)Ej.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pp=Object.prototype.hasOwnProperty,GA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ry={},ny={};function YA(e){return pp.call(ny,e)?!0:pp.call(ry,e)?!1:GA.test(e)?ny[e]=!0:(ry[e]=!0,!1)}function XA(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function JA(e,t,s,n){if(t===null||typeof t>"u"||XA(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function us(e,t,s,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$t[e]=new us(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$t[t]=new us(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$t[e]=new us(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$t[e]=new us(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$t[e]=new us(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$t[e]=new us(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$t[e]=new us(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$t[e]=new us(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$t[e]=new us(e,5,!1,e.toLowerCase(),null,!1,!1)});var pg=/[\-:]([a-z])/g;function fg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pg,fg);$t[t]=new us(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pg,fg);$t[t]=new us(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pg,fg);$t[t]=new us(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$t[e]=new us(e,1,!1,e.toLowerCase(),null,!1,!1)});$t.xlinkHref=new us("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$t[e]=new us(e,1,!1,e.toLowerCase(),null,!0,!0)});function gg(e,t,s,n){var a=$t.hasOwnProperty(t)?$t[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(JA(t,s,a,n)&&(s=null),n||a===null?YA(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var vn=KA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ic=Symbol.for("react.element"),wi=Symbol.for("react.portal"),bi=Symbol.for("react.fragment"),xg=Symbol.for("react.strict_mode"),fp=Symbol.for("react.profiler"),Pj=Symbol.for("react.provider"),Aj=Symbol.for("react.context"),vg=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),xp=Symbol.for("react.suspense_list"),yg=Symbol.for("react.memo"),Pn=Symbol.for("react.lazy"),Tj=Symbol.for("react.offscreen"),ay=Symbol.iterator;function Do(e){return e===null||typeof e!="object"?null:(e=ay&&e[ay]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,Xh;function Zo(e){if(Xh===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Xh=t&&t[1]||""}return`
`+Xh+e}var Jh=!1;function Qh(e,t){if(!e||Jh)return"";Jh=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Jh=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Zo(e):""}function QA(e){switch(e.tag){case 5:return Zo(e.type);case 16:return Zo("Lazy");case 13:return Zo("Suspense");case 19:return Zo("SuspenseList");case 0:case 2:case 15:return e=Qh(e.type,!1),e;case 11:return e=Qh(e.type.render,!1),e;case 1:return e=Qh(e.type,!0),e;default:return""}}function vp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bi:return"Fragment";case wi:return"Portal";case fp:return"Profiler";case xg:return"StrictMode";case gp:return"Suspense";case xp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Aj:return(e.displayName||"Context")+".Consumer";case Pj:return(e._context.displayName||"Context")+".Provider";case vg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yg:return t=e.displayName||null,t!==null?t:vp(e.type)||"Memo";case Pn:t=e._payload,e=e._init;try{return vp(e(t))}catch{}}return null}function ZA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vp(t);case 8:return t===xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eT(e){var t=Dj(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oc(e){e._valueTracker||(e._valueTracker=eT(e))}function Rj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=Dj(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Bd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yp(e,t){var s=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function iy(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Kn(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ij(e,t){t=t.checked,t!=null&&gg(e,"checked",t,!1)}function wp(e,t){Ij(e,t);var s=Kn(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bp(e,t.type,s):t.hasOwnProperty("defaultValue")&&bp(e,t.type,Kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oy(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function bp(e,t,s){(t!=="number"||Bd(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var el=Array.isArray;function Li(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Kn(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function jp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ly(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(oe(92));if(el(s)){if(1<s.length)throw Error(oe(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Kn(s)}}function Oj(e,t){var s=Kn(t.value),n=Kn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function cy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Np(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mc,Lj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mc=Mc||document.createElement("div"),Mc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _l(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tT=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(e){tT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cl[t]=cl[e]})});function Fj(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||cl.hasOwnProperty(e)&&cl[e]?(""+t).trim():t+"px"}function Vj(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=Fj(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var sT=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _p(e,t){if(t){if(sT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function Sp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cp=null;function wg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kp=null,Fi=null,Vi=null;function dy(e){if(e=ic(e)){if(typeof kp!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=Gu(t),kp(e.stateNode,e.type,t))}}function qj(e){Fi?Vi?Vi.push(e):Vi=[e]:Fi=e}function Bj(){if(Fi){var e=Fi,t=Vi;if(Vi=Fi=null,dy(e),t)for(e=0;e<t.length;e++)dy(t[e])}}function $j(e,t){return e(t)}function Uj(){}var Zh=!1;function zj(e,t,s){if(Zh)return e(t,s);Zh=!0;try{return $j(e,t,s)}finally{Zh=!1,(Fi!==null||Vi!==null)&&(Uj(),Bj())}}function Sl(e,t){var s=e.stateNode;if(s===null)return null;var n=Gu(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(oe(231,t,typeof s));return s}var Ep=!1;if(cn)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Ep=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Ep=!1}function rT(e,t,s,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var dl=!1,$d=null,Ud=!1,Pp=null,nT={onError:function(e){dl=!0,$d=e}};function aT(e,t,s,n,a,i,o,l,c){dl=!1,$d=null,rT.apply(nT,arguments)}function iT(e,t,s,n,a,i,o,l,c){if(aT.apply(this,arguments),dl){if(dl){var d=$d;dl=!1,$d=null}else throw Error(oe(198));Ud||(Ud=!0,Pp=d)}}function Ya(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Hj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uy(e){if(Ya(e)!==e)throw Error(oe(188))}function oT(e){var t=e.alternate;if(!t){if(t=Ya(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return uy(a),e;if(i===n)return uy(a),t;i=i.sibling}throw Error(oe(188))}if(s.return!==n.return)s=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o)throw Error(oe(189))}}if(s.alternate!==n)throw Error(oe(190))}if(s.tag!==3)throw Error(oe(188));return s.stateNode.current===s?e:t}function Wj(e){return e=oT(e),e!==null?Kj(e):null}function Kj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kj(e);if(t!==null)return t;e=e.sibling}return null}var Gj=Fs.unstable_scheduleCallback,hy=Fs.unstable_cancelCallback,lT=Fs.unstable_shouldYield,cT=Fs.unstable_requestPaint,bt=Fs.unstable_now,dT=Fs.unstable_getCurrentPriorityLevel,bg=Fs.unstable_ImmediatePriority,Yj=Fs.unstable_UserBlockingPriority,zd=Fs.unstable_NormalPriority,uT=Fs.unstable_LowPriority,Xj=Fs.unstable_IdlePriority,zu=null,Rr=null;function hT(e){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(zu,e,void 0,(e.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:fT,mT=Math.log,pT=Math.LN2;function fT(e){return e>>>=0,e===0?32:31-(mT(e)/pT|0)|0}var Lc=64,Fc=4194304;function tl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hd(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~a;l!==0?n=tl(l):(i&=o,i!==0&&(n=tl(i)))}else o=s&~a,o!==0?n=tl(o):i!==0&&(n=tl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-gr(t),a=1<<s,n|=e[s],t&=~a;return n}function gT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xT(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gr(i),l=1<<o,c=a[o];c===-1?(!(l&s)||l&n)&&(a[o]=gT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Ap(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jj(){var e=Lc;return Lc<<=1,!(Lc&4194240)&&(Lc=64),e}function em(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function nc(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gr(t),e[t]=s}function vT(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-gr(s),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~i}}function jg(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-gr(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var Ye=0;function Qj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zj,Ng,eN,tN,sN,Tp=!1,Vc=[],Ln=null,Fn=null,Vn=null,Cl=new Map,kl=new Map,Dn=[],yT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function my(e,t){switch(e){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Cl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(t.pointerId)}}function Io(e,t,s,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ic(t),t!==null&&Ng(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function wT(e,t,s,n,a){switch(t){case"focusin":return Ln=Io(Ln,e,t,s,n,a),!0;case"dragenter":return Fn=Io(Fn,e,t,s,n,a),!0;case"mouseover":return Vn=Io(Vn,e,t,s,n,a),!0;case"pointerover":var i=a.pointerId;return Cl.set(i,Io(Cl.get(i)||null,e,t,s,n,a)),!0;case"gotpointercapture":return i=a.pointerId,kl.set(i,Io(kl.get(i)||null,e,t,s,n,a)),!0}return!1}function rN(e){var t=Ca(e.target);if(t!==null){var s=Ya(t);if(s!==null){if(t=s.tag,t===13){if(t=Hj(s),t!==null){e.blockedOn=t,sN(e.priority,function(){eN(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Dp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Cp=n,s.target.dispatchEvent(n),Cp=null}else return t=ic(s),t!==null&&Ng(t),e.blockedOn=s,!1;t.shift()}return!0}function py(e,t,s){jd(e)&&s.delete(t)}function bT(){Tp=!1,Ln!==null&&jd(Ln)&&(Ln=null),Fn!==null&&jd(Fn)&&(Fn=null),Vn!==null&&jd(Vn)&&(Vn=null),Cl.forEach(py),kl.forEach(py)}function Oo(e,t){e.blockedOn===t&&(e.blockedOn=null,Tp||(Tp=!0,Fs.unstable_scheduleCallback(Fs.unstable_NormalPriority,bT)))}function El(e){function t(a){return Oo(a,e)}if(0<Vc.length){Oo(Vc[0],e);for(var s=1;s<Vc.length;s++){var n=Vc[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Ln!==null&&Oo(Ln,e),Fn!==null&&Oo(Fn,e),Vn!==null&&Oo(Vn,e),Cl.forEach(t),kl.forEach(t),s=0;s<Dn.length;s++)n=Dn[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Dn.length&&(s=Dn[0],s.blockedOn===null);)rN(s),s.blockedOn===null&&Dn.shift()}var qi=vn.ReactCurrentBatchConfig,Wd=!0;function jT(e,t,s,n){var a=Ye,i=qi.transition;qi.transition=null;try{Ye=1,_g(e,t,s,n)}finally{Ye=a,qi.transition=i}}function NT(e,t,s,n){var a=Ye,i=qi.transition;qi.transition=null;try{Ye=4,_g(e,t,s,n)}finally{Ye=a,qi.transition=i}}function _g(e,t,s,n){if(Wd){var a=Dp(e,t,s,n);if(a===null)dm(e,t,n,Kd,s),my(e,n);else if(wT(a,e,t,s,n))n.stopPropagation();else if(my(e,n),t&4&&-1<yT.indexOf(e)){for(;a!==null;){var i=ic(a);if(i!==null&&Zj(i),i=Dp(e,t,s,n),i===null&&dm(e,t,n,Kd,s),i===a)break;a=i}a!==null&&n.stopPropagation()}else dm(e,t,n,null,s)}}var Kd=null;function Dp(e,t,s,n){if(Kd=null,e=wg(n),e=Ca(e),e!==null)if(t=Ya(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Hj(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kd=e,null}function nN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dT()){case bg:return 1;case Yj:return 4;case zd:case uT:return 16;case Xj:return 536870912;default:return 16}default:return 16}}var In=null,Sg=null,Nd=null;function aN(){if(Nd)return Nd;var e,t=Sg,s=t.length,n,a="value"in In?In.value:In.textContent,i=a.length;for(e=0;e<s&&t[e]===a[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===a[i-n];n++);return Nd=a.slice(e,1<n?1-n:void 0)}function _d(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qc(){return!0}function fy(){return!1}function $s(e){function t(s,n,a,i,o){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qc:fy,this.isPropagationStopped=fy,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=qc)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=qc)},persist:function(){},isPersistent:qc}),t}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cg=$s(xo),ac=ft({},xo,{view:0,detail:0}),_T=$s(ac),tm,sm,Mo,Hu=ft({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mo&&(Mo&&e.type==="mousemove"?(tm=e.screenX-Mo.screenX,sm=e.screenY-Mo.screenY):sm=tm=0,Mo=e),tm)},movementY:function(e){return"movementY"in e?e.movementY:sm}}),gy=$s(Hu),ST=ft({},Hu,{dataTransfer:0}),CT=$s(ST),kT=ft({},ac,{relatedTarget:0}),rm=$s(kT),ET=ft({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),PT=$s(ET),AT=ft({},xo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TT=$s(AT),DT=ft({},xo,{data:0}),xy=$s(DT),RT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OT[e])?!!t[e]:!1}function kg(){return MT}var LT=ft({},ac,{key:function(e){if(e.key){var t=RT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_d(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kg,charCode:function(e){return e.type==="keypress"?_d(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_d(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FT=$s(LT),VT=ft({},Hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vy=$s(VT),qT=ft({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kg}),BT=$s(qT),$T=ft({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),UT=$s($T),zT=ft({},Hu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HT=$s(zT),WT=[9,13,27,32],Eg=cn&&"CompositionEvent"in window,ul=null;cn&&"documentMode"in document&&(ul=document.documentMode);var KT=cn&&"TextEvent"in window&&!ul,iN=cn&&(!Eg||ul&&8<ul&&11>=ul),yy=String.fromCharCode(32),wy=!1;function oN(e,t){switch(e){case"keyup":return WT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ji=!1;function GT(e,t){switch(e){case"compositionend":return lN(t);case"keypress":return t.which!==32?null:(wy=!0,yy);case"textInput":return e=t.data,e===yy&&wy?null:e;default:return null}}function YT(e,t){if(ji)return e==="compositionend"||!Eg&&oN(e,t)?(e=aN(),Nd=Sg=In=null,ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iN&&t.locale!=="ko"?null:t.data;default:return null}}var XT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function by(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XT[e.type]:t==="textarea"}function cN(e,t,s,n){qj(n),t=Gd(t,"onChange"),0<t.length&&(s=new Cg("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var hl=null,Pl=null;function JT(e){wN(e,0)}function Wu(e){var t=Si(e);if(Rj(t))return e}function QT(e,t){if(e==="change")return t}var dN=!1;if(cn){var nm;if(cn){var am="oninput"in document;if(!am){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),am=typeof jy.oninput=="function"}nm=am}else nm=!1;dN=nm&&(!document.documentMode||9<document.documentMode)}function Ny(){hl&&(hl.detachEvent("onpropertychange",uN),Pl=hl=null)}function uN(e){if(e.propertyName==="value"&&Wu(Pl)){var t=[];cN(t,Pl,e,wg(e)),zj(JT,t)}}function ZT(e,t,s){e==="focusin"?(Ny(),hl=t,Pl=s,hl.attachEvent("onpropertychange",uN)):e==="focusout"&&Ny()}function e4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wu(Pl)}function t4(e,t){if(e==="click")return Wu(t)}function s4(e,t){if(e==="input"||e==="change")return Wu(t)}function r4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wr=typeof Object.is=="function"?Object.is:r4;function Al(e,t){if(wr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!pp.call(t,a)||!wr(e[a],t[a]))return!1}return!0}function _y(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sy(e,t){var s=_y(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=_y(s)}}function hN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mN(){for(var e=window,t=Bd();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Bd(e.document)}return t}function Pg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function n4(e){var t=mN(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&hN(s.ownerDocument.documentElement,s)){if(n!==null&&Pg(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Sy(s,i);var o=Sy(s,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var a4=cn&&"documentMode"in document&&11>=document.documentMode,Ni=null,Rp=null,ml=null,Ip=!1;function Cy(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ip||Ni==null||Ni!==Bd(n)||(n=Ni,"selectionStart"in n&&Pg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ml&&Al(ml,n)||(ml=n,n=Gd(Rp,"onSelect"),0<n.length&&(t=new Cg("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=Ni)))}function Bc(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var _i={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},im={},pN={};cn&&(pN=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Ku(e){if(im[e])return im[e];if(!_i[e])return e;var t=_i[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in pN)return im[e]=t[s];return e}var fN=Ku("animationend"),gN=Ku("animationiteration"),xN=Ku("animationstart"),vN=Ku("transitionend"),yN=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(e,t){yN.set(e,t),Ga(t,[e])}for(var om=0;om<ky.length;om++){var lm=ky[om],i4=lm.toLowerCase(),o4=lm[0].toUpperCase()+lm.slice(1);aa(i4,"on"+o4)}aa(fN,"onAnimationEnd");aa(gN,"onAnimationIteration");aa(xN,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(vN,"onTransitionEnd");Qi("onMouseEnter",["mouseout","mouseover"]);Qi("onMouseLeave",["mouseout","mouseover"]);Qi("onPointerEnter",["pointerout","pointerover"]);Qi("onPointerLeave",["pointerout","pointerover"]);Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l4=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function Ey(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,iT(n,t,void 0,e),e.currentTarget=null}function wN(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Ey(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Ey(a,l,d),i=c}}}if(Ud)throw e=Pp,Ud=!1,Pp=null,e}function nt(e,t){var s=t[Vp];s===void 0&&(s=t[Vp]=new Set);var n=e+"__bubble";s.has(n)||(bN(t,e,2,!1),s.add(n))}function cm(e,t,s){var n=0;t&&(n|=4),bN(s,e,n,t)}var $c="_reactListening"+Math.random().toString(36).slice(2);function Tl(e){if(!e[$c]){e[$c]=!0,Ej.forEach(function(s){s!=="selectionchange"&&(l4.has(s)||cm(s,!1,e),cm(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$c]||(t[$c]=!0,cm("selectionchange",!1,t))}}function bN(e,t,s,n){switch(nN(t)){case 1:var a=jT;break;case 4:a=NT;break;default:a=_g}s=a.bind(null,t,s,e),a=void 0,!Ep||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function dm(e,t,s,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ca(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}zj(function(){var d=i,u=wg(s),h=[];e:{var p=yN.get(e);if(p!==void 0){var f=Cg,g=e;switch(e){case"keypress":if(_d(s)===0)break e;case"keydown":case"keyup":f=FT;break;case"focusin":g="focus",f=rm;break;case"focusout":g="blur",f=rm;break;case"beforeblur":case"afterblur":f=rm;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=CT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=BT;break;case fN:case gN:case xN:f=PT;break;case vN:f=UT;break;case"scroll":f=_T;break;case"wheel":f=HT;break;case"copy":case"cut":case"paste":f=TT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=vy}var x=(t&4)!==0,w=!x&&e==="scroll",y=x?p!==null?p+"Capture":null:p;x=[];for(var v=d,b;v!==null;){b=v;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,y!==null&&(N=Sl(v,y),N!=null&&x.push(Dl(v,N,b)))),w)break;v=v.return}0<x.length&&(p=new f(p,g,null,s,u),h.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&s!==Cp&&(g=s.relatedTarget||s.fromElement)&&(Ca(g)||g[dn]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(g=s.relatedTarget||s.toElement,f=d,g=g?Ca(g):null,g!==null&&(w=Ya(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=d),f!==g)){if(x=gy,N="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=vy,N="onPointerLeave",y="onPointerEnter",v="pointer"),w=f==null?p:Si(f),b=g==null?p:Si(g),p=new x(N,v+"leave",f,s,u),p.target=w,p.relatedTarget=b,N=null,Ca(u)===d&&(x=new x(y,v+"enter",g,s,u),x.target=b,x.relatedTarget=w,N=x),w=N,f&&g)t:{for(x=f,y=g,v=0,b=x;b;b=ci(b))v++;for(b=0,N=y;N;N=ci(N))b++;for(;0<v-b;)x=ci(x),v--;for(;0<b-v;)y=ci(y),b--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=ci(x),y=ci(y)}x=null}else x=null;f!==null&&Py(h,p,f,x,!1),g!==null&&w!==null&&Py(h,w,g,x,!0)}}e:{if(p=d?Si(d):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var k=QT;else if(by(p))if(dN)k=s4;else{k=e4;var T=ZT}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=t4);if(k&&(k=k(e,d))){cN(h,k,s,u);break e}T&&T(e,p,d),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&bp(p,"number",p.value)}switch(T=d?Si(d):window,e){case"focusin":(by(T)||T.contentEditable==="true")&&(Ni=T,Rp=d,ml=null);break;case"focusout":ml=Rp=Ni=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,Cy(h,s,u);break;case"selectionchange":if(a4)break;case"keydown":case"keyup":Cy(h,s,u)}var A;if(Eg)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ji?oN(e,s)&&(_="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(_="onCompositionStart");_&&(iN&&s.locale!=="ko"&&(ji||_!=="onCompositionStart"?_==="onCompositionEnd"&&ji&&(A=aN()):(In=u,Sg="value"in In?In.value:In.textContent,ji=!0)),T=Gd(d,_),0<T.length&&(_=new xy(_,e,null,s,u),h.push({event:_,listeners:T}),A?_.data=A:(A=lN(s),A!==null&&(_.data=A)))),(A=KT?GT(e,s):YT(e,s))&&(d=Gd(d,"onBeforeInput"),0<d.length&&(u=new xy("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=A))}wN(h,t)})}function Dl(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Gd(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Sl(e,s),i!=null&&n.unshift(Dl(e,i,a)),i=Sl(e,t),i!=null&&n.push(Dl(e,i,a))),e=e.return}return n}function ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Py(e,t,s,n,a){for(var i=t._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Sl(s,i),c!=null&&o.unshift(Dl(s,c,l))):a||(c=Sl(s,i),c!=null&&o.push(Dl(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var c4=/\r\n?/g,d4=/\u0000|\uFFFD/g;function Ay(e){return(typeof e=="string"?e:""+e).replace(c4,`
`).replace(d4,"")}function Uc(e,t,s){if(t=Ay(t),Ay(e)!==t&&s)throw Error(oe(425))}function Yd(){}var Op=null,Mp=null;function Lp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fp=typeof setTimeout=="function"?setTimeout:void 0,u4=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,h4=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(e){return Ty.resolve(null).then(e).catch(m4)}:Fp;function m4(e){setTimeout(function(){throw e})}function um(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),El(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);El(t)}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var vo=Math.random().toString(36).slice(2),Ar="__reactFiber$"+vo,Rl="__reactProps$"+vo,dn="__reactContainer$"+vo,Vp="__reactEvents$"+vo,p4="__reactListeners$"+vo,f4="__reactHandles$"+vo;function Ca(e){var t=e[Ar];if(t)return t;for(var s=e.parentNode;s;){if(t=s[dn]||s[Ar]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Dy(e);e!==null;){if(s=e[Ar])return s;e=Dy(e)}return t}e=s,s=e.parentNode}return null}function ic(e){return e=e[Ar]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Si(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function Gu(e){return e[Rl]||null}var qp=[],Ci=-1;function ia(e){return{current:e}}function at(e){0>Ci||(e.current=qp[Ci],qp[Ci]=null,Ci--)}function et(e,t){Ci++,qp[Ci]=e.current,e.current=t}var Gn={},Jt=ia(Gn),ws=ia(!1),Fa=Gn;function Zi(e,t){var s=e.type.contextTypes;if(!s)return Gn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bs(e){return e=e.childContextTypes,e!=null}function Xd(){at(ws),at(Jt)}function Ry(e,t,s){if(Jt.current!==Gn)throw Error(oe(168));et(Jt,t),et(ws,s)}function jN(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(oe(108,ZA(e)||"Unknown",a));return ft({},s,n)}function Jd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,Fa=Jt.current,et(Jt,e),et(ws,ws.current),!0}function Iy(e,t,s){var n=e.stateNode;if(!n)throw Error(oe(169));s?(e=jN(e,t,Fa),n.__reactInternalMemoizedMergedChildContext=e,at(ws),at(Jt),et(Jt,e)):at(ws),et(ws,s)}var tn=null,Yu=!1,hm=!1;function NN(e){tn===null?tn=[e]:tn.push(e)}function g4(e){Yu=!0,NN(e)}function oa(){if(!hm&&tn!==null){hm=!0;var e=0,t=Ye;try{var s=tn;for(Ye=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}tn=null,Yu=!1}catch(a){throw tn!==null&&(tn=tn.slice(e+1)),Gj(bg,oa),a}finally{Ye=t,hm=!1}}return null}var ki=[],Ei=0,Qd=null,Zd=0,Xs=[],Js=0,Va=null,sn=1,rn="";function va(e,t){ki[Ei++]=Zd,ki[Ei++]=Qd,Qd=e,Zd=t}function _N(e,t,s){Xs[Js++]=sn,Xs[Js++]=rn,Xs[Js++]=Va,Va=e;var n=sn;e=rn;var a=32-gr(n)-1;n&=~(1<<a),s+=1;var i=32-gr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,sn=1<<32-gr(t)+a|s<<a|n,rn=i+e}else sn=1<<i|s<<a|n,rn=e}function Ag(e){e.return!==null&&(va(e,1),_N(e,1,0))}function Tg(e){for(;e===Qd;)Qd=ki[--Ei],ki[Ei]=null,Zd=ki[--Ei],ki[Ei]=null;for(;e===Va;)Va=Xs[--Js],Xs[Js]=null,rn=Xs[--Js],Xs[Js]=null,sn=Xs[--Js],Xs[Js]=null}var Os=null,Ds=null,lt=!1,mr=null;function SN(e,t){var s=er(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Oy(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Os=e,Ds=qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Os=e,Ds=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Va!==null?{id:sn,overflow:rn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=er(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Os=e,Ds=null,!0):!1;default:return!1}}function Bp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $p(e){if(lt){var t=Ds;if(t){var s=t;if(!Oy(e,t)){if(Bp(e))throw Error(oe(418));t=qn(s.nextSibling);var n=Os;t&&Oy(e,t)?SN(n,s):(e.flags=e.flags&-4097|2,lt=!1,Os=e)}}else{if(Bp(e))throw Error(oe(418));e.flags=e.flags&-4097|2,lt=!1,Os=e}}}function My(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Os=e}function zc(e){if(e!==Os)return!1;if(!lt)return My(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lp(e.type,e.memoizedProps)),t&&(t=Ds)){if(Bp(e))throw CN(),Error(oe(418));for(;t;)SN(e,t),t=qn(t.nextSibling)}if(My(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Ds=qn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Ds=null}}else Ds=Os?qn(e.stateNode.nextSibling):null;return!0}function CN(){for(var e=Ds;e;)e=qn(e.nextSibling)}function eo(){Ds=Os=null,lt=!1}function Dg(e){mr===null?mr=[e]:mr.push(e)}var x4=vn.ReactCurrentBatchConfig;function Lo(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(oe(309));var n=s.stateNode}if(!n)throw Error(oe(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(oe(284));if(!s._owner)throw Error(oe(290,e))}return e}function Hc(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ly(e){var t=e._init;return t(e._payload)}function kN(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function s(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(y,v){return y=zn(y,v),y.index=0,y.sibling=null,y}function i(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,N){return v===null||v.tag!==6?(v=ym(b,y.mode,N),v.return=y,v):(v=a(v,b),v.return=y,v)}function c(y,v,b,N){var k=b.type;return k===bi?u(y,v,b.props.children,N,b.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pn&&Ly(k)===v.type)?(N=a(v,b.props),N.ref=Lo(y,v,b),N.return=y,N):(N=Td(b.type,b.key,b.props,null,y.mode,N),N.ref=Lo(y,v,b),N.return=y,N)}function d(y,v,b,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=wm(b,y.mode,N),v.return=y,v):(v=a(v,b.children||[]),v.return=y,v)}function u(y,v,b,N,k){return v===null||v.tag!==7?(v=Ra(b,y.mode,N,k),v.return=y,v):(v=a(v,b),v.return=y,v)}function h(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ym(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ic:return b=Td(v.type,v.key,v.props,null,y.mode,b),b.ref=Lo(y,null,v),b.return=y,b;case wi:return v=wm(v,y.mode,b),v.return=y,v;case Pn:var N=v._init;return h(y,N(v._payload),b)}if(el(v)||Do(v))return v=Ra(v,y.mode,b,null),v.return=y,v;Hc(y,v)}return null}function p(y,v,b,N){var k=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:l(y,v,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ic:return b.key===k?c(y,v,b,N):null;case wi:return b.key===k?d(y,v,b,N):null;case Pn:return k=b._init,p(y,v,k(b._payload),N)}if(el(b)||Do(b))return k!==null?null:u(y,v,b,N,null);Hc(y,b)}return null}function f(y,v,b,N,k){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(b)||null,l(v,y,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ic:return y=y.get(N.key===null?b:N.key)||null,c(v,y,N,k);case wi:return y=y.get(N.key===null?b:N.key)||null,d(v,y,N,k);case Pn:var T=N._init;return f(y,v,b,T(N._payload),k)}if(el(N)||Do(N))return y=y.get(b)||null,u(v,y,N,k,null);Hc(v,N)}return null}function g(y,v,b,N){for(var k=null,T=null,A=v,_=v=0,C=null;A!==null&&_<b.length;_++){A.index>_?(C=A,A=null):C=A.sibling;var I=p(y,A,b[_],N);if(I===null){A===null&&(A=C);break}e&&A&&I.alternate===null&&t(y,A),v=i(I,v,_),T===null?k=I:T.sibling=I,T=I,A=C}if(_===b.length)return s(y,A),lt&&va(y,_),k;if(A===null){for(;_<b.length;_++)A=h(y,b[_],N),A!==null&&(v=i(A,v,_),T===null?k=A:T.sibling=A,T=A);return lt&&va(y,_),k}for(A=n(y,A);_<b.length;_++)C=f(A,y,_,b[_],N),C!==null&&(e&&C.alternate!==null&&A.delete(C.key===null?_:C.key),v=i(C,v,_),T===null?k=C:T.sibling=C,T=C);return e&&A.forEach(function(q){return t(y,q)}),lt&&va(y,_),k}function x(y,v,b,N){var k=Do(b);if(typeof k!="function")throw Error(oe(150));if(b=k.call(b),b==null)throw Error(oe(151));for(var T=k=null,A=v,_=v=0,C=null,I=b.next();A!==null&&!I.done;_++,I=b.next()){A.index>_?(C=A,A=null):C=A.sibling;var q=p(y,A,I.value,N);if(q===null){A===null&&(A=C);break}e&&A&&q.alternate===null&&t(y,A),v=i(q,v,_),T===null?k=q:T.sibling=q,T=q,A=C}if(I.done)return s(y,A),lt&&va(y,_),k;if(A===null){for(;!I.done;_++,I=b.next())I=h(y,I.value,N),I!==null&&(v=i(I,v,_),T===null?k=I:T.sibling=I,T=I);return lt&&va(y,_),k}for(A=n(y,A);!I.done;_++,I=b.next())I=f(A,y,_,I.value,N),I!==null&&(e&&I.alternate!==null&&A.delete(I.key===null?_:I.key),v=i(I,v,_),T===null?k=I:T.sibling=I,T=I);return e&&A.forEach(function(F){return t(y,F)}),lt&&va(y,_),k}function w(y,v,b,N){if(typeof b=="object"&&b!==null&&b.type===bi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ic:e:{for(var k=b.key,T=v;T!==null;){if(T.key===k){if(k=b.type,k===bi){if(T.tag===7){s(y,T.sibling),v=a(T,b.props.children),v.return=y,y=v;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pn&&Ly(k)===T.type){s(y,T.sibling),v=a(T,b.props),v.ref=Lo(y,T,b),v.return=y,y=v;break e}s(y,T);break}else t(y,T);T=T.sibling}b.type===bi?(v=Ra(b.props.children,y.mode,N,b.key),v.return=y,y=v):(N=Td(b.type,b.key,b.props,null,y.mode,N),N.ref=Lo(y,v,b),N.return=y,y=N)}return o(y);case wi:e:{for(T=b.key;v!==null;){if(v.key===T)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){s(y,v.sibling),v=a(v,b.children||[]),v.return=y,y=v;break e}else{s(y,v);break}else t(y,v);v=v.sibling}v=wm(b,y.mode,N),v.return=y,y=v}return o(y);case Pn:return T=b._init,w(y,v,T(b._payload),N)}if(el(b))return g(y,v,b,N);if(Do(b))return x(y,v,b,N);Hc(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(s(y,v.sibling),v=a(v,b),v.return=y,y=v):(s(y,v),v=ym(b,y.mode,N),v.return=y,y=v),o(y)):s(y,v)}return w}var to=kN(!0),EN=kN(!1),eu=ia(null),tu=null,Pi=null,Rg=null;function Ig(){Rg=Pi=tu=null}function Og(e){var t=eu.current;at(eu),e._currentValue=t}function Up(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Bi(e,t){tu=e,Rg=Pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ys=!0),e.firstContext=null)}function ar(e){var t=e._currentValue;if(Rg!==e)if(e={context:e,memoizedValue:t,next:null},Pi===null){if(tu===null)throw Error(oe(308));Pi=e,tu.dependencies={lanes:0,firstContext:e}}else Pi=Pi.next=e;return t}var ka=null;function Mg(e){ka===null?ka=[e]:ka.push(e)}function PN(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,Mg(t)):(s.next=a.next,a.next=s),t.interleaved=s,un(e,n)}function un(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var An=!1;function Lg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bn(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,un(e,s)}return a=n.interleaved,a===null?(t.next=t,Mg(n)):(t.next=a.next,a.next=t),n.interleaved=t,un(e,s)}function Sd(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,jg(e,s)}}function Fy(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?a=i=t:i=i.next=t}else a=i=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function su(e,t,s,n){var a=e.updateQueue;An=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var p=l.lane,f=l.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(p=t,f=s,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(f,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,p=typeof g=="function"?g.call(f,h,p):g,p==null)break e;h=ft({},h,p);break e;case 2:An=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=h):u=u.next=f,o|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(1);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ba|=o,e.lanes=o,e.memoizedState=h}}function Vy(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(oe(191,a));a.call(n)}}}var oc={},Ir=ia(oc),Il=ia(oc),Ol=ia(oc);function Ea(e){if(e===oc)throw Error(oe(174));return e}function Fg(e,t){switch(et(Ol,t),et(Il,e),et(Ir,oc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Np(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Np(t,e)}at(Ir),et(Ir,t)}function so(){at(Ir),at(Il),at(Ol)}function TN(e){Ea(Ol.current);var t=Ea(Ir.current),s=Np(t,e.type);t!==s&&(et(Il,e),et(Ir,s))}function Vg(e){Il.current===e&&(at(Ir),at(Il))}var dt=ia(0);function ru(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mm=[];function qg(){for(var e=0;e<mm.length;e++)mm[e]._workInProgressVersionPrimary=null;mm.length=0}var Cd=vn.ReactCurrentDispatcher,pm=vn.ReactCurrentBatchConfig,qa=0,mt=null,_t=null,At=null,nu=!1,pl=!1,Ml=0,v4=0;function Ht(){throw Error(oe(321))}function Bg(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!wr(e[s],t[s]))return!1;return!0}function $g(e,t,s,n,a,i){if(qa=i,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cd.current=e===null||e.memoizedState===null?j4:N4,e=s(n,a),pl){i=0;do{if(pl=!1,Ml=0,25<=i)throw Error(oe(301));i+=1,At=_t=null,t.updateQueue=null,Cd.current=_4,e=s(n,a)}while(pl)}if(Cd.current=au,t=_t!==null&&_t.next!==null,qa=0,At=_t=mt=null,nu=!1,t)throw Error(oe(300));return e}function Ug(){var e=Ml!==0;return Ml=0,e}function Pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?mt.memoizedState=At=e:At=At.next=e,At}function ir(){if(_t===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=At===null?mt.memoizedState:At.next;if(t!==null)At=t,_t=e;else{if(e===null)throw Error(oe(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},At===null?mt.memoizedState=At=e:At=At.next=e}return At}function Ll(e,t){return typeof t=="function"?t(e):t}function fm(e){var t=ir(),s=t.queue;if(s===null)throw Error(oe(311));s.lastRenderedReducer=e;var n=_t,a=n.baseQueue,i=s.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((qa&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,mt.lanes|=u,Ba|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,wr(n,t.memoizedState)||(ys=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do i=a.lane,mt.lanes|=i,Ba|=i,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function gm(e){var t=ir(),s=t.queue;if(s===null)throw Error(oe(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,i=t.memoizedState;if(a!==null){s.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);wr(i,t.memoizedState)||(ys=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,n]}function DN(){}function RN(e,t){var s=mt,n=ir(),a=t(),i=!wr(n.memoizedState,a);if(i&&(n.memoizedState=a,ys=!0),n=n.queue,zg(MN.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||At!==null&&At.memoizedState.tag&1){if(s.flags|=2048,Fl(9,ON.bind(null,s,n,a,t),void 0,null),It===null)throw Error(oe(349));qa&30||IN(s,t,a)}return a}function IN(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function ON(e,t,s,n){t.value=s,t.getSnapshot=n,LN(t)&&FN(e)}function MN(e,t,s){return s(function(){LN(t)&&FN(e)})}function LN(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!wr(e,s)}catch{return!0}}function FN(e){var t=un(e,1);t!==null&&xr(t,e,1,-1)}function qy(e){var t=Pr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:e},t.queue=e,e=e.dispatch=b4.bind(null,mt,e),[t.memoizedState,e]}function Fl(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function VN(){return ir().memoizedState}function kd(e,t,s,n){var a=Pr();mt.flags|=e,a.memoizedState=Fl(1|t,s,void 0,n===void 0?null:n)}function Xu(e,t,s,n){var a=ir();n=n===void 0?null:n;var i=void 0;if(_t!==null){var o=_t.memoizedState;if(i=o.destroy,n!==null&&Bg(n,o.deps)){a.memoizedState=Fl(t,s,i,n);return}}mt.flags|=e,a.memoizedState=Fl(1|t,s,i,n)}function By(e,t){return kd(8390656,8,e,t)}function zg(e,t){return Xu(2048,8,e,t)}function qN(e,t){return Xu(4,2,e,t)}function BN(e,t){return Xu(4,4,e,t)}function $N(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UN(e,t,s){return s=s!=null?s.concat([e]):null,Xu(4,4,$N.bind(null,t,e),s)}function Hg(){}function zN(e,t){var s=ir();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Bg(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function HN(e,t){var s=ir();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Bg(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function WN(e,t,s){return qa&21?(wr(s,t)||(s=Jj(),mt.lanes|=s,Ba|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=s)}function y4(e,t){var s=Ye;Ye=s!==0&&4>s?s:4,e(!0);var n=pm.transition;pm.transition={};try{e(!1),t()}finally{Ye=s,pm.transition=n}}function KN(){return ir().memoizedState}function w4(e,t,s){var n=Un(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},GN(e))YN(t,s);else if(s=PN(e,t,s,n),s!==null){var a=cs();xr(s,e,n,a),XN(s,t,n)}}function b4(e,t,s){var n=Un(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(GN(e))YN(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,s);if(a.hasEagerState=!0,a.eagerState=l,wr(l,o)){var c=t.interleaved;c===null?(a.next=a,Mg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=PN(e,t,a,n),s!==null&&(a=cs(),xr(s,e,n,a),XN(s,t,n))}}function GN(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function YN(e,t){pl=nu=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function XN(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,jg(e,s)}}var au={readContext:ar,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},j4={readContext:ar,useCallback:function(e,t){return Pr().memoizedState=[e,t===void 0?null:t],e},useContext:ar,useEffect:By,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,kd(4194308,4,$N.bind(null,t,e),s)},useLayoutEffect:function(e,t){return kd(4194308,4,e,t)},useInsertionEffect:function(e,t){return kd(4,2,e,t)},useMemo:function(e,t){var s=Pr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Pr();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=w4.bind(null,mt,e),[n.memoizedState,e]},useRef:function(e){var t=Pr();return e={current:e},t.memoizedState=e},useState:qy,useDebugValue:Hg,useDeferredValue:function(e){return Pr().memoizedState=e},useTransition:function(){var e=qy(!1),t=e[0];return e=y4.bind(null,e[1]),Pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=mt,a=Pr();if(lt){if(s===void 0)throw Error(oe(407));s=s()}else{if(s=t(),It===null)throw Error(oe(349));qa&30||IN(n,t,s)}a.memoizedState=s;var i={value:s,getSnapshot:t};return a.queue=i,By(MN.bind(null,n,i,e),[e]),n.flags|=2048,Fl(9,ON.bind(null,n,i,s,t),void 0,null),s},useId:function(){var e=Pr(),t=It.identifierPrefix;if(lt){var s=rn,n=sn;s=(n&~(1<<32-gr(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Ml++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=v4++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},N4={readContext:ar,useCallback:zN,useContext:ar,useEffect:zg,useImperativeHandle:UN,useInsertionEffect:qN,useLayoutEffect:BN,useMemo:HN,useReducer:fm,useRef:VN,useState:function(){return fm(Ll)},useDebugValue:Hg,useDeferredValue:function(e){var t=ir();return WN(t,_t.memoizedState,e)},useTransition:function(){var e=fm(Ll)[0],t=ir().memoizedState;return[e,t]},useMutableSource:DN,useSyncExternalStore:RN,useId:KN,unstable_isNewReconciler:!1},_4={readContext:ar,useCallback:zN,useContext:ar,useEffect:zg,useImperativeHandle:UN,useInsertionEffect:qN,useLayoutEffect:BN,useMemo:HN,useReducer:gm,useRef:VN,useState:function(){return gm(Ll)},useDebugValue:Hg,useDeferredValue:function(e){var t=ir();return _t===null?t.memoizedState=e:WN(t,_t.memoizedState,e)},useTransition:function(){var e=gm(Ll)[0],t=ir().memoizedState;return[e,t]},useMutableSource:DN,useSyncExternalStore:RN,useId:KN,unstable_isNewReconciler:!1};function dr(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function zp(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:ft({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ju={isMounted:function(e){return(e=e._reactInternals)?Ya(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=cs(),a=Un(e),i=nn(n,a);i.payload=t,s!=null&&(i.callback=s),t=Bn(e,i,a),t!==null&&(xr(t,e,a,n),Sd(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=cs(),a=Un(e),i=nn(n,a);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=Bn(e,i,a),t!==null&&(xr(t,e,a,n),Sd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=cs(),n=Un(e),a=nn(s,n);a.tag=2,t!=null&&(a.callback=t),t=Bn(e,a,n),t!==null&&(xr(t,e,n,s),Sd(t,e,n))}};function $y(e,t,s,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Al(s,n)||!Al(a,i):!0}function JN(e,t,s){var n=!1,a=Gn,i=t.contextType;return typeof i=="object"&&i!==null?i=ar(i):(a=bs(t)?Fa:Jt.current,n=t.contextTypes,i=(n=n!=null)?Zi(e,a):Gn),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ju,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Uy(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Ju.enqueueReplaceState(t,t.state,null)}function Hp(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Lg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ar(i):(i=bs(t)?Fa:Jt.current,a.context=Zi(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(zp(e,t,i,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ju.enqueueReplaceState(a,a.state,null),su(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ro(e,t){try{var s="",n=t;do s+=QA(n),n=n.return;while(n);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function xm(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Wp(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var S4=typeof WeakMap=="function"?WeakMap:Map;function QN(e,t,s){s=nn(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){ou||(ou=!0,sf=n),Wp(e,t)},s}function ZN(e,t,s){s=nn(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){Wp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){Wp(e,t),typeof n!="function"&&($n===null?$n=new Set([this]):$n.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function zy(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new S4;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=V4.bind(null,e,t,s),t.then(e,e))}function Hy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wy(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=nn(-1,1),t.tag=2,Bn(s,t,1))),s.lanes|=1),e)}var C4=vn.ReactCurrentOwner,ys=!1;function is(e,t,s,n){t.child=e===null?EN(t,null,s,n):to(t,e.child,s,n)}function Ky(e,t,s,n,a){s=s.render;var i=t.ref;return Bi(t,a),n=$g(e,t,s,n,i,a),s=Ug(),e!==null&&!ys?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hn(e,t,a)):(lt&&s&&Ag(t),t.flags|=1,is(e,t,n,a),t.child)}function Gy(e,t,s,n,a){if(e===null){var i=s.type;return typeof i=="function"&&!Zg(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,e_(e,t,i,n,a)):(e=Td(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:Al,s(o,n)&&e.ref===t.ref)return hn(e,t,a)}return t.flags|=1,e=zn(i,n),e.ref=t.ref,e.return=t,t.child=e}function e_(e,t,s,n,a){if(e!==null){var i=e.memoizedProps;if(Al(i,n)&&e.ref===t.ref)if(ys=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(ys=!0);else return t.lanes=e.lanes,hn(e,t,a)}return Kp(e,t,s,n,a)}function t_(e,t,s){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Ti,As),As|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(Ti,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:s,et(Ti,As),As|=n}else i!==null?(n=i.baseLanes|s,t.memoizedState=null):n=s,et(Ti,As),As|=n;return is(e,t,a,s),t.child}function s_(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Kp(e,t,s,n,a){var i=bs(s)?Fa:Jt.current;return i=Zi(t,i),Bi(t,a),s=$g(e,t,s,n,i,a),n=Ug(),e!==null&&!ys?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hn(e,t,a)):(lt&&n&&Ag(t),t.flags|=1,is(e,t,s,a),t.child)}function Yy(e,t,s,n,a){if(bs(s)){var i=!0;Jd(t)}else i=!1;if(Bi(t,a),t.stateNode===null)Ed(e,t),JN(t,s,n),Hp(t,s,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=ar(d):(d=bs(s)?Fa:Jt.current,d=Zi(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Uy(t,o,n,d),An=!1;var p=t.memoizedState;o.state=p,su(t,n,o,a),c=t.memoizedState,l!==n||p!==c||ws.current||An?(typeof u=="function"&&(zp(t,s,u,n),c=t.memoizedState),(l=An||$y(t,s,l,n,p,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,AN(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:dr(t.type,l),o.props=d,h=t.pendingProps,p=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=ar(c):(c=bs(s)?Fa:Jt.current,c=Zi(t,c));var f=s.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&Uy(t,o,n,c),An=!1,p=t.memoizedState,o.state=p,su(t,n,o,a);var g=t.memoizedState;l!==h||p!==g||ws.current||An?(typeof f=="function"&&(zp(t,s,f,n),g=t.memoizedState),(d=An||$y(t,s,d,n,p,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Gp(e,t,s,n,i,a)}function Gp(e,t,s,n,a,i){s_(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Iy(t,s,!1),hn(e,t,i);n=t.stateNode,C4.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=to(t,e.child,null,i),t.child=to(t,null,l,i)):is(e,t,l,i),t.memoizedState=n.state,a&&Iy(t,s,!0),t.child}function r_(e){var t=e.stateNode;t.pendingContext?Ry(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ry(e,t.context,!1),Fg(e,t.containerInfo)}function Xy(e,t,s,n,a){return eo(),Dg(a),t.flags|=256,is(e,t,s,n),t.child}var Yp={dehydrated:null,treeContext:null,retryLane:0};function Xp(e){return{baseLanes:e,cachePool:null,transitions:null}}function n_(e,t,s){var n=t.pendingProps,a=dt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),et(dt,a&1),e===null)return $p(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=eh(o,n,0,null),e=Ra(e,n,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Xp(s),t.memoizedState=Yp,e):Wg(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return k4(e,t,o,n,l,a,s);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=zn(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=zn(l,i):(i=Ra(i,o,s,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Xp(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=Yp,n}return i=e.child,e=i.sibling,n=zn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Wg(e,t){return t=eh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wc(e,t,s,n){return n!==null&&Dg(n),to(t,e.child,null,s),e=Wg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k4(e,t,s,n,a,i,o){if(s)return t.flags&256?(t.flags&=-257,n=xm(Error(oe(422))),Wc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=eh({mode:"visible",children:n.children},a,0,null),i=Ra(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&to(t,e.child,null,o),t.child.memoizedState=Xp(o),t.memoizedState=Yp,i);if(!(t.mode&1))return Wc(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(oe(419)),n=xm(i,n,void 0),Wc(e,t,o,n)}if(l=(o&e.childLanes)!==0,ys||l){if(n=It,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,un(e,a),xr(n,e,a,-1))}return Qg(),n=xm(Error(oe(421))),Wc(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=q4.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ds=qn(a.nextSibling),Os=t,lt=!0,mr=null,e!==null&&(Xs[Js++]=sn,Xs[Js++]=rn,Xs[Js++]=Va,sn=e.id,rn=e.overflow,Va=t),t=Wg(t,n.children),t.flags|=4096,t)}function Jy(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Up(e.return,t,s)}function vm(e,t,s,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=a)}function a_(e,t,s){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(is(e,t,n.children,s),n=dt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jy(e,s,t);else if(e.tag===19)Jy(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(et(dt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&ru(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),vm(t,!1,a,s,i);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ru(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}vm(t,!0,s,null,i);break;case"together":vm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ed(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ba|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,s=zn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=zn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function E4(e,t,s){switch(t.tag){case 3:r_(t),eo();break;case 5:TN(t);break;case 1:bs(t.type)&&Jd(t);break;case 4:Fg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;et(eu,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(et(dt,dt.current&1),t.flags|=128,null):s&t.child.childLanes?n_(e,t,s):(et(dt,dt.current&1),e=hn(e,t,s),e!==null?e.sibling:null);et(dt,dt.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return a_(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),et(dt,dt.current),n)break;return null;case 22:case 23:return t.lanes=0,t_(e,t,s)}return hn(e,t,s)}var i_,Jp,o_,l_;i_=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Jp=function(){};o_=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ea(Ir.current);var i=null;switch(s){case"input":a=yp(e,a),n=yp(e,n),i=[];break;case"select":a=ft({},a,{value:void 0}),n=ft({},n,{value:void 0}),i=[];break;case"textarea":a=jp(e,a),n=jp(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yd)}_p(s,n);var o;s=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Nl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&nt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};l_=function(e,t,s,n){s!==n&&(t.flags|=4)};function Fo(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function P4(e,t,s){var n=t.pendingProps;switch(Tg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(t),null;case 1:return bs(t.type)&&Xd(),Wt(t),null;case 3:return n=t.stateNode,so(),at(ws),at(Jt),qg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mr!==null&&(af(mr),mr=null))),Jp(e,t),Wt(t),null;case 5:Vg(t);var a=Ea(Ol.current);if(s=t.type,e!==null&&t.stateNode!=null)o_(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(oe(166));return Wt(t),null}if(e=Ea(Ir.current),zc(t)){n=t.stateNode,s=t.type;var i=t.memoizedProps;switch(n[Ar]=t,n[Rl]=i,e=(t.mode&1)!==0,s){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(a=0;a<sl.length;a++)nt(sl[a],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":iy(n,i),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},nt("invalid",n);break;case"textarea":ly(n,i),nt("invalid",n)}_p(s,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Uc(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Uc(n.textContent,l,e),a=["children",""+l]):Nl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&nt("scroll",n)}switch(s){case"input":Oc(n),oy(n,i,!0);break;case"textarea":Oc(n),cy(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Yd)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mj(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[Ar]=t,e[Rl]=n,i_(e,t,!1,!1),t.stateNode=e;e:{switch(o=Sp(s,n),s){case"dialog":nt("cancel",e),nt("close",e),a=n;break;case"iframe":case"object":case"embed":nt("load",e),a=n;break;case"video":case"audio":for(a=0;a<sl.length;a++)nt(sl[a],e);a=n;break;case"source":nt("error",e),a=n;break;case"img":case"image":case"link":nt("error",e),nt("load",e),a=n;break;case"details":nt("toggle",e),a=n;break;case"input":iy(e,n),a=yp(e,n),nt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ft({},n,{value:void 0}),nt("invalid",e);break;case"textarea":ly(e,n),a=jp(e,n),nt("invalid",e);break;default:a=n}_p(s,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Vj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Lj(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&_l(e,c):typeof c=="number"&&_l(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&nt("scroll",e):c!=null&&gg(e,i,c,o))}switch(s){case"input":Oc(e),oy(e,n,!1);break;case"textarea":Oc(e),cy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Kn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Li(e,!!n.multiple,i,!1):n.defaultValue!=null&&Li(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yd)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wt(t),null;case 6:if(e&&t.stateNode!=null)l_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(oe(166));if(s=Ea(Ol.current),Ea(Ir.current),zc(t)){if(n=t.stateNode,s=t.memoizedProps,n[Ar]=t,(i=n.nodeValue!==s)&&(e=Os,e!==null))switch(e.tag){case 3:Uc(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uc(n.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Ar]=t,t.stateNode=n}return Wt(t),null;case 13:if(at(dt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&Ds!==null&&t.mode&1&&!(t.flags&128))CN(),eo(),t.flags|=98560,i=!1;else if(i=zc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(oe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));i[Ar]=t}else eo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wt(t),i=!1}else mr!==null&&(af(mr),mr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?Ct===0&&(Ct=3):Qg())),t.updateQueue!==null&&(t.flags|=4),Wt(t),null);case 4:return so(),Jp(e,t),e===null&&Tl(t.stateNode.containerInfo),Wt(t),null;case 10:return Og(t.type._context),Wt(t),null;case 17:return bs(t.type)&&Xd(),Wt(t),null;case 19:if(at(dt),i=t.memoizedState,i===null)return Wt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Fo(i,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ru(e),o!==null){for(t.flags|=128,Fo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)i=s,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return et(dt,dt.current&1|2),t.child}e=e.sibling}i.tail!==null&&bt()>no&&(t.flags|=128,n=!0,Fo(i,!1),t.lanes=4194304)}else{if(!n)if(e=ru(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Fo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lt)return Wt(t),null}else 2*bt()-i.renderingStartTime>no&&s!==1073741824&&(t.flags|=128,n=!0,Fo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(s=i.last,s!==null?s.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=bt(),t.sibling=null,s=dt.current,et(dt,n?s&1|2:s&1),t):(Wt(t),null);case 22:case 23:return Jg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?As&1073741824&&(Wt(t),t.subtreeFlags&6&&(t.flags|=8192)):Wt(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function A4(e,t){switch(Tg(t),t.tag){case 1:return bs(t.type)&&Xd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return so(),at(ws),at(Jt),qg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vg(t),null;case 13:if(at(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));eo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return at(dt),null;case 4:return so(),null;case 10:return Og(t.type._context),null;case 22:case 23:return Jg(),null;case 24:return null;default:return null}}var Kc=!1,Gt=!1,T4=typeof WeakSet=="function"?WeakSet:Set,be=null;function Ai(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){xt(e,t,n)}else s.current=null}function Qp(e,t,s){try{s()}catch(n){xt(e,t,n)}}var Qy=!1;function D4(e,t){if(Op=Wd,e=mN(),Pg(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var f;h!==s||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===s&&++d===a&&(l=o),p===i&&++u===n&&(c=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Mp={focusedElem:e,selectionRange:s},Wd=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,w=g.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:dr(t.type,x),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(N){xt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return g=Qy,Qy=!1,g}function fl(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Qp(t,s,i)}a=a.next}while(a!==n)}}function Qu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Zp(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function c_(e){var t=e.alternate;t!==null&&(e.alternate=null,c_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ar],delete t[Rl],delete t[Vp],delete t[p4],delete t[f4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function d_(e){return e.tag===5||e.tag===3||e.tag===4}function Zy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||d_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ef(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Yd));else if(n!==4&&(e=e.child,e!==null))for(ef(e,t,s),e=e.sibling;e!==null;)ef(e,t,s),e=e.sibling}function tf(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(tf(e,t,s),e=e.sibling;e!==null;)tf(e,t,s),e=e.sibling}var Lt=null,ur=!1;function jn(e,t,s){for(s=s.child;s!==null;)u_(e,t,s),s=s.sibling}function u_(e,t,s){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(zu,s)}catch{}switch(s.tag){case 5:Gt||Ai(s,t);case 6:var n=Lt,a=ur;Lt=null,jn(e,t,s),Lt=n,ur=a,Lt!==null&&(ur?(e=Lt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Lt.removeChild(s.stateNode));break;case 18:Lt!==null&&(ur?(e=Lt,s=s.stateNode,e.nodeType===8?um(e.parentNode,s):e.nodeType===1&&um(e,s),El(e)):um(Lt,s.stateNode));break;case 4:n=Lt,a=ur,Lt=s.stateNode.containerInfo,ur=!0,jn(e,t,s),Lt=n,ur=a;break;case 0:case 11:case 14:case 15:if(!Gt&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Qp(s,t,o),a=a.next}while(a!==n)}jn(e,t,s);break;case 1:if(!Gt&&(Ai(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){xt(s,t,l)}jn(e,t,s);break;case 21:jn(e,t,s);break;case 22:s.mode&1?(Gt=(n=Gt)||s.memoizedState!==null,jn(e,t,s),Gt=n):jn(e,t,s);break;default:jn(e,t,s)}}function e0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new T4),t.forEach(function(n){var a=B4.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function or(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Lt=l.stateNode,ur=!1;break e;case 3:Lt=l.stateNode.containerInfo,ur=!0;break e;case 4:Lt=l.stateNode.containerInfo,ur=!0;break e}l=l.return}if(Lt===null)throw Error(oe(160));u_(i,o,a),Lt=null,ur=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){xt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)h_(t,e),t=t.sibling}function h_(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(or(t,e),kr(e),n&4){try{fl(3,e,e.return),Qu(3,e)}catch(x){xt(e,e.return,x)}try{fl(5,e,e.return)}catch(x){xt(e,e.return,x)}}break;case 1:or(t,e),kr(e),n&512&&s!==null&&Ai(s,s.return);break;case 5:if(or(t,e),kr(e),n&512&&s!==null&&Ai(s,s.return),e.flags&32){var a=e.stateNode;try{_l(a,"")}catch(x){xt(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=s!==null?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ij(a,i),Sp(l,o);var d=Sp(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Vj(a,h):u==="dangerouslySetInnerHTML"?Lj(a,h):u==="children"?_l(a,h):gg(a,u,h,d)}switch(l){case"input":wp(a,i);break;case"textarea":Oj(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Li(a,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?Li(a,!!i.multiple,i.defaultValue,!0):Li(a,!!i.multiple,i.multiple?[]:"",!1))}a[Rl]=i}catch(x){xt(e,e.return,x)}}break;case 6:if(or(t,e),kr(e),n&4){if(e.stateNode===null)throw Error(oe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){xt(e,e.return,x)}}break;case 3:if(or(t,e),kr(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{El(t.containerInfo)}catch(x){xt(e,e.return,x)}break;case 4:or(t,e),kr(e);break;case 13:or(t,e),kr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Yg=bt())),n&4&&e0(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Gt=(d=Gt)||u,or(t,e),Gt=d):or(t,e),kr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(be=e,u=e.child;u!==null;){for(h=be=u;be!==null;){switch(p=be,f=p.child,p.tag){case 0:case 11:case 14:case 15:fl(4,p,p.return);break;case 1:Ai(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,s=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){xt(n,s,x)}}break;case 5:Ai(p,p.return);break;case 22:if(p.memoizedState!==null){s0(h);continue}}f!==null?(f.return=p,be=f):s0(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Fj("display",o))}catch(x){xt(e,e.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){xt(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:or(t,e),kr(e),n&4&&e0(e);break;case 21:break;default:or(t,e),kr(e)}}function kr(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(d_(s)){var n=s;break e}s=s.return}throw Error(oe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(_l(a,""),n.flags&=-33);var i=Zy(e);tf(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Zy(e);ef(e,l,o);break;default:throw Error(oe(161))}}catch(c){xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R4(e,t,s){be=e,m_(e)}function m_(e,t,s){for(var n=(e.mode&1)!==0;be!==null;){var a=be,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Kc;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Gt;l=Kc;var d=Gt;if(Kc=o,(Gt=c)&&!d)for(be=a;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?r0(a):c!==null?(c.return=o,be=c):r0(a);for(;i!==null;)be=i,m_(i),i=i.sibling;be=a,Kc=l,Gt=d}t0(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,be=i):t0(e)}}function t0(e){for(;be!==null;){var t=be;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gt||Qu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Gt)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:dr(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Vy(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Vy(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&El(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Gt||t.flags&512&&Zp(t)}catch(p){xt(t,t.return,p)}}if(t===e){be=null;break}if(s=t.sibling,s!==null){s.return=t.return,be=s;break}be=t.return}}function s0(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var s=t.sibling;if(s!==null){s.return=t.return,be=s;break}be=t.return}}function r0(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Qu(4,t)}catch(c){xt(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){xt(t,a,c)}}var i=t.return;try{Zp(t)}catch(c){xt(t,i,c)}break;case 5:var o=t.return;try{Zp(t)}catch(c){xt(t,o,c)}}}catch(c){xt(t,t.return,c)}if(t===e){be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,be=l;break}be=t.return}}var I4=Math.ceil,iu=vn.ReactCurrentDispatcher,Kg=vn.ReactCurrentOwner,tr=vn.ReactCurrentBatchConfig,Ke=0,It=null,Nt=null,qt=0,As=0,Ti=ia(0),Ct=0,Vl=null,Ba=0,Zu=0,Gg=0,gl=null,xs=null,Yg=0,no=1/0,Zr=null,ou=!1,sf=null,$n=null,Gc=!1,On=null,lu=0,xl=0,rf=null,Pd=-1,Ad=0;function cs(){return Ke&6?bt():Pd!==-1?Pd:Pd=bt()}function Un(e){return e.mode&1?Ke&2&&qt!==0?qt&-qt:x4.transition!==null?(Ad===0&&(Ad=Jj()),Ad):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:nN(e.type)),e):1}function xr(e,t,s,n){if(50<xl)throw xl=0,rf=null,Error(oe(185));nc(e,s,n),(!(Ke&2)||e!==It)&&(e===It&&(!(Ke&2)&&(Zu|=s),Ct===4&&Rn(e,qt)),js(e,n),s===1&&Ke===0&&!(t.mode&1)&&(no=bt()+500,Yu&&oa()))}function js(e,t){var s=e.callbackNode;xT(e,t);var n=Hd(e,e===It?qt:0);if(n===0)s!==null&&hy(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&hy(s),t===1)e.tag===0?g4(n0.bind(null,e)):NN(n0.bind(null,e)),h4(function(){!(Ke&6)&&oa()}),s=null;else{switch(Qj(n)){case 1:s=bg;break;case 4:s=Yj;break;case 16:s=zd;break;case 536870912:s=Xj;break;default:s=zd}s=b_(s,p_.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function p_(e,t){if(Pd=-1,Ad=0,Ke&6)throw Error(oe(327));var s=e.callbackNode;if($i()&&e.callbackNode!==s)return null;var n=Hd(e,e===It?qt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=cu(e,n);else{t=n;var a=Ke;Ke|=2;var i=g_();(It!==e||qt!==t)&&(Zr=null,no=bt()+500,Da(e,t));do try{L4();break}catch(l){f_(e,l)}while(1);Ig(),iu.current=i,Ke=a,Nt!==null?t=0:(It=null,qt=0,t=Ct)}if(t!==0){if(t===2&&(a=Ap(e),a!==0&&(n=a,t=nf(e,a))),t===1)throw s=Vl,Da(e,0),Rn(e,n),js(e,bt()),s;if(t===6)Rn(e,n);else{if(a=e.current.alternate,!(n&30)&&!O4(a)&&(t=cu(e,n),t===2&&(i=Ap(e),i!==0&&(n=i,t=nf(e,i))),t===1))throw s=Vl,Da(e,0),Rn(e,n),js(e,bt()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(oe(345));case 2:ya(e,xs,Zr);break;case 3:if(Rn(e,n),(n&130023424)===n&&(t=Yg+500-bt(),10<t)){if(Hd(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){cs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Fp(ya.bind(null,e,xs,Zr),t);break}ya(e,xs,Zr);break;case 4:if(Rn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-gr(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=bt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*I4(n/1960))-n,10<n){e.timeoutHandle=Fp(ya.bind(null,e,xs,Zr),n);break}ya(e,xs,Zr);break;case 5:ya(e,xs,Zr);break;default:throw Error(oe(329))}}}return js(e,bt()),e.callbackNode===s?p_.bind(null,e):null}function nf(e,t){var s=gl;return e.current.memoizedState.isDehydrated&&(Da(e,t).flags|=256),e=cu(e,t),e!==2&&(t=xs,xs=s,t!==null&&af(t)),e}function af(e){xs===null?xs=e:xs.push.apply(xs,e)}function O4(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],i=a.getSnapshot;a=a.value;try{if(!wr(i(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~Gg,t&=~Zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-gr(t),n=1<<s;e[s]=-1,t&=~n}}function n0(e){if(Ke&6)throw Error(oe(327));$i();var t=Hd(e,0);if(!(t&1))return js(e,bt()),null;var s=cu(e,t);if(e.tag!==0&&s===2){var n=Ap(e);n!==0&&(t=n,s=nf(e,n))}if(s===1)throw s=Vl,Da(e,0),Rn(e,t),js(e,bt()),s;if(s===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ya(e,xs,Zr),js(e,bt()),null}function Xg(e,t){var s=Ke;Ke|=1;try{return e(t)}finally{Ke=s,Ke===0&&(no=bt()+500,Yu&&oa())}}function $a(e){On!==null&&On.tag===0&&!(Ke&6)&&$i();var t=Ke;Ke|=1;var s=tr.transition,n=Ye;try{if(tr.transition=null,Ye=1,e)return e()}finally{Ye=n,tr.transition=s,Ke=t,!(Ke&6)&&oa()}}function Jg(){As=Ti.current,at(Ti)}function Da(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,u4(s)),Nt!==null)for(s=Nt.return;s!==null;){var n=s;switch(Tg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xd();break;case 3:so(),at(ws),at(Jt),qg();break;case 5:Vg(n);break;case 4:so();break;case 13:at(dt);break;case 19:at(dt);break;case 10:Og(n.type._context);break;case 22:case 23:Jg()}s=s.return}if(It=e,Nt=e=zn(e.current,null),qt=As=t,Ct=0,Vl=null,Gg=Zu=Ba=0,xs=gl=null,ka!==null){for(t=0;t<ka.length;t++)if(s=ka[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,i=s.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}s.pending=n}ka=null}return e}function f_(e,t){do{var s=Nt;try{if(Ig(),Cd.current=au,nu){for(var n=mt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}nu=!1}if(qa=0,At=_t=mt=null,pl=!1,Ml=0,Kg.current=null,s===null||s.return===null){Ct=1,Vl=t,Nt=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=qt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Hy(o);if(f!==null){f.flags&=-257,Wy(f,o,l,i,t),f.mode&1&&zy(i,d,t),t=f,c=d;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){zy(i,d,t),Qg();break e}c=Error(oe(426))}}else if(lt&&l.mode&1){var w=Hy(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Wy(w,o,l,i,t),Dg(ro(c,l));break e}}i=c=ro(c,l),Ct!==4&&(Ct=2),gl===null?gl=[i]:gl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=QN(i,c,t);Fy(i,y);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&($n===null||!$n.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=ZN(i,l,t);Fy(i,N);break e}}i=i.return}while(i!==null)}v_(s)}catch(k){t=k,Nt===s&&s!==null&&(Nt=s=s.return);continue}break}while(1)}function g_(){var e=iu.current;return iu.current=au,e===null?au:e}function Qg(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),It===null||!(Ba&268435455)&&!(Zu&268435455)||Rn(It,qt)}function cu(e,t){var s=Ke;Ke|=2;var n=g_();(It!==e||qt!==t)&&(Zr=null,Da(e,t));do try{M4();break}catch(a){f_(e,a)}while(1);if(Ig(),Ke=s,iu.current=n,Nt!==null)throw Error(oe(261));return It=null,qt=0,Ct}function M4(){for(;Nt!==null;)x_(Nt)}function L4(){for(;Nt!==null&&!lT();)x_(Nt)}function x_(e){var t=w_(e.alternate,e,As);e.memoizedProps=e.pendingProps,t===null?v_(e):Nt=t,Kg.current=null}function v_(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=A4(s,t),s!==null){s.flags&=32767,Nt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,Nt=null;return}}else if(s=P4(s,t,As),s!==null){Nt=s;return}if(t=t.sibling,t!==null){Nt=t;return}Nt=t=e}while(t!==null);Ct===0&&(Ct=5)}function ya(e,t,s){var n=Ye,a=tr.transition;try{tr.transition=null,Ye=1,F4(e,t,s,n)}finally{tr.transition=a,Ye=n}return null}function F4(e,t,s,n){do $i();while(On!==null);if(Ke&6)throw Error(oe(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(vT(e,i),e===It&&(Nt=It=null,qt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Gc||(Gc=!0,b_(zd,function(){return $i(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=tr.transition,tr.transition=null;var o=Ye;Ye=1;var l=Ke;Ke|=4,Kg.current=null,D4(e,s),h_(s,e),n4(Mp),Wd=!!Op,Mp=Op=null,e.current=s,R4(s),cT(),Ke=l,Ye=o,tr.transition=i}else e.current=s;if(Gc&&(Gc=!1,On=e,lu=a),i=e.pendingLanes,i===0&&($n=null),hT(s.stateNode),js(e,bt()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(ou)throw ou=!1,e=sf,sf=null,e;return lu&1&&e.tag!==0&&$i(),i=e.pendingLanes,i&1?e===rf?xl++:(xl=0,rf=e):xl=0,oa(),null}function $i(){if(On!==null){var e=Qj(lu),t=tr.transition,s=Ye;try{if(tr.transition=null,Ye=16>e?16:e,On===null)var n=!1;else{if(e=On,On=null,lu=0,Ke&6)throw Error(oe(331));var a=Ke;for(Ke|=4,be=e.current;be!==null;){var i=be,o=i.child;if(be.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(be=d;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:fl(8,u,i)}var h=u.child;if(h!==null)h.return=u,be=h;else for(;be!==null;){u=be;var p=u.sibling,f=u.return;if(c_(u),u===d){be=null;break}if(p!==null){p.return=f,be=p;break}be=f}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,be=o;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,be=y;break e}be=i.return}}var v=e.current;for(be=v;be!==null;){o=be;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,be=b;else e:for(o=v;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qu(9,l)}}catch(k){xt(l,l.return,k)}if(l===o){be=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,be=N;break e}be=l.return}}if(Ke=a,oa(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(zu,e)}catch{}n=!0}return n}finally{Ye=s,tr.transition=t}}return!1}function a0(e,t,s){t=ro(s,t),t=QN(e,t,1),e=Bn(e,t,1),t=cs(),e!==null&&(nc(e,1,t),js(e,t))}function xt(e,t,s){if(e.tag===3)a0(e,e,s);else for(;t!==null;){if(t.tag===3){a0(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($n===null||!$n.has(n))){e=ro(s,e),e=ZN(t,e,1),t=Bn(t,e,1),e=cs(),t!==null&&(nc(t,1,e),js(t,e));break}}t=t.return}}function V4(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=cs(),e.pingedLanes|=e.suspendedLanes&s,It===e&&(qt&s)===s&&(Ct===4||Ct===3&&(qt&130023424)===qt&&500>bt()-Yg?Da(e,0):Gg|=s),js(e,t)}function y_(e,t){t===0&&(e.mode&1?(t=Fc,Fc<<=1,!(Fc&130023424)&&(Fc=4194304)):t=1);var s=cs();e=un(e,t),e!==null&&(nc(e,t,s),js(e,s))}function q4(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),y_(e,s)}function B4(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(oe(314))}n!==null&&n.delete(t),y_(e,s)}var w_;w_=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||ws.current)ys=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return ys=!1,E4(e,t,s);ys=!!(e.flags&131072)}else ys=!1,lt&&t.flags&1048576&&_N(t,Zd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ed(e,t),e=t.pendingProps;var a=Zi(t,Jt.current);Bi(t,s),a=$g(null,t,n,e,a,s);var i=Ug();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bs(n)?(i=!0,Jd(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Lg(t),a.updater=Ju,t.stateNode=a,a._reactInternals=t,Hp(t,n,e,s),t=Gp(null,t,n,!0,i,s)):(t.tag=0,lt&&i&&Ag(t),is(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Ed(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=U4(n),e=dr(n,e),a){case 0:t=Kp(null,t,n,e,s);break e;case 1:t=Yy(null,t,n,e,s);break e;case 11:t=Ky(null,t,n,e,s);break e;case 14:t=Gy(null,t,n,dr(n.type,e),s);break e}throw Error(oe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:dr(n,a),Kp(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:dr(n,a),Yy(e,t,n,a,s);case 3:e:{if(r_(t),e===null)throw Error(oe(387));n=t.pendingProps,i=t.memoizedState,a=i.element,AN(e,t),su(t,n,null,s);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ro(Error(oe(423)),t),t=Xy(e,t,n,s,a);break e}else if(n!==a){a=ro(Error(oe(424)),t),t=Xy(e,t,n,s,a);break e}else for(Ds=qn(t.stateNode.containerInfo.firstChild),Os=t,lt=!0,mr=null,s=EN(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(eo(),n===a){t=hn(e,t,s);break e}is(e,t,n,s)}t=t.child}return t;case 5:return TN(t),e===null&&$p(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Lp(n,a)?o=null:i!==null&&Lp(n,i)&&(t.flags|=32),s_(e,t),is(e,t,o,s),t.child;case 6:return e===null&&$p(t),null;case 13:return n_(e,t,s);case 4:return Fg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=to(t,null,n,s):is(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:dr(n,a),Ky(e,t,n,a,s);case 7:return is(e,t,t.pendingProps,s),t.child;case 8:return is(e,t,t.pendingProps.children,s),t.child;case 12:return is(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,et(eu,n._currentValue),n._currentValue=o,i!==null)if(wr(i.value,o)){if(i.children===a.children&&!ws.current){t=hn(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=nn(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),Up(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(oe(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Up(o,s,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}is(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Bi(t,s),a=ar(a),n=n(a),t.flags|=1,is(e,t,n,s),t.child;case 14:return n=t.type,a=dr(n,t.pendingProps),a=dr(n.type,a),Gy(e,t,n,a,s);case 15:return e_(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:dr(n,a),Ed(e,t),t.tag=1,bs(n)?(e=!0,Jd(t)):e=!1,Bi(t,s),JN(t,n,a),Hp(t,n,a,s),Gp(null,t,n,!0,e,s);case 19:return a_(e,t,s);case 22:return t_(e,t,s)}throw Error(oe(156,t.tag))};function b_(e,t){return Gj(e,t)}function $4(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(e,t,s,n){return new $4(e,t,s,n)}function Zg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function U4(e){if(typeof e=="function")return Zg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vg)return 11;if(e===yg)return 14}return 2}function zn(e,t){var s=e.alternate;return s===null?(s=er(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Td(e,t,s,n,a,i){var o=2;if(n=e,typeof e=="function")Zg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case bi:return Ra(s.children,a,i,t);case xg:o=8,a|=8;break;case fp:return e=er(12,s,t,a|2),e.elementType=fp,e.lanes=i,e;case gp:return e=er(13,s,t,a),e.elementType=gp,e.lanes=i,e;case xp:return e=er(19,s,t,a),e.elementType=xp,e.lanes=i,e;case Tj:return eh(s,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pj:o=10;break e;case Aj:o=9;break e;case vg:o=11;break e;case yg:o=14;break e;case Pn:o=16,n=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=er(o,s,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ra(e,t,s,n){return e=er(7,e,n,t),e.lanes=s,e}function eh(e,t,s,n){return e=er(22,e,n,t),e.elementType=Tj,e.lanes=s,e.stateNode={isHidden:!1},e}function ym(e,t,s){return e=er(6,e,null,t),e.lanes=s,e}function wm(e,t,s){return t=er(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function z4(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=em(0),this.expirationTimes=em(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=em(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ex(e,t,s,n,a,i,o,l,c){return e=new z4(e,t,s,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=er(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lg(i),e}function H4(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function j_(e){if(!e)return Gn;e=e._reactInternals;e:{if(Ya(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var s=e.type;if(bs(s))return jN(e,s,t)}return t}function N_(e,t,s,n,a,i,o,l,c){return e=ex(s,n,!0,e,a,i,o,l,c),e.context=j_(null),s=e.current,n=cs(),a=Un(s),i=nn(n,a),i.callback=t??null,Bn(s,i,a),e.current.lanes=a,nc(e,a,n),js(e,n),e}function th(e,t,s,n){var a=t.current,i=cs(),o=Un(a);return s=j_(s),t.context===null?t.context=s:t.pendingContext=s,t=nn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Bn(a,t,o),e!==null&&(xr(e,a,o,i),Sd(e,a,o)),o}function du(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function i0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function tx(e,t){i0(e,t),(e=e.alternate)&&i0(e,t)}function W4(){return null}var __=typeof reportError=="function"?reportError:function(e){console.error(e)};function sx(e){this._internalRoot=e}sh.prototype.render=sx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));th(e,t,null,null)};sh.prototype.unmount=sx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$a(function(){th(null,e,null,null)}),t[dn]=null}};function sh(e){this._internalRoot=e}sh.prototype.unstable_scheduleHydration=function(e){if(e){var t=tN();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Dn.length&&t!==0&&t<Dn[s].priority;s++);Dn.splice(s,0,e),s===0&&rN(e)}};function rx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function o0(){}function K4(e,t,s,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=du(o);i.call(d)}}var o=N_(t,n,e,0,null,!1,!1,"",o0);return e._reactRootContainer=o,e[dn]=o.current,Tl(e.nodeType===8?e.parentNode:e),$a(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=du(c);l.call(d)}}var c=ex(e,0,!1,null,null,!1,!1,"",o0);return e._reactRootContainer=c,e[dn]=c.current,Tl(e.nodeType===8?e.parentNode:e),$a(function(){th(t,c,s,n)}),c}function nh(e,t,s,n,a){var i=s._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=du(o);l.call(c)}}th(t,o,e,a)}else o=K4(s,t,e,a,n);return du(o)}Zj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=tl(t.pendingLanes);s!==0&&(jg(t,s|1),js(t,bt()),!(Ke&6)&&(no=bt()+500,oa()))}break;case 13:$a(function(){var n=un(e,1);if(n!==null){var a=cs();xr(n,e,1,a)}}),tx(e,1)}};Ng=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var s=cs();xr(t,e,134217728,s)}tx(e,134217728)}};eN=function(e){if(e.tag===13){var t=Un(e),s=un(e,t);if(s!==null){var n=cs();xr(s,e,t,n)}tx(e,t)}};tN=function(){return Ye};sN=function(e,t){var s=Ye;try{return Ye=e,t()}finally{Ye=s}};kp=function(e,t,s){switch(t){case"input":if(wp(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=Gu(n);if(!a)throw Error(oe(90));Rj(n),wp(n,a)}}}break;case"textarea":Oj(e,s);break;case"select":t=s.value,t!=null&&Li(e,!!s.multiple,t,!1)}};$j=Xg;Uj=$a;var G4={usingClientEntryPoint:!1,Events:[ic,Si,Gu,qj,Bj,Xg]},Vo={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y4={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wj(e),e===null?null:e.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||W4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{zu=Yc.inject(Y4),Rr=Yc}catch{}}Bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G4;Bs.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rx(t))throw Error(oe(200));return H4(e,t,null,s)};Bs.createRoot=function(e,t){if(!rx(e))throw Error(oe(299));var s=!1,n="",a=__;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ex(e,1,!1,null,null,s,!1,n,a),e[dn]=t.current,Tl(e.nodeType===8?e.parentNode:e),new sx(t)};Bs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=Wj(t),e=e===null?null:e.stateNode,e};Bs.flushSync=function(e){return $a(e)};Bs.hydrate=function(e,t,s){if(!rh(t))throw Error(oe(200));return nh(null,e,t,!0,s)};Bs.hydrateRoot=function(e,t,s){if(!rx(e))throw Error(oe(405));var n=s!=null&&s.hydratedSources||null,a=!1,i="",o=__;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=N_(t,null,e,1,s??null,a,!1,i,o),e[dn]=t.current,Tl(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new sh(t)};Bs.render=function(e,t,s){if(!rh(t))throw Error(oe(200));return nh(null,e,t,!1,s)};Bs.unmountComponentAtNode=function(e){if(!rh(e))throw Error(oe(40));return e._reactRootContainer?($a(function(){nh(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};Bs.unstable_batchedUpdates=Xg;Bs.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!rh(s))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return nh(e,t,s,!1,n)};Bs.version="18.3.1-next-f1338f8080-20240426";function S_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S_)}catch(e){console.error(e)}}S_(),Sj.exports=Bs;var Xa=Sj.exports;const X4=na(Xa);var l0=Xa;mp.createRoot=l0.createRoot,mp.hydrateRoot=l0.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ql.apply(this,arguments)}var Mn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mn||(Mn={}));const c0="popstate";function J4(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return of("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:uu(a)}return Z4(t,s,null,e)}function pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function C_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Q4(){return Math.random().toString(36).substr(2,8)}function d0(e,t){return{usr:e.state,key:e.key,idx:t}}function of(e,t,s,n){return s===void 0&&(s=null),ql({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yo(t):t,{state:s,key:t&&t.key||n||Q4()})}function uu(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yo(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Z4(e,t,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Mn.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(ql({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Mn.Pop;let w=u(),y=w==null?null:w-d;d=w,c&&c({action:l,location:x.location,delta:y})}function p(w,y){l=Mn.Push;let v=of(x.location,w,y);s&&s(v,w),d=u()+1;let b=d0(v,d),N=x.createHref(v);try{o.pushState(b,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(N)}i&&c&&c({action:l,location:x.location,delta:1})}function f(w,y){l=Mn.Replace;let v=of(x.location,w,y);s&&s(v,w),d=u();let b=d0(v,d),N=x.createHref(v);o.replaceState(b,"",N),i&&c&&c({action:l,location:x.location,delta:0})}function g(w){let y=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof w=="string"?w:uu(w);return v=v.replace(/ $/,"%20"),pt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let x={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(c0,h),c=w,()=>{a.removeEventListener(c0,h),c=null}},createHref(w){return t(a,w)},createURL:g,encodeLocation(w){let y=g(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:f,go(w){return o.go(w)}};return x}var u0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(u0||(u0={}));function eD(e,t,s){return s===void 0&&(s="/"),tD(e,t,s,!1)}function tD(e,t,s,n){let a=typeof t=="string"?yo(t):t,i=ao(a.pathname||"/",s);if(i==null)return null;let o=k_(e);sD(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=mD(i);l=uD(o[c],d,n)}return l}function k_(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(pt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Hn([n,c.relativePath]),u=s.concat(c);i.children&&i.children.length>0&&(pt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),k_(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:cD(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of E_(i.path))a(i,o,c)}),t}function E_(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=E_(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function sD(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:dD(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const rD=/^:[\w-]+$/,nD=3,aD=2,iD=1,oD=10,lD=-2,h0=e=>e==="*";function cD(e,t){let s=e.split("/"),n=s.length;return s.some(h0)&&(n+=lD),t&&(n+=aD),s.filter(a=>!h0(a)).reduce((a,i)=>a+(rD.test(i)?nD:i===""?iD:oD),n)}function dD(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function uD(e,t,s){s===void 0&&(s=!1);let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=hu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!h&&d&&s&&!n[n.length-1].route.index&&(h=hu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Hn([i,h.pathname]),pathnameBase:xD(Hn([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Hn([i,h.pathnameBase]))}return o}function hu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=hD(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:p,isOptional:f}=u;if(p==="*"){let x=l[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[h];return f&&!g?d[p]=void 0:d[p]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function hD(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),C_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function mD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return C_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ao(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function pD(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?yo(e):e;return{pathname:s?s.startsWith("/")?s:fD(s,t):t,search:vD(n),hash:yD(a)}}function fD(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function bm(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gD(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function nx(e,t){let s=gD(e);return t?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function ax(e,t,s,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=yo(e):(a=ql({},e),pt(!a.pathname||!a.pathname.includes("?"),bm("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),bm("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),bm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=s;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;a.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=pD(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Hn=e=>e.join("/").replace(/\/\/+/g,"/"),xD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const P_=["post","put","patch","delete"];new Set(P_);const bD=["get",...P_];new Set(bD);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Bl.apply(this,arguments)}const ah=m.createContext(null),A_=m.createContext(null),yn=m.createContext(null),ih=m.createContext(null),Hr=m.createContext({outlet:null,matches:[],isDataRoute:!1}),T_=m.createContext(null);function jD(e,t){let{relative:s}=t===void 0?{}:t;wo()||pt(!1);let{basename:n,navigator:a}=m.useContext(yn),{hash:i,pathname:o,search:l}=oh(e,{relative:s}),c=o;return n!=="/"&&(c=o==="/"?n:Hn([n,o])),a.createHref({pathname:c,search:l,hash:i})}function wo(){return m.useContext(ih)!=null}function Zt(){return wo()||pt(!1),m.useContext(ih).location}function D_(e){m.useContext(yn).static||m.useLayoutEffect(e)}function Ue(){let{isDataRoute:e}=m.useContext(Hr);return e?LD():ND()}function ND(){wo()||pt(!1);let e=m.useContext(ah),{basename:t,future:s,navigator:n}=m.useContext(yn),{matches:a}=m.useContext(Hr),{pathname:i}=Zt(),o=JSON.stringify(nx(a,s.v7_relativeSplatPath)),l=m.useRef(!1);return D_(()=>{l.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=ax(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Hn([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,i,e])}const _D=m.createContext(null);function SD(e){let t=m.useContext(Hr).outlet;return t&&m.createElement(_D.Provider,{value:e},t)}function Wr(){let{matches:e}=m.useContext(Hr),t=e[e.length-1];return t?t.params:{}}function oh(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=m.useContext(yn),{matches:a}=m.useContext(Hr),{pathname:i}=Zt(),o=JSON.stringify(nx(a,n.v7_relativeSplatPath));return m.useMemo(()=>ax(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function CD(e,t){return kD(e,t)}function kD(e,t,s,n){wo()||pt(!1);let{navigator:a}=m.useContext(yn),{matches:i}=m.useContext(Hr),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Zt(),u;if(t){var h;let w=typeof t=="string"?yo(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||pt(!1),u=w}else u=d;let p=u.pathname||"/",f=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=eD(e,{pathname:f}),x=DD(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Hn([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Hn([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,s,n);return t&&x?m.createElement(ih.Provider,{value:{location:Bl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Mn.Pop}},x):x}function ED(){let e=MD(),t=wD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),s?m.createElement("pre",{style:a},s):null,i)}const PD=m.createElement(ED,null);class AD extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?m.createElement(Hr.Provider,{value:this.props.routeContext},m.createElement(T_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TD(e){let{routeContext:t,match:s,children:n}=e,a=m.useContext(ah);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),m.createElement(Hr.Provider,{value:t},n)}function DD(e,t,s,n){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(a=s)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||pt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:p,errors:f}=s,g=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let f,g=!1,x=null,w=null;s&&(f=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||PD,c&&(d<0&&p===0?(FD("route-fallback",!1),g=!0,w=null):d===p&&(g=!0,w=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,p+1)),v=()=>{let b;return f?b=x:g?b=w:h.route.Component?b=m.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,m.createElement(TD,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:s!=null},children:b})};return s&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?m.createElement(AD,{location:s.location,revalidation:s.revalidation,component:x,error:f,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var R_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(R_||{}),mu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mu||{});function RD(e){let t=m.useContext(ah);return t||pt(!1),t}function ID(e){let t=m.useContext(A_);return t||pt(!1),t}function OD(e){let t=m.useContext(Hr);return t||pt(!1),t}function I_(e){let t=OD(),s=t.matches[t.matches.length-1];return s.route.id||pt(!1),s.route.id}function MD(){var e;let t=m.useContext(T_),s=ID(mu.UseRouteError),n=I_(mu.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function LD(){let{router:e}=RD(R_.UseNavigateStable),t=I_(mu.UseNavigateStable),s=m.useRef(!1);return D_(()=>{s.current=!0}),m.useCallback(function(a,i){i===void 0&&(i={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Bl({fromRouteId:t},i)))},[e,t])}const m0={};function FD(e,t,s){!t&&!m0[e]&&(m0[e]=!0)}const p0={};function VD(e,t){p0[t]||(p0[t]=!0,console.warn(t))}const di=(e,t,s)=>VD(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+s+"."));function qD(e,t){(e==null?void 0:e.v7_startTransition)===void 0&&di("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||!t.v7_relativeSplatPath)&&di("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist===void 0&&di("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod===void 0&&di("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration===void 0&&di("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation===void 0&&di("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function Tt(e){let{to:t,replace:s,state:n,relative:a}=e;wo()||pt(!1);let{future:i,static:o}=m.useContext(yn),{matches:l}=m.useContext(Hr),{pathname:c}=Zt(),d=Ue(),u=ax(t,nx(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return m.useEffect(()=>d(JSON.parse(h),{replace:s,state:n,relative:a}),[d,h,a,s,n]),null}function la(e){return SD(e.context)}function Y(e){pt(!1)}function BD(e){let{basename:t="/",children:s=null,location:n,navigationType:a=Mn.Pop,navigator:i,static:o=!1,future:l}=e;wo()&&pt(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:i,static:o,future:Bl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=yo(n));let{pathname:u="/",search:h="",hash:p="",state:f=null,key:g="default"}=n,x=m.useMemo(()=>{let w=ao(u,c);return w==null?null:{location:{pathname:w,search:h,hash:p,state:f,key:g},navigationType:a}},[c,u,h,p,f,g,a]);return x==null?null:m.createElement(yn.Provider,{value:d},m.createElement(ih.Provider,{children:s,value:x}))}function bo(e){let{children:t,location:s}=e;return CD(lf(t),s)}new Promise(()=>{});function lf(e,t){t===void 0&&(t=[]);let s=[];return m.Children.forEach(e,(n,a)=>{if(!m.isValidElement(n))return;let i=[...t,a];if(n.type===m.Fragment){s.push.apply(s,lf(n.props.children,i));return}n.type!==Y&&pt(!1),!n.props.index||!n.props.children||pt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=lf(n.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},pu.apply(this,arguments)}function O_(e,t){if(e==null)return{};var s={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function $D(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UD(e,t){return e.button===0&&(!t||t==="_self")&&!$D(e)}function cf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let n=e[s];return t.concat(Array.isArray(n)?n.map(a=>[s,a]):[[s,n]])},[]))}function zD(e,t){let s=cf(e);return t&&t.forEach((n,a)=>{s.has(a)||t.getAll(a).forEach(i=>{s.append(a,i)})}),s}const HD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],KD="6";try{window.__reactRouterVersion=KD}catch{}const GD=m.createContext({isTransitioning:!1}),YD="startTransition",f0=Nj[YD];function XD(e){let{basename:t,children:s,future:n,window:a}=e,i=m.useRef();i.current==null&&(i.current=J4({window:a,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=m.useCallback(h=>{d&&f0?f0(()=>c(h)):c(h)},[c,d]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.useEffect(()=>qD(n),[n]),m.createElement(BD,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:n})}const JD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,re=m.forwardRef(function(t,s){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,p=O_(t,HD),{basename:f}=m.useContext(yn),g,x=!1;if(typeof d=="string"&&QD.test(d)&&(g=d,JD))try{let b=new URL(window.location.href),N=d.startsWith("//")?new URL(b.protocol+d):new URL(d),k=ao(N.pathname,f);N.origin===b.origin&&k!=null?d=k+N.search+N.hash:x=!0}catch{}let w=jD(d,{relative:a}),y=eR(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function v(b){n&&n(b),b.defaultPrevented||y(b)}return m.createElement("a",pu({},p,{href:g||w,onClick:x||i?n:v,ref:s,target:c}))}),M_=m.forwardRef(function(t,s){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,h=O_(t,WD),p=oh(c,{relative:h.relative}),f=Zt(),g=m.useContext(A_),{navigator:x,basename:w}=m.useContext(yn),y=g!=null&&tR(p)&&d===!0,v=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,b=f.pathname,N=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(b=b.toLowerCase(),N=N?N.toLowerCase():null,v=v.toLowerCase()),N&&w&&(N=ao(N,w)||N);const k=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let T=b===v||!o&&b.startsWith(v)&&b.charAt(k)==="/",A=N!=null&&(N===v||!o&&N.startsWith(v)&&N.charAt(v.length)==="/"),_={isActive:T,isPending:A,isTransitioning:y},C=T?n:void 0,I;typeof i=="function"?I=i(_):I=[i,T?"active":null,A?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let q=typeof l=="function"?l(_):l;return m.createElement(re,pu({},h,{"aria-current":C,className:I,ref:s,style:q,to:c,viewTransition:d}),typeof u=="function"?u(_):u)});var df;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(df||(df={}));var g0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(g0||(g0={}));function ZD(e){let t=m.useContext(ah);return t||pt(!1),t}function eR(e,t){let{target:s,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ue(),d=Zt(),u=oh(e,{relative:o});return m.useCallback(h=>{if(UD(h,s)){h.preventDefault();let p=n!==void 0?n:uu(d)===uu(u);c(e,{replace:p,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,s,e,i,o,l])}function lc(e){let t=m.useRef(cf(e)),s=m.useRef(!1),n=Zt(),a=m.useMemo(()=>zD(n.search,s.current?null:t.current),[n.search]),i=Ue(),o=m.useCallback((l,c)=>{const d=cf(typeof l=="function"?l(a):l);s.current=!0,i("?"+d,c)},[i,a]);return[a,o]}function tR(e,t){t===void 0&&(t={});let s=m.useContext(GD);s==null&&pt(!1);let{basename:n}=ZD(df.useViewTransitionState),a=oh(e,{relative:t.relative});if(!s.isTransitioning)return!1;let i=ao(s.currentLocation.pathname,n)||s.currentLocation.pathname,o=ao(s.nextLocation.pathname,n)||s.nextLocation.pathname;return hu(a.pathname,o)!=null||hu(a.pathname,i)!=null}var L_={exports:{}},sR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rR=sR,nR=rR;function F_(){}function V_(){}V_.resetWarningCache=F_;var aR=function(){function e(n,a,i,o,l,c){if(c!==nR){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:V_,resetWarningCache:F_};return s.PropTypes=s,s};L_.exports=aR();var iR=L_.exports;const Pe=na(iR);function oR(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var q_=m,lR=oR(q_);function x0(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function cR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var dR=!!(typeof window<"u"&&window.document&&window.document.createElement);function uR(e,t,s){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof s<"u"&&typeof s!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(u){return u.props})),d.canUseDOM?t(l):s&&(l=s(l))}var d=function(u){cR(h,u);function h(){return u.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=l;return l=void 0,o=[],g};var p=h.prototype;return p.UNSAFE_componentWillMount=function(){o.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),c()},p.render=function(){return lR.createElement(i,this.props)},h}(q_.PureComponent);return x0(d,"displayName","SideEffect("+n(i)+")"),x0(d,"canUseDOM",dR),d}}var hR=uR;const mR=na(hR);var pR=typeof Element<"u",fR=typeof Map=="function",gR=typeof Set=="function",xR=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Dd(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s,n,a;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(n=s;n--!==0;)if(!Dd(e[n],t[n]))return!1;return!0}var i;if(fR&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!Dd(n.value[1],t.get(n.value[0])))return!1;return!0}if(gR&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(xR&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(s=e.length,s!=t.length)return!1;for(n=s;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(pR&&e instanceof Element)return!1;for(n=s;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!Dd(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var vR=function(t,s){try{return Dd(t,s)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const yR=na(vR);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var v0=Object.getOwnPropertySymbols,wR=Object.prototype.hasOwnProperty,bR=Object.prototype.propertyIsEnumerable;function jR(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function NR(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},s=0;s<10;s++)t["_"+String.fromCharCode(s)]=s;var n=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var _R=NR()?Object.assign:function(e,t){for(var s,n=jR(e),a,i=1;i<arguments.length;i++){s=Object(arguments[i]);for(var o in s)wR.call(s,o)&&(n[o]=s[o]);if(v0){a=v0(s);for(var l=0;l<a.length;l++)bR.call(s,a[l])&&(n[a[l]]=s[a[l]])}}return n};const SR=na(_R);var Ia={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ve={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ve).map(function(e){return Ve[e]});var ot={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},fu={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},$l={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},CR=Object.keys(fu).reduce(function(e,t){return e[fu[t]]=t,e},{}),kR=[Ve.NOSCRIPT,Ve.SCRIPT,Ve.STYLE],fr="data-react-helmet",ER=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PR=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},AR=function(){function e(t,s){for(var n=0;n<s.length;n++){var a=s[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),gs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},TR=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},y0=function(e,t){var s={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s},DR=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},uf=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return s===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},RR=function(t){var s=Ui(t,Ve.TITLE),n=Ui(t,$l.TITLE_TEMPLATE);if(n&&s)return n.replace(/%s/g,function(){return Array.isArray(s)?s.join(""):s});var a=Ui(t,$l.DEFAULT_TITLE);return s||a||void 0},IR=function(t){return Ui(t,$l.ON_CHANGE_CLIENT_STATE)||function(){}},jm=function(t,s){return s.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,a){return gs({},n,a)},{})},OR=function(t,s){return s.filter(function(n){return typeof n[Ve.BASE]<"u"}).map(function(n){return n[Ve.BASE]}).reverse().reduce(function(n,a){if(!n.length)for(var i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&a[c])return n.concat(a)}return n},[])},qo=function(t,s,n){var a={};return n.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&VR("Helmet: "+t+' should be of type "Array". Instead found type "'+ER(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var l={};o.filter(function(p){for(var f=void 0,g=Object.keys(p),x=0;x<g.length;x++){var w=g[x],y=w.toLowerCase();s.indexOf(y)!==-1&&!(f===ot.REL&&p[f].toLowerCase()==="canonical")&&!(y===ot.REL&&p[y].toLowerCase()==="stylesheet")&&(f=y),s.indexOf(w)!==-1&&(w===ot.INNER_HTML||w===ot.CSS_TEXT||w===ot.ITEM_PROP)&&(f=w)}if(!f||!p[f])return!1;var v=p[f].toLowerCase();return a[f]||(a[f]={}),l[f]||(l[f]={}),a[f][v]?!1:(l[f][v]=!0,!0)}).reverse().forEach(function(p){return i.push(p)});for(var c=Object.keys(l),d=0;d<c.length;d++){var u=c[d],h=SR({},a[u],l[u]);a[u]=h}return i},[]).reverse()},Ui=function(t,s){for(var n=t.length-1;n>=0;n--){var a=t[n];if(a.hasOwnProperty(s))return a[s]}return null},MR=function(t){return{baseTag:OR([ot.HREF,ot.TARGET],t),bodyAttributes:jm(Ia.BODY,t),defer:Ui(t,$l.DEFER),encode:Ui(t,$l.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:jm(Ia.HTML,t),linkTags:qo(Ve.LINK,[ot.REL,ot.HREF],t),metaTags:qo(Ve.META,[ot.NAME,ot.CHARSET,ot.HTTPEQUIV,ot.PROPERTY,ot.ITEM_PROP],t),noscriptTags:qo(Ve.NOSCRIPT,[ot.INNER_HTML],t),onChangeClientState:IR(t),scriptTags:qo(Ve.SCRIPT,[ot.SRC,ot.INNER_HTML],t),styleTags:qo(Ve.STYLE,[ot.CSS_TEXT],t),title:RR(t),titleAttributes:jm(Ia.TITLE,t)}},hf=function(){var e=Date.now();return function(t){var s=Date.now();s-e>16?(e=s,t(s)):setTimeout(function(){hf(t)},0)}}(),w0=function(t){return clearTimeout(t)},LR=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||hf:global.requestAnimationFrame||hf,FR=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||w0:global.cancelAnimationFrame||w0,VR=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Bo=null,qR=function(t){Bo&&FR(Bo),t.defer?Bo=LR(function(){b0(t,function(){Bo=null})}):(b0(t),Bo=null)},b0=function(t,s){var n=t.baseTag,a=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.onChangeClientState,u=t.scriptTags,h=t.styleTags,p=t.title,f=t.titleAttributes;mf(Ve.BODY,a),mf(Ve.HTML,i),BR(p,f);var g={baseTag:ui(Ve.BASE,n),linkTags:ui(Ve.LINK,o),metaTags:ui(Ve.META,l),noscriptTags:ui(Ve.NOSCRIPT,c),scriptTags:ui(Ve.SCRIPT,u),styleTags:ui(Ve.STYLE,h)},x={},w={};Object.keys(g).forEach(function(y){var v=g[y],b=v.newTags,N=v.oldTags;b.length&&(x[y]=b),N.length&&(w[y]=g[y].oldTags)}),s&&s(),d(t,x,w)},B_=function(t){return Array.isArray(t)?t.join(""):t},BR=function(t,s){typeof t<"u"&&document.title!==t&&(document.title=B_(t)),mf(Ve.TITLE,s)},mf=function(t,s){var n=document.getElementsByTagName(t)[0];if(n){for(var a=n.getAttribute(fr),i=a?a.split(","):[],o=[].concat(i),l=Object.keys(s),c=0;c<l.length;c++){var d=l[c],u=s[d]||"";n.getAttribute(d)!==u&&n.setAttribute(d,u),i.indexOf(d)===-1&&i.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var p=o.length-1;p>=0;p--)n.removeAttribute(o[p]);i.length===o.length?n.removeAttribute(fr):n.getAttribute(fr)!==l.join(",")&&n.setAttribute(fr,l.join(","))}},ui=function(t,s){var n=document.head||document.querySelector(Ve.HEAD),a=n.querySelectorAll(t+"["+fr+"]"),i=Array.prototype.slice.call(a),o=[],l=void 0;return s&&s.length&&s.forEach(function(c){var d=document.createElement(t);for(var u in c)if(c.hasOwnProperty(u))if(u===ot.INNER_HTML)d.innerHTML=c.innerHTML;else if(u===ot.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[u]>"u"?"":c[u];d.setAttribute(u,h)}d.setAttribute(fr,"true"),i.some(function(p,f){return l=f,d.isEqualNode(p)})?i.splice(l,1):o.push(d)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:i,newTags:o}},$_=function(t){return Object.keys(t).reduce(function(s,n){var a=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return s?s+" "+a:a},"")},$R=function(t,s,n,a){var i=$_(n),o=B_(s);return i?"<"+t+" "+fr+'="true" '+i+">"+uf(o,a)+"</"+t+">":"<"+t+" "+fr+'="true">'+uf(o,a)+"</"+t+">"},UR=function(t,s,n){return s.reduce(function(a,i){var o=Object.keys(i).filter(function(d){return!(d===ot.INNER_HTML||d===ot.CSS_TEXT)}).reduce(function(d,u){var h=typeof i[u]>"u"?u:u+'="'+uf(i[u],n)+'"';return d?d+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=kR.indexOf(t)===-1;return a+"<"+t+" "+fr+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},U_=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,a){return n[fu[a]||a]=t[a],n},s)},zR=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,a){return n[CR[a]||a]=t[a],n},s)},HR=function(t,s,n){var a,i=(a={key:s},a[fr]=!0,a),o=U_(n,i);return[$e.createElement(Ve.TITLE,o,s)]},WR=function(t,s){return s.map(function(n,a){var i,o=(i={key:a},i[fr]=!0,i);return Object.keys(n).forEach(function(l){var c=fu[l]||l;if(c===ot.INNER_HTML||c===ot.CSS_TEXT){var d=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=n[l]}),$e.createElement(t,o)})},Yr=function(t,s,n){switch(t){case Ve.TITLE:return{toComponent:function(){return HR(t,s.title,s.titleAttributes)},toString:function(){return $R(t,s.title,s.titleAttributes,n)}};case Ia.BODY:case Ia.HTML:return{toComponent:function(){return U_(s)},toString:function(){return $_(s)}};default:return{toComponent:function(){return WR(t,s)},toString:function(){return UR(t,s,n)}}}},z_=function(t){var s=t.baseTag,n=t.bodyAttributes,a=t.encode,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.scriptTags,u=t.styleTags,h=t.title,p=h===void 0?"":h,f=t.titleAttributes;return{base:Yr(Ve.BASE,s,a),bodyAttributes:Yr(Ia.BODY,n,a),htmlAttributes:Yr(Ia.HTML,i,a),link:Yr(Ve.LINK,o,a),meta:Yr(Ve.META,l,a),noscript:Yr(Ve.NOSCRIPT,c,a),script:Yr(Ve.SCRIPT,d,a),style:Yr(Ve.STYLE,u,a),title:Yr(Ve.TITLE,{title:p,titleAttributes:f},a)}},KR=function(t){var s,n;return n=s=function(a){TR(i,a);function i(){return PR(this,i),DR(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!yR(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Ve.SCRIPT:case Ve.NOSCRIPT:return{innerHTML:c};case Ve.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,d=l.child,u=l.arrayTypeChildren,h=l.newChildProps,p=l.nestedChildren;return gs({},u,(c={},c[d.type]=[].concat(u[d.type]||[],[gs({},h,this.mapNestedChildrenToProps(d,p))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,d,u=l.child,h=l.newProps,p=l.newChildProps,f=l.nestedChildren;switch(u.type){case Ve.TITLE:return gs({},h,(c={},c[u.type]=f,c.titleAttributes=gs({},p),c));case Ve.BODY:return gs({},h,{bodyAttributes:gs({},p)});case Ve.HTML:return gs({},h,{htmlAttributes:gs({},p)})}return gs({},h,(d={},d[u.type]=gs({},p),d))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var d=gs({},c);return Object.keys(l).forEach(function(u){var h;d=gs({},d,(h={},h[u]=l[u],h))}),d},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var d=this,u={};return $e.Children.forEach(l,function(h){if(!(!h||!h.props)){var p=h.props,f=p.children,g=y0(p,["children"]),x=zR(g);switch(d.warnOnInvalidChildren(h,f),h.type){case Ve.LINK:case Ve.META:case Ve.NOSCRIPT:case Ve.SCRIPT:case Ve.STYLE:u=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:u,newChildProps:x,nestedChildren:f});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:x,nestedChildren:f});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},i.prototype.render=function(){var l=this.props,c=l.children,d=y0(l,["children"]),u=gs({},d);return c&&(u=this.mapChildrenToProps(c,u)),$e.createElement(t,u)},AR(i,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),i}($e.Component),s.propTypes={base:Pe.object,bodyAttributes:Pe.object,children:Pe.oneOfType([Pe.arrayOf(Pe.node),Pe.node]),defaultTitle:Pe.string,defer:Pe.bool,encodeSpecialCharacters:Pe.bool,htmlAttributes:Pe.object,link:Pe.arrayOf(Pe.object),meta:Pe.arrayOf(Pe.object),noscript:Pe.arrayOf(Pe.object),onChangeClientState:Pe.func,script:Pe.arrayOf(Pe.object),style:Pe.arrayOf(Pe.object),title:Pe.string,titleAttributes:Pe.object,titleTemplate:Pe.string},s.defaultProps={defer:!0,encodeSpecialCharacters:!0},s.peek=t.peek,s.rewind=function(){var a=t.rewind();return a||(a=z_({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},n},GR=function(){return null},YR=mR(MR,qR,z_)(GR),Yn=KR(YR);Yn.renderStatic=Yn.rewind;function H_(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=H_(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function W_(){for(var e,t,s=0,n="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=H_(e))&&(n&&(n+=" "),n+=t);return n}const ix="-",XR=e=>{const t=QR(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(ix);return l[0]===""&&l.length!==1&&l.shift(),K_(l,t)||JR(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},K_=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),a=n?K_(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(ix);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},j0=/^\[(.+)\]$/,JR=e=>{if(j0.test(e)){const t=j0.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},QR=e=>{const{theme:t,prefix:s}=e,n={nextPart:new Map,validators:[]};return e5(Object.entries(e.classGroups),s).forEach(([i,o])=>{pf(o,n,i,t)}),n},pf=(e,t,s,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:N0(t,a);i.classGroupId=s;return}if(typeof a=="function"){if(ZR(a)){pf(a(n),t,s,n);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([i,o])=>{pf(o,N0(t,i),s,n)})})},N0=(e,t)=>{let s=e;return t.split(ix).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},ZR=e=>e.isThemeGetter,e5=(e,t)=>t?e.map(([s,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[s,a]}):e,t5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const a=(i,o)=>{s.set(i,o),t++,t>e&&(t=0,n=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){s.has(i)?s.set(i,o):a(i,o)}}},G_="!",s5=e=>{const{separator:t,experimentalParseClassName:s}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let w=0;w<l.length;w++){let y=l[w];if(d===0){if(y===a&&(n||l.slice(w,w+i)===t)){c.push(l.slice(u,w)),u=w+i;continue}if(y==="/"){h=w;continue}}y==="["?d++:y==="]"&&d--}const p=c.length===0?l:l.substring(u),f=p.startsWith(G_),g=f?p.substring(1):p,x=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:x}};return s?l=>s({className:l,parseClassName:o}):o},r5=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},n5=e=>({cache:t5(e.cacheSize),parseClassName:s5(e),...XR(e)}),a5=/\s+/,i5=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(a5);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=s(d);let g=!!f,x=n(g?p.substring(0,f):p);if(!x){if(!g){l=d+(l.length>0?" "+l:l);continue}if(x=n(p),!x){l=d+(l.length>0?" "+l:l);continue}g=!1}const w=r5(u).join(":"),y=h?w+G_:w,v=y+x;if(i.includes(v))continue;i.push(v);const b=a(x,g);for(let N=0;N<b.length;++N){const k=b[N];i.push(y+k)}l=d+(l.length>0?" "+l:l)}return l};function o5(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=Y_(t))&&(n&&(n+=" "),n+=s);return n}const Y_=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=Y_(e[n]))&&(s&&(s+=" "),s+=t);return s};function l5(e,...t){let s,n,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return s=n5(d),n=s.cache.get,a=s.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=i5(c,s);return a(c,u),u}return function(){return i(o5.apply(null,arguments))}}const rt=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},X_=/^\[(?:([a-z-]+):)?(.+)\]$/i,c5=/^\d+\/\d+$/,d5=new Set(["px","full","screen"]),u5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,h5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,m5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,p5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,f5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xr=e=>zi(e)||d5.has(e)||c5.test(e),Nn=e=>jo(e,"length",N5),zi=e=>!!e&&!Number.isNaN(Number(e)),Nm=e=>jo(e,"number",zi),$o=e=>!!e&&Number.isInteger(Number(e)),g5=e=>e.endsWith("%")&&zi(e.slice(0,-1)),Be=e=>X_.test(e),_n=e=>u5.test(e),x5=new Set(["length","size","percentage"]),v5=e=>jo(e,x5,J_),y5=e=>jo(e,"position",J_),w5=new Set(["image","url"]),b5=e=>jo(e,w5,S5),j5=e=>jo(e,"",_5),Uo=()=>!0,jo=(e,t,s)=>{const n=X_.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},N5=e=>h5.test(e)&&!m5.test(e),J_=()=>!1,_5=e=>p5.test(e),S5=e=>f5.test(e),C5=()=>{const e=rt("colors"),t=rt("spacing"),s=rt("blur"),n=rt("brightness"),a=rt("borderColor"),i=rt("borderRadius"),o=rt("borderSpacing"),l=rt("borderWidth"),c=rt("contrast"),d=rt("grayscale"),u=rt("hueRotate"),h=rt("invert"),p=rt("gap"),f=rt("gradientColorStops"),g=rt("gradientColorStopPositions"),x=rt("inset"),w=rt("margin"),y=rt("opacity"),v=rt("padding"),b=rt("saturate"),N=rt("scale"),k=rt("sepia"),T=rt("skew"),A=rt("space"),_=rt("translate"),C=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",Be,t],F=()=>[Be,t],D=()=>["",Xr,Nn],S=()=>["auto",zi,Be],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Be],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[zi,Be];return{cacheSize:500,separator:":",theme:{colors:[Uo],spacing:[Xr,Nn],blur:["none","",_n,Be],brightness:Q(),borderColor:[e],borderRadius:["none","","full",_n,Be],borderSpacing:F(),borderWidth:D(),contrast:Q(),grayscale:L(),hueRotate:Q(),invert:L(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[g5,Nn],inset:q(),margin:q(),opacity:Q(),padding:F(),saturate:Q(),scale:Q(),sepia:L(),skew:Q(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[_n]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),Be]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$o,Be]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",$o,Be]}],"grid-cols":[{"grid-cols":[Uo]}],"col-start-end":[{col:["auto",{span:["full",$o,Be]},Be]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[Uo]}],"row-start-end":[{row:["auto",{span:[$o,Be]},Be]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,t]}],"min-w":[{"min-w":[Be,t,"min","max","fit"]}],"max-w":[{"max-w":[Be,t,"none","full","min","max","fit","prose",{screen:[_n]},_n]}],h:[{h:[Be,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,t,"auto","min","max","fit"]}],"font-size":[{text:["base",_n,Nn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nm]}],"font-family":[{font:[Uo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",zi,Nm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xr,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xr,Nn]}],"underline-offset":[{"underline-offset":["auto",Xr,Be]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),y5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",v5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},b5]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:O()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[Xr,Be]}],"outline-w":[{outline:[Xr,Nn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Xr,Nn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_n,j5]}],"shadow-color":[{shadow:[Uo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",_n,Be]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[$o,Be]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Xr,Nn,Nm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},k5=l5(C5);function le(...e){return k5(W_(e))}function fe(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function _0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lh(...e){return t=>{let s=!1;const n=e.map(a=>{const i=_0(a,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():_0(e[a],null)}}}}function He(...e){return m.useCallback(lh(...e),e)}function E5(e,t){const s=m.createContext(t),n=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return r.jsx(s.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=m.useContext(s);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function ks(e,t=[]){let s=[];function n(i,o){const l=m.createContext(o),c=s.length;s=[...s,o];const d=h=>{var y;const{scope:p,children:f,...g}=h,x=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,w=m.useMemo(()=>g,Object.values(g));return r.jsx(x.Provider,{value:w,children:f})};d.displayName=i+"Provider";function u(h,p){var x;const f=((x=p==null?void 0:p[e])==null?void 0:x[c])||l,g=m.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=s.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,P5(a,...t)]}function P5(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}var mn=m.forwardRef((e,t)=>{const{children:s,...n}=e,a=m.Children.toArray(s),i=a.find(A5);if(i){const o=i.props.children,l=a.map(c=>c===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return r.jsx(ff,{...n,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,l):null})}return r.jsx(ff,{...n,ref:t,children:s})});mn.displayName="Slot";var ff=m.forwardRef((e,t)=>{const{children:s,...n}=e;if(m.isValidElement(s)){const a=D5(s);return m.cloneElement(s,{...T5(n,s.props),ref:t?lh(t,a):a})}return m.Children.count(s)>1?m.Children.only(null):null});ff.displayName="SlotClone";var Q_=({children:e})=>r.jsx(r.Fragment,{children:e});function A5(e){return m.isValidElement(e)&&e.type===Q_}function T5(e,t){const s={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?s[n]=(...l)=>{i(...l),a(...l)}:a&&(s[n]=a):n==="style"?s[n]={...a,...i}:n==="className"&&(s[n]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function D5(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function ch(e){const t=e+"CollectionProvider",[s,n]=ks(t),[a,i]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:g,children:x}=f,w=$e.useRef(null),y=$e.useRef(new Map).current;return r.jsx(a,{scope:g,itemMap:y,collectionRef:w,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=$e.forwardRef((f,g)=>{const{scope:x,children:w}=f,y=i(l,x),v=He(g,y.collectionRef);return r.jsx(mn,{ref:v,children:w})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",h=$e.forwardRef((f,g)=>{const{scope:x,children:w,...y}=f,v=$e.useRef(null),b=He(g,v),N=i(d,x);return $e.useEffect(()=>(N.itemMap.set(v,{ref:v,...y}),()=>void N.itemMap.delete(v))),r.jsx(mn,{[u]:"",ref:b,children:w})});h.displayName=d;function p(f){const g=i(e+"CollectionConsumer",f);return $e.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((N,k)=>y.indexOf(N.ref.current)-y.indexOf(k.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},p,n]}var R5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ee=R5.reduce((e,t)=>{const s=m.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?mn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(l,{...o,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function ox(e,t){e&&Xa.flushSync(()=>e.dispatchEvent(t))}function Ut(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function I5(e,t=globalThis==null?void 0:globalThis.document){const s=Ut(e);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var O5="DismissableLayer",gf="dismissableLayer.update",M5="dismissableLayer.pointerDownOutside",L5="dismissableLayer.focusOutside",S0,Z_=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),No=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(Z_),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=m.useState({}),g=He(t,A=>h(A)),x=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(w),v=u?x.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,N=v>=y,k=V5(A=>{const _=A.target,C=[...d.branches].some(I=>I.contains(_));!N||C||(a==null||a(A),o==null||o(A),A.defaultPrevented||l==null||l())},p),T=q5(A=>{const _=A.target;[...d.branches].some(I=>I.contains(_))||(i==null||i(A),o==null||o(A),A.defaultPrevented||l==null||l())},p);return I5(A=>{v===d.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},p),m.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(S0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),C0(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=S0)}},[u,p,s,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),C0())},[u,d]),m.useEffect(()=>{const A=()=>f({});return document.addEventListener(gf,A),()=>document.removeEventListener(gf,A)},[]),r.jsx(Ee.div,{...c,ref:g,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:fe(e.onFocusCapture,T.onFocusCapture),onBlurCapture:fe(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:fe(e.onPointerDownCapture,k.onPointerDownCapture)})});No.displayName=O5;var F5="DismissableLayerBranch",e1=m.forwardRef((e,t)=>{const s=m.useContext(Z_),n=m.useRef(null),a=He(t,n);return m.useEffect(()=>{const i=n.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),r.jsx(Ee.div,{...e,ref:a})});e1.displayName=F5;function V5(e,t=globalThis==null?void 0:globalThis.document){const s=Ut(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){t1(M5,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function q5(e,t=globalThis==null?void 0:globalThis.document){const s=Ut(e),n=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!n.current&&t1(L5,s,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function C0(){const e=new CustomEvent(gf);document.dispatchEvent(e)}function t1(e,t,s,{discrete:n}){const a=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?ox(a,i):a.dispatchEvent(i)}var B5=No,$5=e1,Ot=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},U5="Portal",_o=m.forwardRef((e,t)=>{var l;const{container:s,...n}=e,[a,i]=m.useState(!1);Ot(()=>i(!0),[]);const o=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?X4.createPortal(r.jsx(Ee.div,{...n,ref:t}),o):null});_o.displayName=U5;function z5(e,t){return m.useReducer((s,n)=>t[s][n]??s,e)}var Us=e=>{const{present:t,children:s}=e,n=H5(t),a=typeof s=="function"?s({present:n.isPresent}):m.Children.only(s),i=He(n.ref,W5(a));return typeof s=="function"||n.isPresent?m.cloneElement(a,{ref:i}):null};Us.displayName="Presence";function H5(e){const[t,s]=m.useState(),n=m.useRef({}),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=z5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Xc(n.current);i.current=l==="mounted"?d:"none"},[l]),Ot(()=>{const d=n.current,u=a.current;if(u!==e){const p=i.current,f=Xc(d);e?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ot(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=f=>{const x=Xc(n.current).includes(f.animationName);if(f.target===t&&x&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=f=>{f.target===t&&(i.current=Xc(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{d&&(n.current=getComputedStyle(d)),s(d)},[])}}function Xc(e){return(e==null?void 0:e.animationName)||"none"}function W5(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Fr({prop:e,defaultProp:t,onChange:s=()=>{}}){const[n,a]=K5({defaultProp:t,onChange:s}),i=e!==void 0,o=i?e:n,l=Ut(s),c=m.useCallback(d=>{if(i){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else a(d)},[i,e,a,l]);return[o,c]}function K5({defaultProp:e,onChange:t}){const s=m.useState(e),[n]=s,a=m.useRef(n),i=Ut(t);return m.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),s}var G5="VisuallyHidden",dh=m.forwardRef((e,t)=>r.jsx(Ee.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));dh.displayName=G5;var lx="ToastProvider",[cx,Y5,X5]=ch("Toast"),[s1,oH]=ks("Toast",[X5]),[J5,uh]=s1(lx),r1=e=>{const{__scopeToast:t,label:s="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=m.useState(null),[d,u]=m.useState(0),h=m.useRef(!1),p=m.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${lx}\`. Expected non-empty \`string\`.`),r.jsx(cx.Provider,{scope:t,children:r.jsx(J5,{scope:t,label:s,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>u(f=>f+1),[]),onToastRemove:m.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};r1.displayName=lx;var n1="ToastViewport",Q5=["F8"],xf="toast.viewportPause",vf="toast.viewportResume",a1=m.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:n=Q5,label:a="Notifications ({hotkey})",...i}=e,o=uh(n1,s),l=Y5(s),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),h=m.useRef(null),p=He(t,h,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;m.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(N=>y[N]||y.code===N)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),m.useEffect(()=>{const w=c.current,y=h.current;if(g&&w&&y){const v=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(xf);y.dispatchEvent(T),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(vf);y.dispatchEvent(T),o.isClosePausedRef.current=!1}},N=T=>{!w.contains(T.relatedTarget)&&b()},k=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",N),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",k),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",k),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:w})=>{const v=l().map(b=>{const N=b.ref.current,k=[N,...uI(N)];return w==="forwards"?k:k.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const w=h.current;if(w){const y=v=>{var k,T,A;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const _=document.activeElement,C=v.shiftKey;if(v.target===w&&C){(k=d.current)==null||k.focus();return}const F=x({tabbingDirection:C?"backwards":"forwards"}),D=F.findIndex(S=>S===_);_m(F.slice(D+1))?v.preventDefault():C?(T=d.current)==null||T.focus():(A=u.current)==null||A.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,x]),r.jsxs($5,{ref:c,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&r.jsx(yf,{ref:d,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});_m(w)}}),r.jsx(cx.Slot,{scope:s,children:r.jsx(Ee.ol,{tabIndex:-1,...i,ref:p})}),g&&r.jsx(yf,{ref:u,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});_m(w)}})]})});a1.displayName=n1;var i1="ToastFocusProxy",yf=m.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...a}=e,i=uh(i1,s);return r.jsx(dh,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});yf.displayName=i1;var hh="Toast",Z5="toast.swipeStart",eI="toast.swipeMove",tI="toast.swipeCancel",sI="toast.swipeEnd",o1=m.forwardRef((e,t)=>{const{forceMount:s,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=Fr({prop:n,defaultProp:a,onChange:i});return r.jsx(Us,{present:s||l,children:r.jsx(aI,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ut(e.onPause),onResume:Ut(e.onResume),onSwipeStart:fe(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:fe(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});o1.displayName=hh;var[rI,nI]=s1(hh,{onClose(){}}),aI=m.forwardRef((e,t)=>{const{__scopeToast:s,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...g}=e,x=uh(hh,s),[w,y]=m.useState(null),v=He(t,S=>y(S)),b=m.useRef(null),N=m.useRef(null),k=a||x.duration,T=m.useRef(0),A=m.useRef(k),_=m.useRef(0),{onToastAdd:C,onToastRemove:I}=x,q=Ut(()=>{var E;(w==null?void 0:w.contains(document.activeElement))&&((E=x.viewport)==null||E.focus()),o()}),F=m.useCallback(S=>{!S||S===1/0||(window.clearTimeout(_.current),T.current=new Date().getTime(),_.current=window.setTimeout(q,S))},[q]);m.useEffect(()=>{const S=x.viewport;if(S){const E=()=>{F(A.current),d==null||d()},O=()=>{const P=new Date().getTime()-T.current;A.current=A.current-P,window.clearTimeout(_.current),c==null||c()};return S.addEventListener(xf,O),S.addEventListener(vf,E),()=>{S.removeEventListener(xf,O),S.removeEventListener(vf,E)}}},[x.viewport,k,c,d,F]),m.useEffect(()=>{i&&!x.isClosePausedRef.current&&F(k)},[i,k,x.isClosePausedRef,F]),m.useEffect(()=>(C(),()=>I()),[C,I]);const D=m.useMemo(()=>w?p1(w):null,[w]);return x.viewport?r.jsxs(r.Fragment,{children:[D&&r.jsx(iI,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),r.jsx(rI,{scope:s,onClose:q,children:Xa.createPortal(r.jsx(cx.ItemSlot,{scope:s,children:r.jsx(B5,{asChild:!0,onEscapeKeyDown:fe(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||q(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:fe(e.onKeyDown,S=>{S.key==="Escape"&&(l==null||l(S.nativeEvent),S.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:fe(e.onPointerDown,S=>{S.button===0&&(b.current={x:S.clientX,y:S.clientY})}),onPointerMove:fe(e.onPointerMove,S=>{if(!b.current)return;const E=S.clientX-b.current.x,O=S.clientY-b.current.y,P=!!N.current,R=["left","right"].includes(x.swipeDirection),L=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,B=R?L(0,E):0,Q=R?0:L(0,O),W=S.pointerType==="touch"?10:2,z={x:B,y:Q},X={originalEvent:S,delta:z};P?(N.current=z,Jc(eI,h,X,{discrete:!1})):k0(z,x.swipeDirection,W)?(N.current=z,Jc(Z5,u,X,{discrete:!1}),S.target.setPointerCapture(S.pointerId)):(Math.abs(E)>W||Math.abs(O)>W)&&(b.current=null)}),onPointerUp:fe(e.onPointerUp,S=>{const E=N.current,O=S.target;if(O.hasPointerCapture(S.pointerId)&&O.releasePointerCapture(S.pointerId),N.current=null,b.current=null,E){const P=S.currentTarget,R={originalEvent:S,delta:E};k0(E,x.swipeDirection,x.swipeThreshold)?Jc(sI,f,R,{discrete:!0}):Jc(tI,p,R,{discrete:!0}),P.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),iI=e=>{const{__scopeToast:t,children:s,...n}=e,a=uh(hh,t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return cI(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(_o,{asChild:!0,children:r.jsx(dh,{...n,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",s]})})})},oI="ToastTitle",l1=m.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(Ee.div,{...n,ref:t})});l1.displayName=oI;var lI="ToastDescription",c1=m.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(Ee.div,{...n,ref:t})});c1.displayName=lI;var d1="ToastAction",u1=m.forwardRef((e,t)=>{const{altText:s,...n}=e;return s.trim()?r.jsx(m1,{altText:s,asChild:!0,children:r.jsx(dx,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${d1}\`. Expected non-empty \`string\`.`),null)});u1.displayName=d1;var h1="ToastClose",dx=m.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e,a=nI(h1,s);return r.jsx(m1,{asChild:!0,children:r.jsx(Ee.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,a.onClose)})})});dx.displayName=h1;var m1=m.forwardRef((e,t)=>{const{__scopeToast:s,altText:n,...a}=e;return r.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function p1(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),dI(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...p1(n))}}),t}function Jc(e,t,s,{discrete:n}){const a=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?ox(a,i):a.dispatchEvent(i)}var k0=(e,t,s=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>s:!i&&a>s};function cI(e=()=>{}){const t=Ut(e);Ot(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[t])}function dI(e){return e.nodeType===e.ELEMENT_NODE}function uI(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function _m(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var hI=r1,f1=a1,g1=o1,x1=l1,v1=c1,y1=u1,w1=dx;const E0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,P0=W_,Ja=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return P0(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=s==null?void 0:s[d],h=i==null?void 0:i[d];if(u===null)return null;const p=E0(u)||E0(h);return a[d][p]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,p]=u;return p===void 0||(d[h]=p),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:p,...f}=u;return Object.entries(f).every(g=>{let[x,w]=g;return Array.isArray(w)?w.includes({...i,...l}[x]):{...i,...l}[x]===w})?[...d,h,p]:d},[]);return P0(e,o,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b1=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...pI,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:b1("lucide",a),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(e,t)=>{const s=m.forwardRef(({className:n,...a},i)=>m.createElement(fI,{ref:i,iconNode:t,className:b1(`lucide-${mI(e)}`,n),...a}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=se("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=se("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=se("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=se("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=se("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=se("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=se("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=se("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=se("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=se("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=se("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=se("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=se("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=se("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=se("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=se("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=se("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=se("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=se("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=se("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=se("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=se("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=se("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=se("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=se("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=se("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=se("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=se("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=se("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=se("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=se("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=se("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=se("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=se("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=se("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=se("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=se("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=se("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=se("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=se("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=se("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=se("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=se("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=se("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=se("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=se("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),YI=hI,F1=$e.forwardRef(({className:e,...t},s)=>r.jsx(f1,{ref:s,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));F1.displayName=f1.displayName;const XI=Ja("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),V1=$e.forwardRef(({className:e,variant:t,...s},n)=>r.jsx(g1,{ref:n,className:le(XI({variant:t}),e),...s}));V1.displayName=g1.displayName;const JI=$e.forwardRef(({className:e,...t},s)=>r.jsx(y1,{ref:s,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));JI.displayName=y1.displayName;const q1=$e.forwardRef(({className:e,...t},s)=>r.jsx(w1,{ref:s,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(yt,{className:"h-4 w-4"})}));q1.displayName=w1.displayName;const B1=$e.forwardRef(({className:e,...t},s)=>r.jsx(x1,{ref:s,className:le("text-sm font-semibold",e),...t}));B1.displayName=x1.displayName;const $1=$e.forwardRef(({className:e,...t},s)=>r.jsx(v1,{ref:s,className:le("text-sm opacity-90",e),...t}));$1.displayName=v1.displayName;const QI=1;let Cm=0;function ZI(){return Cm=(Cm+1)%Number.MAX_VALUE,Cm.toString()}const as={state:{toasts:[]},listeners:[],getState:()=>as.state,setState:e=>{typeof e=="function"?as.state=e(as.state):as.state={...as.state,...e},as.listeners.forEach(t=>t(as.state))},subscribe:e=>(as.listeners.push(e),()=>{as.listeners=as.listeners.filter(t=>t!==e)})},M=({...e})=>{const t=ZI(),s=a=>as.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===t?{...o,...a}:o)})),n=()=>as.setState(a=>({...a,toasts:a.toasts.filter(i=>i.id!==t)}));return as.setState(a=>({...a,toasts:[{...e,id:t,dismiss:n},...a.toasts].slice(0,QI)})),{id:t,dismiss:n,update:s}};function U1(){const[e,t]=m.useState(as.getState());return m.useEffect(()=>as.subscribe(n=>{t(n)}),[]),m.useEffect(()=>{const s=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const a=setTimeout(()=>{n.dismiss()},n.duration||5e3);s.push(a)}),()=>{s.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:M,toasts:e.toasts}}function z1(){const{toasts:e}=U1();return r.jsxs(YI,{children:[e.map(({id:t,title:s,description:n,action:a,...i})=>r.jsxs(V1,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(B1,{children:s}),n&&r.jsx($1,{children:n})]}),a,r.jsx(q1,{})]},t)),r.jsx(F1,{})]})}const eO="modulepreload",tO=function(e){return"/"+e},R0={},Qn=function(t,s,n){if(!s||s.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=tO(i),i in R0)return;R0[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let u=a.length-1;u>=0;u--){const h=a[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":eO,o||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),o)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},sO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Qn(()=>Promise.resolve().then(()=>mc),void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class yx extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class rO extends yx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nO extends yx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class aO extends yx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wf||(wf={}));var iO=globalThis&&globalThis.__awaiter||function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class oO{constructor(t,{headers:s={},customFetch:n,region:a=wf.Any}={}){this.url=t,this.headers=s,this.region=a,this.fetch=sO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return iO(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=s;let l={},{region:c}=s;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(g=>{throw new rO(g)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new nO(u);if(!u.ok)throw new aO(u);let p=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield u.json():p==="application/octet-stream"?f=yield u.blob():p==="text/event-stream"?f=u:p==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(a){return{data:null,error:a}}})}}var vs={},wx={},fh={},hc={},gh={},xh={},lO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},lo=lO();const cO=lo.fetch,dO=lo.fetch.bind(lo),uO=lo.Headers,hO=lo.Request,mO=lo.Response,mc=Object.freeze(Object.defineProperty({__proto__:null,Headers:uO,Request:hO,Response:mO,default:dO,fetch:cO},Symbol.toStringTag,{value:"Module"})),pO=_A(mc);var vh={};Object.defineProperty(vh,"__esModule",{value:!0});let fO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};vh.default=fO;var H1=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xh,"__esModule",{value:!0});const gO=H1(pO),xO=H1(vh);let vO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=gO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,h=null,p=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,p=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const x=await i.text();try{d=JSON.parse(x),Array.isArray(d)&&i.status===404&&(u=[],d=null,p=200,f="OK")}catch{i.status===404&&x===""?(p=204,f="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,p=200,f="OK"),d&&this.shouldThrowOnError)throw new xO.default(d)}return{error:d,data:u,count:h,status:p,statusText:f}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,s)}};xh.default=vO;var yO=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gh,"__esModule",{value:!0});const wO=yO(xh);let bO=class extends wO.default{select(t){let s=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:n=s}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,s,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,s?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};gh.default=bO;var jO=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hc,"__esModule",{value:!0});const NO=jO(gh);let _O=class extends NO.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const n=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(t,s,n){return this.url.searchParams.append(t,`not.${s}.${n}`),this}or(t,{foreignTable:s,referencedTable:n=s}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,s,n){return this.url.searchParams.append(t,`${s}.${n}`),this}};hc.default=_O;var SO=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fh,"__esModule",{value:!0});const zo=SO(hc);let CO=class{constructor(t,{headers:s={},schema:n,fetch:a}){this.url=t,this.headers=s,this.schema=n,this.fetch=a}select(t,{head:s=!1,count:n}={}){const a=s?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new zo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new zo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new zo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),this.headers.Prefer=a.join(","),new zo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new zo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fh.default=CO;var yh={},wh={};Object.defineProperty(wh,"__esModule",{value:!0});wh.version=void 0;wh.version="0.0.0-automated";Object.defineProperty(yh,"__esModule",{value:!0});yh.DEFAULT_HEADERS=void 0;const kO=wh;yh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${kO.version}`};var W1=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wx,"__esModule",{value:!0});const EO=W1(fh),PO=W1(hc),AO=yh;let TO=class K1{constructor(t,{headers:s={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},AO.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=a}from(t){const s=new URL(`${this.url}/${t}`);return new EO.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new K1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(s).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=s);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new PO.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};wx.default=TO;var So=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vs,"__esModule",{value:!0});vs.PostgrestError=vs.PostgrestBuilder=vs.PostgrestTransformBuilder=vs.PostgrestFilterBuilder=vs.PostgrestQueryBuilder=vs.PostgrestClient=void 0;const G1=So(wx);vs.PostgrestClient=G1.default;const Y1=So(fh);vs.PostgrestQueryBuilder=Y1.default;const X1=So(hc);vs.PostgrestFilterBuilder=X1.default;const J1=So(gh);vs.PostgrestTransformBuilder=J1.default;const Q1=So(xh);vs.PostgrestBuilder=Q1.default;const Z1=So(vh);vs.PostgrestError=Z1.default;var DO=vs.default={PostgrestClient:G1.default,PostgrestQueryBuilder:Y1.default,PostgrestFilterBuilder:X1.default,PostgrestTransformBuilder:J1.default,PostgrestBuilder:Q1.default,PostgrestError:Z1.default};const{PostgrestClient:RO,PostgrestQueryBuilder:mH,PostgrestFilterBuilder:pH,PostgrestTransformBuilder:fH,PostgrestBuilder:gH,PostgrestError:xH}=DO,IO="2.11.2",OO={"X-Client-Info":`realtime-js/${IO}`},MO="1.0.0",eS=1e4,LO=1e3;var Ki;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ki||(Ki={}));var Ps;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ps||(Ps={}));var hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(hr||(hr={}));var bf;(function(e){e.websocket="websocket"})(bf||(bf={}));var Na;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Na||(Na={}));class FO{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const a=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class tS{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ze||(Ze={}));const I0=(e,t,s={})=>{var n;const a=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=VO(o,e,t,a),i),{})},VO=(e,t,s,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=s[e];return i&&!n.includes(i)?sS(i,o):jf(o)},sS=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return UO(t,s)}switch(e){case Ze.bool:return qO(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return BO(t);case Ze.json:case Ze.jsonb:return $O(t);case Ze.timestamp:return zO(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return jf(t);default:return jf(t)}},jf=e=>e,qO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},BO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$O=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},UO=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>sS(t,l))}return e},zO=e=>typeof e=="string"?e.replace(" ","T"):e,rS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class km{constructor(t,s,n={},a=eS){this.channel=t,this.event=s,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var O0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(O0||(O0={}));class vl{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=vl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=vl.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,a){const i=this.cloneDeep(t),o=this.transformState(s),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const p=u.map(w=>w.presence_ref),f=h.map(w=>w.presence_ref),g=u.filter(w=>f.indexOf(w.presence_ref)<0),x=h.filter(w=>p.indexOf(w.presence_ref)<0);g.length>0&&(l[d]=g),x.length>0&&(c[d]=x)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,s,n,a){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(f=>f.presence_ref),p=u.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...p)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const a=t[n];return"metas"in a?s[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=a,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(M0||(M0={}));var L0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(L0||(L0={}));var en;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class bx{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=Ps.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new km(this,hr.join,this.params,this.timeout),this.rejoinTimer=new tS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ps.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ps.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ps.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ps.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new vl(this),this.broadcastEndpointURL=rS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(en.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(en.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(en.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,f=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,g=[];for(let x=0;x<f;x++){const w=p[x],{filter:{event:y,schema:v,table:b,filter:N}}=w,k=u&&u[x];if(k&&k.event===y&&k.schema===v&&k.table===b&&k.filter===N)g.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),t==null||t(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(en.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ps.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new km(this,hr.leave,{},t);a.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,s,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(i),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new km(this,t,s,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=hr;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,s,n);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(f=>{var g,x,w;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(x=f.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var g,x,w,y,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const N=f.id,k=(g=f.filter)===null||g===void 0?void 0:g.event;return N&&((x=s.ids)===null||x===void 0?void 0:x.includes(N))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=s.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const N=(v=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return N==="*"||N===((b=s==null?void 0:s.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:x,table:w,commit_timestamp:y,type:v,errors:b}=g;p=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(g))}f.callback(p,n)})}_isClosed(){return this.state===Ps.closed}_isJoined(){return this.state===Ps.joined}_isJoining(){return this.state===Ps.joining}_isLeaving(){return this.state===Ps.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const a=t.toLocaleLowerCase(),i={type:a,filter:s,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&bx.isEqual(a.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hr.close,{},t)}_onError(t){this._on(hr.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ps.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=I0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=I0(t.columns,t.old_record)),s}}const HO=()=>{},WO=typeof WebSocket<"u",KO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class GO{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=OO,this.params={},this.timeout=eS,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=HO,this.conn=null,this.sendBuffer=[],this.serializer=new FO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Qn(()=>Promise.resolve().then(()=>mc),void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${bf.websocket}`,this.httpEndpoint=rS(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const a=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new tS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(WO){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new YO(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Qn(()=>import("./browser-0e10a340.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:MO}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ki.connecting:return Na.Connecting;case Ki.open:return Na.Open;case Ki.closing:return Na.Closing;default:return Na.Closed}}isConnected(){return this.connectionState()===Na.Open}channel(t,s={config:{}}){const n=new bx(`realtime:${t}`,s,this);return this.channels.push(n),n}push(t){const{topic:s,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(a=>{s&&a.updateJoinPayload({access_token:s}),a.joinedOnce&&a._isJoined()&&a._push(hr.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(LO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:a,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(hr.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${t}${n}${a}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([KO],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class YO{constructor(t,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ki.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class jx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class XO extends jx{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nf extends jx{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var JO=globalThis&&globalThis.__awaiter||function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const nS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Qn(()=>Promise.resolve().then(()=>mc),void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},QO=()=>JO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qn(()=>Promise.resolve().then(()=>mc),void 0)).Response:Response}),_f=e=>{if(Array.isArray(e))return e.map(s=>_f(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const a=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=_f(n)}),t};var si=globalThis&&globalThis.__awaiter||function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Em=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZO=(e,t,s)=>si(void 0,void 0,void 0,function*(){const n=yield QO();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(a=>{t(new XO(Em(a),e.status||500))}).catch(a=>{t(new Nf(Em(a),a))}):t(new Nf(Em(e),e))}),eM=(e,t,s,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),s))};function pc(e,t,s,n,a,i){return si(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,eM(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>ZO(c,l,n))})})}function vu(e,t,s,n){return si(this,void 0,void 0,function*(){return pc(e,"GET",t,s,n)})}function Tn(e,t,s,n,a){return si(this,void 0,void 0,function*(){return pc(e,"POST",t,n,a,s)})}function tM(e,t,s,n,a){return si(this,void 0,void 0,function*(){return pc(e,"PUT",t,n,a,s)})}function sM(e,t,s,n){return si(this,void 0,void 0,function*(){return pc(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function aS(e,t,s,n,a){return si(this,void 0,void 0,function*(){return pc(e,"DELETE",t,n,a,s)})}var ms=globalThis&&globalThis.__awaiter||function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const rM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},F0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nM{constructor(t,s={},n,a){this.url=t,this.headers=s,this.bucketId=n,this.fetch=nS(a)}uploadOrUpdate(t,s,n,a){return ms(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},F0),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:d,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(Pt(i))return{data:null,error:i};throw i}})}upload(t,s,n){return ms(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,a){return ms(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:F0.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(Pt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return ms(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);s!=null&&s.upsert&&(a["x-upsert"]="true");const i=yield Tn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new jx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}update(t,s,n){return ms(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return ms(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}copy(t,s,n){return ms(this,void 0,void 0,function*(){try{return{data:{path:(yield Tn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,s,n){return ms(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Tn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,s,n){return ms(this,void 0,void 0,function*(){try{const a=yield Tn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}download(t,s){return ms(this,void 0,void 0,function*(){const a=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield vu(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Pt(l))return{data:null,error:l};throw l}})}info(t){return ms(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield vu(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:_f(n),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}exists(t){return ms(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield sM(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Pt(n)&&n instanceof Nf){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),a=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&a.push(i);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return ms(this,void 0,void 0,function*(){try{return{data:yield aS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Pt(s))return{data:null,error:s};throw s}})}list(t,s,n){return ms(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},rM),s),{prefix:t||""});return{data:yield Tn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const aM="2.7.1",iM={"X-Client-Info":`storage-js/${aM}`};var hi=globalThis&&globalThis.__awaiter||function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class oM{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},iM),s),this.fetch=nS(n)}listBuckets(){return hi(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Pt(t))return{data:null,error:t};throw t}})}getBucket(t){return hi(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Pt(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return hi(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return hi(this,void 0,void 0,function*(){try{return{data:yield tM(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return hi(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Pt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return hi(this,void 0,void 0,function*(){try{return{data:yield aS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Pt(s))return{data:null,error:s};throw s}})}}class lM extends oM{constructor(t,s={},n){super(t,s,n)}from(t){return new nM(this.url,this.headers,t,this.fetch)}}const cM="2.30.0",dM={"X-Client-Info":`supabase-js/${cM}`};var Sf={exports:{}};(function(e,t){var s=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Vt<"u"&&Vt,n=function(){function i(){this.fetch=!1,this.DOMException=s.DOMException}return i.prototype=s,new i}();(function(i){(function(o){var l=typeof i<"u"&&i||typeof self<"u"&&self||typeof Vt<"u"&&Vt||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(E){return E&&DataView.prototype.isPrototypeOf(E)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(E){return E&&u.indexOf(Object.prototype.toString.call(E))>-1};function p(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(E)||E==="")throw new TypeError('Invalid character in header field name: "'+E+'"');return E.toLowerCase()}function f(E){return typeof E!="string"&&(E=String(E)),E}function g(E){var O={next:function(){var P=E.shift();return{done:P===void 0,value:P}}};return c.iterable&&(O[Symbol.iterator]=function(){return O}),O}function x(E){this.map={},E instanceof x?E.forEach(function(O,P){this.append(P,O)},this):Array.isArray(E)?E.forEach(function(O){if(O.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+O.length);this.append(O[0],O[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(O){this.append(O,E[O])},this)}x.prototype.append=function(E,O){E=p(E),O=f(O);var P=this.map[E];this.map[E]=P?P+", "+O:O},x.prototype.delete=function(E){delete this.map[p(E)]},x.prototype.get=function(E){return E=p(E),this.has(E)?this.map[E]:null},x.prototype.has=function(E){return this.map.hasOwnProperty(p(E))},x.prototype.set=function(E,O){this.map[p(E)]=f(O)},x.prototype.forEach=function(E,O){for(var P in this.map)this.map.hasOwnProperty(P)&&E.call(O,this.map[P],P,this)},x.prototype.keys=function(){var E=[];return this.forEach(function(O,P){E.push(P)}),g(E)},x.prototype.values=function(){var E=[];return this.forEach(function(O){E.push(O)}),g(E)},x.prototype.entries=function(){var E=[];return this.forEach(function(O,P){E.push([P,O])}),g(E)},c.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function w(E){if(!E._noBody){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}}function y(E){return new Promise(function(O,P){E.onload=function(){O(E.result)},E.onerror=function(){P(E.error)}})}function v(E){var O=new FileReader,P=y(O);return O.readAsArrayBuffer(E),P}function b(E){var O=new FileReader,P=y(O),R=/charset=([A-Za-z0-9_-]+)/.exec(E.type),L=R?R[1]:"utf-8";return O.readAsText(E,L),P}function N(E){for(var O=new Uint8Array(E),P=new Array(O.length),R=0;R<O.length;R++)P[R]=String.fromCharCode(O[R]);return P.join("")}function k(E){if(E.slice)return E.slice(0);var O=new Uint8Array(E.byteLength);return O.set(new Uint8Array(E)),O.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(E){this.bodyUsed=this.bodyUsed,this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:c.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:c.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():c.arrayBuffer&&c.blob&&d(E)?(this._bodyArrayBuffer=k(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||h(E))?this._bodyArrayBuffer=k(E):this._bodyText=E=Object.prototype.toString.call(E):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var E=w(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var E=w(this);return E||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var E=w(this);if(E)return E;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(N(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}var A=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _(E){var O=E.toUpperCase();return A.indexOf(O)>-1?O:E}function C(E,O){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O=O||{};var P=O.body;if(E instanceof C){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,O.headers||(this.headers=new x(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!P&&E._bodyInit!=null&&(P=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new x(O.headers)),this.method=_(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal||function(){if("AbortController"in l){var B=new AbortController;return B.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&P)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(P),(this.method==="GET"||this.method==="HEAD")&&(O.cache==="no-store"||O.cache==="no-cache")){var R=/([?&])_=[^&]*/;if(R.test(this.url))this.url=this.url.replace(R,"$1_="+new Date().getTime());else{var L=/\?/;this.url+=(L.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function I(E){var O=new FormData;return E.trim().split("&").forEach(function(P){if(P){var R=P.split("="),L=R.shift().replace(/\+/g," "),B=R.join("=").replace(/\+/g," ");O.append(decodeURIComponent(L),decodeURIComponent(B))}}),O}function q(E){var O=new x,P=E.replace(/\r?\n[\t ]+/g," ");return P.split("\r").map(function(R){return R.indexOf(`
`)===0?R.substr(1,R.length):R}).forEach(function(R){var L=R.split(":"),B=L.shift().trim();if(B){var Q=L.join(":").trim();try{O.append(B,Q)}catch(W){console.warn("Response "+W.message)}}}),O}T.call(C.prototype);function F(E,O){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=O.statusText===void 0?"":""+O.statusText,this.headers=new x(O.headers),this.url=O.url||"",this._initBody(E)}T.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},F.error=function(){var E=new F(null,{status:200,statusText:""});return E.ok=!1,E.status=0,E.type="error",E};var D=[301,302,303,307,308];F.redirect=function(E,O){if(D.indexOf(O)===-1)throw new RangeError("Invalid status code");return new F(null,{status:O,headers:{location:E}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(O,P){this.message=O,this.name=P;var R=Error(O);this.stack=R.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function S(E,O){return new Promise(function(P,R){var L=new C(E,O);if(L.signal&&L.signal.aborted)return R(new o.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function Q(){B.abort()}B.onload=function(){var X={statusText:B.statusText,headers:q(B.getAllResponseHeaders()||"")};L.url.indexOf("file://")===0&&(B.status<200||B.status>599)?X.status=200:X.status=B.status,X.url="responseURL"in B?B.responseURL:X.headers.get("X-Request-URL");var de="response"in B?B.response:B.responseText;setTimeout(function(){P(new F(de,X))},0)},B.onerror=function(){setTimeout(function(){R(new TypeError("Network request failed"))},0)},B.ontimeout=function(){setTimeout(function(){R(new TypeError("Network request timed out"))},0)},B.onabort=function(){setTimeout(function(){R(new o.DOMException("Aborted","AbortError"))},0)};function W(X){try{return X===""&&l.location.href?l.location.href:X}catch{return X}}if(B.open(L.method,W(L.url),!0),L.credentials==="include"?B.withCredentials=!0:L.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&(c.blob?B.responseType="blob":c.arrayBuffer&&(B.responseType="arraybuffer")),O&&typeof O.headers=="object"&&!(O.headers instanceof x||l.Headers&&O.headers instanceof l.Headers)){var z=[];Object.getOwnPropertyNames(O.headers).forEach(function(X){z.push(p(X)),B.setRequestHeader(X,f(O.headers[X]))}),L.headers.forEach(function(X,de){z.indexOf(de)===-1&&B.setRequestHeader(de,X)})}else L.headers.forEach(function(X,de){B.setRequestHeader(de,X)});L.signal&&(L.signal.addEventListener("abort",Q),B.onreadystatechange=function(){B.readyState===4&&L.signal.removeEventListener("abort",Q)}),B.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return S.polyfill=!0,l.fetch||(l.fetch=S,l.Headers=x,l.Request=C,l.Response=F),o.Headers=x,o.Request=C,o.Response=F,o.fetch=S,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=s.fetch?s:n;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t})(Sf,Sf.exports);var Nx=Sf.exports;const iS=na(Nx),uM=hj({__proto__:null,default:iS},[Nx]);var hM=globalThis&&globalThis.__awaiter||function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const mM=e=>{let t;return e?t=e:typeof fetch>"u"?t=iS:t=fetch,(...s)=>t(...s)},pM=()=>typeof Headers>"u"?Nx.Headers:Headers,fM=(e,t,s)=>{const n=mM(s),a=pM();return(i,o)=>hM(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};function gM(e){return e.replace(/\/$/,"")}function xM(e,t){const{db:s,auth:n,realtime:a,global:i}=e,{db:o,auth:l,realtime:c,global:d}=t;return{db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},d),i)}}function vM(e){return Math.round(Date.now()/1e3)+e}function yM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qr=()=>typeof document<"u",ga={tested:!1,writable:!1},Rd=()=>{if(!Qr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ga.tested)return ga.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ga.tested=!0,ga.writable=!0}catch{ga.tested=!0,ga.writable=!1}return ga.writable};function ps(e,t){var s;t||(t=((s=window==null?void 0:window.location)===null||s===void 0?void 0:s.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),a=n.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}const oS=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...s)=>await(await Qn(()=>Promise.resolve().then(()=>uM),void 0)).fetch(...s):t=fetch,(...s)=>t(...s)},wM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ho=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Qc=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Pm=async(e,t)=>{await e.removeItem(t)};function bM(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",n,a,i,o,l,c,d,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),d=t.indexOf(e.charAt(u++)),n=o<<2|l>>4,a=(l&15)<<4|c>>2,i=(c&3)<<6|d,s=s+String.fromCharCode(n),c!=64&&a!=0&&(s=s+String.fromCharCode(a)),d!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class bh{constructor(){this.promise=new bh.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}bh.promiseConstructor=Promise;function V0(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=s[1];return JSON.parse(bM(n))}function jM(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function NM(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function _M(e){return("0"+e.toString(16)).substr(-2)}function Zc(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let a="";for(let i=0;i<56;i++)a+=s.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,_M).join("")}async function SM(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}function CM(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ed(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await SM(e);return CM(t)}const kM="__stack_guard__",EM="__",PM=/__stack_guard__([a-zA-Z0-9_-]+)__/;let q0=!1,_x;function Cf(e){var t,s;_x();let n;try{throw new Error}catch(i){n=i}const a=(s=(t=n.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&s!==void 0?s:[];for(let i=0;i<a.length;i+=1){const l=a[i].match(PM);if(l&&l[1]===e)return!0}return!1}async function kf(e,t){await _x();const s=`${kM}${e}${EM}`;return await{[s]:async()=>await t()}[s]()}_x=async()=>{q0||(q0=!0,await kf("ENV_CHECK",async()=>{const e=Cf("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class Sx extends Error{constructor(t,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s}}function We(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AM extends Sx{constructor(t,s){super(t,s),this.name="AuthApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function TM(e){return We(e)&&e.name==="AuthApiError"}class lS extends Sx{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Co extends Sx{constructor(t,s,n){super(t),this.name=s,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mi extends Co{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Am extends Co{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class td extends Co{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class Jr extends Co{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tm extends Co{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ef extends Co{constructor(t,s){super(t,"AuthRetryableFetchError",s)}}function B0(e){return We(e)&&e.name==="AuthRetryableFetchError"}var DM=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]]);return s};const rl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RM=[502,503,504];async function $0(e){if(!wM(e))throw new Ef(rl(e),0);if(RM.includes(e.status))throw new Ef(rl(e),e.status);let t;try{t=await e.json()}catch(s){throw new lS(rl(s),s)}throw new AM(rl(t),e.status||500)}const IM=(e,t,s,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),s))};async function Ge(e,t,s,n){var a;const i=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await OM(e,t,s+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function OM(e,t,s,n,a,i){const o=IM(t,n,a,i);let l;try{l=await e(s,o)}catch(c){throw console.error(c),new Ef(rl(c),0)}if(l.ok||await $0(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await $0(c)}}function Sn(e){var t;let s=null;VM(e)&&(s=Object.assign({},e),s.expires_at=vM(e.expires_in));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function _a(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function MM(e){return{data:e,error:null}}function LM(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:a,verification_type:i}=e,o=DM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function FM(e){return e}function VM(e){return e.access_token&&e.refresh_token&&e.expires_in}var qM=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]]);return s};class BM{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=oS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:_a})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=qM(t,["options"]),a=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:LM,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(We(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_a})}catch(s){if(We(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:FM});if(u.error)throw u.error;const h=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);d[`${w}Page`]=x}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(We(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_a})}catch(s){if(We(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:_a})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:_a})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:s,error:n}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:n}}catch(s){if(We(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}}}const $M="2.43.1",UM="http://localhost:9999",zM="supabase.auth.token",HM={"X-Client-Info":`gotrue-js/${$M}`},U0=10,z0={getItem:e=>Rd()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Rd()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Rd()&&globalThis.localStorage.removeItem(e)}};function WM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}WM();const KM={url:UM,storageKey:zM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HM,flowType:"implicit",debug:!1},sd=30*1e3,H0=3;class zl{constructor(t){var s;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=zl.nextInstanceID,zl.nextInstanceID+=1,this.instanceID>0&&Qr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},KM),t);if(this.logDebugMessages=n.debug,this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||z0,this.admin=new BM({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=oS(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===z0&&!Rd()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),Qr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=kf("_initialize",async()=>{try{const t=Qr()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:n}=await this._getSessionFromUrl(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),await this._removeSession(),{error:n};const{session:a,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return We(t)?{error:t}:{error:new lS("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var s,n,a;try{await this._removeSession();let i;if("email"in t){const{email:u,password:h,options:p}=t;let f=null,g=null;if(this.flowType==="pkce"){const x=Zc();await Ho(this.storage,`${this.storageKey}-code-verifier`,x),f=await ed(x),g=x===f?"plain":"s256"}i=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:g},xform:Sn})}else if("phone"in t){const{phone:u,password:h,options:p}=t;i=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(a=p==null?void 0:p.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Sn})}else throw new td("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(We(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{await this._removeSession();let s;if("email"in t){const{email:i,password:o,options:l}=t;s=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sn})}else if("phone"in t){const{phone:i,password:o,options:l}=t;s=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sn})}else throw new td("You must provide either an email or phone number and a password");const{data:n,error:a}=s;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Am}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:{user:n.user,session:n.session},error:a})}catch(s){if(We(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,a,i;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){const s=await Qc(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:a}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Sn});return await Pm(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Am}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:a})}async signInWithIdToken(t){await this._removeSession();try{const{options:s,provider:n,token:a,access_token:i,nonce:o}=t,l=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Sn}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Am}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(We(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,a,i,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let d=null,u=null;if(this.flowType==="pkce"){const p=Zc();await Ho(this.storage,`${this.storageKey}-code-verifier`,p),d=await ed(p),u=p===d?"plain":"s256"}const{error:h}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new td("You must provide either an email or phone number.")}catch(l){if(We(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,n;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:a,error:i}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(s=t.options)===null||s===void 0?void 0:s.captchaToken}}),redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,xform:Sn});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(We(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var s,n,a;try{return await this._removeSession(),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:MM})}catch(i){if(We(i))return{data:null,error:i};throw i}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new mi;const{error:a}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(We(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const s=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Ge(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Ge(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new td("You must provide either an email or phone number and a type")}catch(s){if(We(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await kf("_useSession",async()=>{const s=await this.__loadSession();return await t(s)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!Cf("_useSession"))throw new Error("Please use #_useSession()");Cf("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const i=await Qc(this.storage,this.storageKey);this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s)return{data:{session:t},error:null};const{session:n,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async s=>{var n,a;if(!t){const{data:i,error:o}=s;if(o)throw o;t=(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0}return await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_a})})}catch(s){if(We(s))return{data:{user:null},error:s};throw s}}async updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new mi;const o=a.session,{data:l,error:c}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:t,jwt:o.access_token,xform:_a});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return V0(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new mi;const s=Date.now()/1e3;let n=s,a=!0,i=null;const o=V0(t.access_token);if(o.exp&&(n=o.exp,a=n<=s),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(We(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new mi;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(We(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromUrl(t){try{if(!Qr())throw new Jr("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Jr("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Tm("Not a valid PKCE flow url.");if(t){const w=ps("code");if(!w)throw new Tm("No code detected.");const{data:y,error:v}=await this.exchangeCodeForSession(w);if(v)throw v;if(!y.session)throw new Tm("No session detected.");let b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:y.session,redirectType:null},error:null}}const s=ps("error_description");if(s){const w=ps("error_code");if(!w)throw new Jr("No error_code detected.");const y=ps("error");throw y?new Jr(s,{error:y,code:w}):new Jr("No error detected.")}const n=ps("provider_token"),a=ps("provider_refresh_token"),i=ps("access_token");if(!i)throw new Jr("No access_token detected.");const o=ps("expires_in");if(!o)throw new Jr("No expires_in detected.");const l=ps("refresh_token");if(!l)throw new Jr("No refresh_token detected.");const c=ps("token_type");if(!c)throw new Jr("No token_type detected.");const u=Math.round(Date.now()/1e3)+parseInt(o),{data:h,error:p}=await this.getUser(i);if(p)throw p;const f=h.user,g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:parseInt(o),expires_at:u,refresh_token:l,token_type:c,user:f},x=ps("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:g,redirectType:x},error:null}}catch(s){if(We(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){return Qr()&&(!!ps("access_token")||!!ps("error_description"))}async _isPKCEFlow(){const t=await Qc(this.storage,`${this.storageKey}-code-verifier`);return!!ps("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:a,error:i}=s;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(TM(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Pm(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const s=yM(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),this._emitInitialSession(s),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,a;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let n=null,a=null;if(this.flowType==="pkce"){const i=Zc();await Ho(this.storage,`${this.storageKey}-code-verifier`,i),n=await ed(i),a=i===n?"plain":"s256"}try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(We(i))return{data:null,error:i};throw i}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await NM(async a=>(await jM(a*200),this._debug(s,"refreshing attempt",a),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Sn})),(a,i,o)=>o&&o.error&&B0(o.error)&&Date.now()+(a+1)*200-n<sd)}catch(n){if(this._debug(s,"error",n),We(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),Qr()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Qc(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<a+U0;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${U0}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),B0(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new mi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new bh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new mi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),We(i)){const o={session:null,error:i};return(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,s,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),Ho(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await Pm(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/sd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${sd}ms, refresh threshold is ${H0} ticks`),a<=H0&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s){const n=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const a=Zc();await Ho(this.storage,`${this.storageKey}-code-verifier`,a);const i=await ed(a),o=a===i?"plain":"s256";this._debug("PKCE","code verifier",`${a.substring(0,5)}...`,"code challenge",i,"method",o);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);n.push(a.toString())}return`${this.url}/authorize?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:a,error:i}=s;return i?{data:null,error:i}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(We(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,a;const{data:i,error:o}=s;if(o)return{data:null,error:o};const{data:l,error:c}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(We(s))return{data:null,error:s};throw s}}async _verify(t){try{return await this._useSession(async s=>{var n;const{data:a,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:l}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(We(s))return{data:null,error:s};throw s}}async _challenge(t){try{return await this._useSession(async s=>{var n;const{data:a,error:i}=s;return i?{data:null,error:i}:await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(We(s))return{data:null,error:s};throw s}}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:n,totp:a},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var s,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(s=a.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}})}}zl.nextInstanceID=0;class GM extends zl{constructor(t){super(t)}}var YM=globalThis&&globalThis.__awaiter||function(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const XM={headers:dM},JM={schema:"public"},QM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZM={};class e3{constructor(t,s,n){var a,i,o,l,c,d,u,h;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const p=gM(t);this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,this.functionsUrl=`${p}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:JM,realtime:ZM,auth:Object.assign(Object.assign({},QM),{storageKey:f}),global:XM},x=xM(n??{},g);this.storageKey=(i=(a=x.auth)===null||a===void 0?void 0:a.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=(o=x.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=x.auth)!==null&&c!==void 0?c:{},this.headers,(d=x.global)===null||d===void 0?void 0:d.fetch),this.fetch=fM(s,this._getAccessToken.bind(this),(u=x.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},x.realtime)),this.rest=new RO(`${p}/rest/v1`,{headers:this.headers,schema:(h=x.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new oO(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lM(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,s={},n){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return YM(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,debug:l},c,d){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GM({url:this.authUrl,headers:Object.assign(Object.assign({},u),c),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:a,flowType:o,debug:l,fetch:d})}_initRealtimeClient(t){return new GO(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const t3=(e,t,s)=>new e3(e,t,s),s3="https://tldkwzextczqfnmesqhi.supabase.co",r3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRsZGt3emV4dGN6cWZubWVzcWhpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3Mzg4MDEsImV4cCI6MjA4MTMxNDgwMX0.IicKQHQwGYU2dXbFp1rv_n8eIZR7kqJw3YIdkNQuvfM",j=t3(s3,r3),cS=m.createContext({}),es=()=>m.useContext(cS),n3=({children:e})=>{const[t,s]=m.useState(null),[n,a]=m.useState(null),[i,o]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const{data:{session:f}}=await j.auth.getSession();f?await l(f.user):o(!1)}catch(f){console.error("Session check error:",f),o(!1)}})();const{data:{subscription:p}}=j.auth.onAuthStateChange(async(f,g)=>{f==="SIGNED_IN"||f==="TOKEN_REFRESHED"?g!=null&&g.user&&await l(g.user):f==="SIGNED_OUT"&&(s(null),a(null),o(!1))});return()=>{p.unsubscribe()}},[]);const l=async h=>{var p,f;try{let g=((p=h.app_metadata)==null?void 0:p.role)||((f=h.user_metadata)==null?void 0:f.role),x=null;if(g){let w="";if(["ADMIN","HR","DATA_ENTRY","SUPPORT","SALES"].includes(g)?w="employees":g==="VENDOR"?w="vendors":g==="BUYER"&&(w="buyers"),w){const{data:y}=await j.from(w).select("*").eq("user_id",h.id).maybeSingle();x=y}}else{const{data:w}=await j.from("employees").select("*").eq("user_id",h.id).maybeSingle();if(w)g=w.role,x=w;else{const{data:y}=await j.from("vendors").select("*").eq("user_id",h.id).maybeSingle();if(y)g="VENDOR",x=y;else{const{data:v}=await j.from("buyers").select("*").eq("user_id",h.id).maybeSingle();v&&(g="BUYER",x=v)}}}s({...h,role:g||"GUEST"}),a(x)}catch(g){console.error("Profile fetch error:",g)}finally{o(!1)}},c=async(h,p)=>{const{data:f,error:g}=await j.auth.signInWithPassword({email:h,password:p});return{data:f,error:g}},d=async(h,p,f={})=>{const{data:g,error:x}=await j.auth.signUp({email:h,password:p,options:{data:f}});return{data:g,error:x}},u=async()=>{await j.auth.signOut(),s(null),a(null)};return r.jsx(cS.Provider,{value:{user:t,profile:n,userId:t==null?void 0:t.id,buyerId:(t==null?void 0:t.role)==="BUYER"?n==null?void 0:n.id:null,vendorId:(t==null?void 0:t.role)==="VENDOR"?n==null?void 0:n.id:null,userRole:t==null?void 0:t.role,loading:i,signIn:c,signUp:d,logout:u,isAdmin:(t==null?void 0:t.role)==="ADMIN"},children:i?r.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(pe,{className:"h-8 w-8 animate-spin text-blue-600"}),r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Loading Application..."})]})}):e})},dS=m.createContext(null),a3=({children:e})=>{const[t,s]=m.useState(null),[n,a]=m.useState(!1),[i,o]=m.useState(!0);m.useEffect(()=>{const d=localStorage.getItem("itm_admin_user");d&&(s(JSON.parse(d)),a(!0)),o(!1)},[]);const l=async(d,u)=>{try{o(!0);const{data:h,error:p}=await j.rpc("login_admin",{p_email:d,p_password:u});if(p)throw p;if(h)return s(h),a(!0),localStorage.setItem("itm_admin_user",JSON.stringify(h)),M({title:"Login Successful",description:`Welcome back, ${h.name}`,className:"bg-green-50 text-green-900 border-green-200"}),h;throw new Error("Invalid credentials")}catch(h){return console.error("Login error:",h),M({title:"Login Failed",description:"Invalid email or password",variant:"destructive"}),null}finally{o(!1)}},c=()=>{s(null),a(!1),localStorage.removeItem("itm_admin_user"),M({title:"Logged Out",description:"You have been logged out successfully."})};return r.jsx(dS.Provider,{value:{user:t,isAuthenticated:n,isLoading:i,login:l,logout:c},children:e})},Cx=()=>m.useContext(dS),uS=m.createContext(null),i3=({children:e})=>{const[t,s]=m.useState(null),[n,a]=m.useState(!0);m.useEffect(()=>{const c=localStorage.getItem("itm_superadmin_session");c&&s(JSON.parse(c)),a(!1)},[]);const i=async(c,d)=>{try{a(!0),console.log(`[SuperAdminAuth] Attempting login for: ${c}`);const{data:u,error:h}=await j.rpc("login_superadmin",{p_email:c,p_password:d});if(h)throw console.error("[SuperAdminAuth] RPC Error:",h),h;if(console.log("[SuperAdminAuth] RPC Response:",u),u)return s(u),localStorage.setItem("itm_superadmin_session",JSON.stringify(u)),M({title:"Access Granted",description:"Welcome to the Super Admin Console.",className:"bg-red-900 text-white border-red-800"}),!0;throw console.warn("[SuperAdminAuth] Login failed: Invalid credentials or user not found."),new Error("Invalid credentials")}catch(u){return console.error("[SuperAdminAuth] Login Exception:",u),M({title:"Access Denied",description:"Invalid credentials. Check console for details.",variant:"destructive"}),!1}finally{a(!1)}},o=()=>{s(null),localStorage.removeItem("itm_superadmin_session"),M({title:"Session Ended",description:"Secure logout successful."})},l=async c=>{if(!t)return!1;try{const{data:d,error:u}=await j.rpc("change_superadmin_password",{p_id:t.id,p_new_password:c});if(u)throw u;return M({title:"Success",description:"Password updated successfully."}),!0}catch(d){return console.error("Password update failed:",d),M({title:"Error",description:"Could not update password.",variant:"destructive"}),!1}};return r.jsx(uS.Provider,{value:{superAdmin:t,isLoading:n,login:i,logout:o,changePassword:l},children:e})},kx=()=>m.useContext(uS),Ce=async()=>{const{data:{user:e},error:t}=await j.auth.getUser();if(t)throw t;if(!e)throw new Error("Not authenticated");const{data:s,error:n}=await j.from("vendors").select("id").eq("user_id",e.id).single();if(n||!s)throw console.warn("Vendor profile not found for user:",e.id,n),new Error("Vendor profile not found");return s.id},W0=(e,t)=>{let s="";for(let n=0;n<e;n++)s+=t.charAt(Math.floor(Math.random()*t.length));return s},Pf=e=>e?e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""):"",K0=e=>{const t=Pf(e),s=Math.random().toString(36).substring(2,8);return`${t}-${s}`.substring(0,100)},G0=(e="",t="",s="")=>{const n="0123456789";let a=e.toUpperCase().replace(/[^A-Z]/g,"").slice(0,4).padEnd(4,"X"),i=t.toUpperCase().replace(/[^A-Z]/g,"").slice(0,4).padEnd(4,"Z"),o=s?s.replace(/\D/g,"").slice(-2).padStart(2,"0"):W0(2,n);const l=W0(2,n);return`${a}-V-${i}-${o}${l}`},o3=e=>e.replace(/([A-Z])/g,"_$1").toLowerCase().replace(/^_/,""),Y0=e=>{const t=["company_name","owner_name","phone","email","address","gst_number","state","city","website_url","profile_image","primary_business_type","year_of_establishment"],s=t.filter(n=>e[n]&&e[n].toString().trim()!==""&&e[n]!==null).length;return Math.round(s/t.length*100)},je={locations:{getStates:async(e=!1)=>{let t=j.from("states").select("*").order("name");e||(t=t.eq("is_active",!0));const{data:s,error:n}=await t;if(n)throw n;return s||[]},getState:async e=>{const{data:t,error:s}=await j.from("states").select("*").eq("id",e).single();if(s)throw s;return t},createState:async(e,t)=>{const{data:s,error:n}=await j.from("states").insert([{name:e,slug:t||Pf(e),is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(n)throw n;return s},updateState:async(e,t)=>{const{data:s,error:n}=await j.from("states").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return s},deleteState:async e=>{const{error:t}=await j.from("states").delete().eq("id",e);if(t)throw t},toggleStateActive:async(e,t)=>{const{data:s,error:n}=await j.from("states").update({is_active:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return s},getCities:async(e,t=!1)=>{if(!e)return[];let s=j.from("cities").select("*").eq("state_id",e).order("name");t||(s=s.eq("is_active",!0));const{data:n,error:a}=await s;if(a)throw a;return n||[]},getCity:async e=>{const{data:t,error:s}=await j.from("cities").select("*").eq("id",e).single();if(s)throw s;return t},getCitiesWithState:async(e=!1)=>{let t=j.from("cities").select("*, state:states(id, name, slug)").order("name");e||(t=t.eq("is_active",!0));const{data:s,error:n}=await t;if(n)throw n;return s||[]},createCity:async(e,t,s)=>{const{data:n,error:a}=await j.from("cities").insert([{state_id:e,name:t,slug:s||Pf(t),is_active:!0,supplier_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(a)throw a;return n},updateCity:async(e,t)=>{const{data:s,error:n}=await j.from("cities").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return s},deleteCity:async e=>{const{error:t}=await j.from("cities").delete().eq("id",e);if(t)throw t},toggleCityActive:async(e,t)=>{const{data:s,error:n}=await j.from("cities").update({is_active:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return s},incrementSupplierCount:async e=>{const{data:t,error:s}=await j.from("cities").select("supplier_count").eq("id",e).single();if(s)throw s;const n=((t==null?void 0:t.supplier_count)||0)+1,{data:a,error:i}=await j.from("cities").update({supplier_count:n}).eq("id",e).select().single();if(i)throw i;return a},decrementSupplierCount:async e=>{const{data:t,error:s}=await j.from("cities").select("supplier_count").eq("id",e).single();if(s)throw s;const n=Math.max(0,((t==null?void 0:t.supplier_count)||0)-1),{data:a,error:i}=await j.from("cities").update({supplier_count:n}).eq("id",e).select().single();if(i)throw i;return a}},getStates:async()=>je.locations.getStates(!1),getCities:async e=>je.locations.getCities(e,!1),generateVendorId:async(e="")=>{let t=!1,s="",n=0;for(;!t&&n<10;){s=G0("","",e);const{data:a,error:i}=await j.from("vendors").select("id").eq("vendor_id",s).maybeSingle();if(i)throw i;a||(t=!0),n++}if(!t)throw new Error("Failed to generate unique Vendor ID");return s},getVendorByUserId:async e=>{const{data:t,error:s}=await j.from("vendors").select("*").eq("user_id",e).maybeSingle();if(s)throw s;return t},registerVendor:async e=>{const{userId:t,companyName:s,gstNumber:n,address:a,ownerName:i,email:o,phone:l,stateId:c,cityId:d,stateName:u,cityName:h}=e,{data:p,error:f}=await j.from("vendors").select("id, vendor_id").eq("user_id",t).maybeSingle();if(f)throw f;let g=p==null?void 0:p.vendor_id;if(!g||g.includes("-")===!1){let w=!1,y=0;for(;!w&&y<10;){g=G0(i,s,l);const{data:v,error:b}=await j.from("vendors").select("id").eq("vendor_id",g).maybeSingle();if(b)throw b;v||(w=!0),y++}if(!w)throw new Error("Failed to generate unique Vendor ID")}const x={company_name:s,gst_number:n,address:a,registered_address:a,owner_name:i,email:o,phone:l,state_id:c||null,city_id:d||null,state:u,city:h,kyc_status:"PENDING",profile_completion:Y0({company_name:s,gst_number:n,address:a,owner_name:i,email:o,phone:l,state:u,city:h}),updated_at:new Date().toISOString(),vendor_id:g};if(p){const{error:w}=await j.from("vendors").update(x).eq("id",p.id);if(w)throw w}else{const{error:w}=await j.from("vendors").insert([{user_id:t,...x,is_active:!1,is_verified:!1}]);if(w)throw w}},updateVendorVerification:async(e,t)=>{const s={is_verified:t,verified_at:t?new Date().toISOString():null,is_active:t},{data:n,error:a}=await j.from("vendors").update(s).eq("user_id",e).select().single();if(a)throw a;return n},auth:{me:async()=>{const{data:{user:e},error:t}=await j.auth.getUser();if(t)throw t;if(!e)return null;const{data:s,error:n}=await j.from("vendors").select("*").eq("user_id",e.id).maybeSingle();if(n)throw n;const a=s?{...s,companyName:s.company_name,ownerName:s.owner_name,gstNumber:s.gst_number,panNumber:s.pan_number,aadharNumber:s.aadhar_number,websiteUrl:s.website_url,primaryBusinessType:s.primary_business_type,annualTurnover:s.annual_turnover,registeredAddress:s.registered_address,stateId:s.state_id,cityId:s.city_id,vendorId:s.vendor_id||null,profileImage:s.profile_image,kycStatus:s.kyc_status,kycDocs:s.kyc_docs,profileCompletion:s.profile_completion,isVerified:s.is_verified,isActive:s.is_active,verifiedAt:s.verified_at,createdAt:s.created_at,updatedAt:s.updated_at,secondaryEmail:s.secondary_email,secondaryPhone:s.secondary_phone,landlineNumber:s.landline_number,cinNumber:s.cin_number,llpinNumber:s.llpin_number,iecCode:s.iec_code,yearOfEstablishment:s.year_of_establishment,ownerDesignation:s.owner_designation}:null;return{user_id:e.id,email:(s==null?void 0:s.email)||e.email||null,phone:(s==null?void 0:s.phone)||e.phone||null,...a}},logout:async()=>{const{error:e}=await j.auth.signOut();if(e)throw e},updatePassword:async e=>{const{error:t}=await j.auth.updateUser({password:e});if(t)throw t},updateProfile:async e=>{const t=await Ce(),s=new Set(["id","user_id","aud","role","created_at","updated_at","confirmed_at","email_confirmed_at","last_sign_in_at","phone_confirmed_at","app_metadata","user_metadata","identities","factors","is_anonymous"]),n=Object.fromEntries(Object.entries(e||{}).filter(([u])=>!s.has(u))),a={};for(const[u,h]of Object.entries(n))u.includes("_")?a[u]=h:a[o3(u)]=h;a.updated_at=new Date().toISOString();const{data:i,error:o}=await j.from("vendors").select("*").eq("id",t).single();if(o)throw o;const l={...i,...a};a.profile_completion=Y0(l);const{data:c,error:d}=await j.from("vendors").update(a).eq("id",t).select().single();if(d)throw d;return c},uploadImage:async(e,t="avatars")=>{const s=e.name.split(".").pop(),n=`${Date.now()}.${s}`,{error:a}=await j.storage.from(t).upload(n,e,{upsert:!0});if(a)throw a;const{data:i}=j.storage.from(t).getPublicUrl(n);return i.publicUrl}},notifications:{list:async(e=8,t={})=>{const{data:{user:s}}=await j.auth.getUser();if(!s)throw new Error("Not authenticated");let n=j.from("notifications").select("*").eq("user_id",s.id);t.type&&(n=n.eq("type",t.type)),t.isRead!==void 0&&(n=n.eq("is_read",t.isRead));const{data:a,error:i}=await n.order("created_at",{ascending:!1}).limit(e);if(i)throw i;return a||[]},get:async e=>{const{data:t,error:s}=await j.from("notifications").select("*").eq("id",e).single();if(s)throw s;return t},create:async e=>{const{data:{user:t}}=await j.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:s,error:n}=await j.from("notifications").insert([{user_id:t.id,...e,is_read:!1,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return s},unreadCount:async()=>{const{data:{user:e}}=await j.auth.getUser();if(!e)return 0;const{count:t,error:s}=await j.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("is_read",!1);if(s)throw s;return t||0},countByType:async e=>{const{data:{user:t}}=await j.auth.getUser();if(!t)return 0;const{count:s,error:n}=await j.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t.id).eq("type",e);if(n)throw n;return s||0},markAsRead:async e=>{const{data:t,error:s}=await j.from("notifications").update({is_read:!0}).eq("id",e).select().single();if(s)throw s;return t},markAsUnread:async e=>{const{data:t,error:s}=await j.from("notifications").update({is_read:!1}).eq("id",e).select().single();if(s)throw s;return t},markAllAsRead:async()=>{const{data:{user:e}}=await j.auth.getUser();if(!e)throw new Error("Not authenticated");const{error:t}=await j.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1);if(t)throw t},markAllAsUnread:async()=>{const{data:{user:e}}=await j.auth.getUser();if(!e)throw new Error("Not authenticated");const{error:t}=await j.from("notifications").update({is_read:!1}).eq("user_id",e.id);if(t)throw t},deleteById:async e=>{const{error:t}=await j.from("notifications").delete().eq("id",e);if(t)throw t},deleteByType:async e=>{const{data:{user:t}}=await j.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:s}=await j.from("notifications").delete().eq("user_id",t.id).eq("type",e);if(s)throw s},deleteAllRead:async()=>{const{data:{user:e}}=await j.auth.getUser();if(!e)throw new Error("Not authenticated");const{error:t}=await j.from("notifications").delete().eq("user_id",e.id).eq("is_read",!0);if(t)throw t},deleteAll:async()=>{const{data:{user:e}}=await j.auth.getUser();if(!e)throw new Error("Not authenticated");const{error:t}=await j.from("notifications").delete().eq("user_id",e.id);if(t)throw t}},getVendorProfile:async e=>{if(!e)return null;const{data:t,error:s}=await j.from("vendors").select("*").eq("user_id",e).maybeSingle();if(s)throw s;return t},updateVendorProfile:async(e,t)=>{const{data:s,error:n}=await j.from("vendors").update(t).eq("user_id",e).select().single();if(n)throw n;return s},documents:{upload:async(e,t)=>{const s=await Ce(),n=e.name.split(".").pop(),a=`vendor-docs/${s}/${t}_${Date.now()}.${n}`,{error:i}=await j.storage.from("avatars").upload(a,e,{upsert:!1});if(i)throw new Error(`Failed to upload file: ${i.message}`);const{data:o}=j.storage.from("avatars").getPublicUrl(a),{data:l,error:c}=await j.from("vendor_documents").insert([{vendor_id:s,document_type:t,document_url:o.publicUrl,original_name:e.name,uploaded_at:new Date().toISOString(),verification_status:"PENDING"}]).select().single();if(c)throw new Error(`Failed to save document: ${c.message}`);return l},list:async(e={})=>{const t=await Ce();let s=j.from("vendor_documents").select("*").eq("vendor_id",t);e.type&&(s=s.eq("document_type",e.type)),e.status&&(s=s.eq("verification_status",e.status));const{data:n,error:a}=await s.order("uploaded_at",{ascending:!1});if(a)throw a;return n||[]},getByType:async e=>{const t=await Ce(),{data:s,error:n}=await j.from("vendor_documents").select("*").eq("vendor_id",t).eq("document_type",e).order("uploaded_at",{ascending:!1});if(n)throw n;return s||[]},getById:async e=>{const{data:t,error:s}=await j.from("vendor_documents").select("*").eq("id",e).single();if(s)throw s;return t},updateVerificationStatus:async(e,t)=>{if(!["PENDING","VERIFIED","REJECTED"].includes(t))throw new Error(`Invalid status: ${t}`);const{data:n,error:a}=await j.from("vendor_documents").update({verification_status:t}).eq("id",e).select().single();if(a)throw a;return n},getPendingDocuments:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_documents").select("*").eq("vendor_id",e).eq("verification_status","PENDING").order("uploaded_at",{ascending:!0});if(s)throw s;return t||[]},getVerifiedDocuments:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_documents").select("*").eq("vendor_id",e).eq("verification_status","VERIFIED").order("uploaded_at",{ascending:!1});if(s)throw s;return t||[]},delete:async e=>{const{error:t}=await j.from("vendor_documents").delete().eq("id",e);if(t)throw t},deleteByType:async e=>{const t=await Ce(),{error:s}=await j.from("vendor_documents").delete().eq("vendor_id",t).eq("document_type",e);if(s)throw s}},contactPersons:{list:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_contact_persons").select("*").eq("vendor_id",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]},get:async e=>{const{data:t,error:s}=await j.from("vendor_contact_persons").select("*").eq("id",e).single();if(s)throw s;return t},getPrimary:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_contact_persons").select("*").eq("vendor_id",e).eq("is_primary",!0).maybeSingle();if(s)throw s;return t},create:async e=>{const t=await Ce();if(e.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))throw new Error("Invalid email format");if(e.is_primary){const{error:a}=await j.from("vendor_contact_persons").update({is_primary:!1}).eq("vendor_id",t);if(a)throw a}const{data:s,error:n}=await j.from("vendor_contact_persons").insert([{...e,vendor_id:t,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return s},update:async(e,t)=>{if(t.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))throw new Error("Invalid email format");const{data:s,error:n}=await j.from("vendor_contact_persons").select("vendor_id").eq("id",e).single();if(n)throw n;if(t.is_primary){const{error:o}=await j.from("vendor_contact_persons").update({is_primary:!1}).eq("vendor_id",s.vendor_id).neq("id",e);if(o)throw o}const{data:a,error:i}=await j.from("vendor_contact_persons").update(t).eq("id",e).select().single();if(i)throw i;return a},setPrimary:async e=>{const{data:t,error:s}=await j.from("vendor_contact_persons").select("vendor_id").eq("id",e).single();if(s)throw s;const{error:n}=await j.from("vendor_contact_persons").update({is_primary:!1}).eq("vendor_id",t.vendor_id).neq("id",e);if(n)throw n;const{data:a,error:i}=await j.from("vendor_contact_persons").update({is_primary:!0}).eq("id",e).select().single();if(i)throw i;return a},delete:async e=>{const{data:t,error:s}=await j.from("vendor_contact_persons").select("is_primary, vendor_id").eq("id",e).single();if(s)throw s;if(t!=null&&t.is_primary){const{data:a,error:i}=await j.from("vendor_contact_persons").select("id").eq("vendor_id",t.vendor_id).neq("id",e).limit(1).maybeSingle();if(i)throw i;if(a!=null&&a.id){const{error:o}=await j.from("vendor_contact_persons").update({is_primary:!0}).eq("id",a.id);if(o)throw o}}const{error:n}=await j.from("vendor_contact_persons").delete().eq("id",e);if(n)throw n}},messages:{list:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_messages").select("*").eq("vendor_id",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]},markAsRead:async e=>{const{error:t}=await j.from("vendor_messages").update({is_read:!0}).eq("id",e);if(t)throw t},sendReply:async e=>{const{error:t}=await j.from("vendor_messages").update({is_replied:!0}).eq("id",e);if(t)throw t;return!0},delete:async e=>{const{error:t}=await j.from("vendor_messages").delete().eq("id",e);if(t)throw t}},products:{list:async(e={})=>{const t=await Ce();let s=j.from("products").select("*").eq("vendor_id",t);e.status&&(s=s.eq("status",e.status)),e.category&&(s=s.eq("micro_category_id",e.category));const{data:n,error:a}=await s.order("created_at",{ascending:!1});if(a)throw a;return n||[]},listByStatus:async(e="ACTIVE")=>{const t=await Ce(),{data:s,error:n}=await j.from("products").select("*").eq("vendor_id",t).eq("status",e).order("created_at",{ascending:!1});if(n)throw n;return s||[]},get:async e=>{const{data:t,error:s}=await j.from("products").select(`
          *,
          micro_category:micro_categories(id, name, slug),
          sub_category:sub_categories(id, name, slug),
          head_category:head_categories(id, name, slug)
        `).eq("id",e).single();if(s)throw s;return t},create:async e=>{const t=await Ce(),s=K0(e.name),n={...e,vendor_id:t,slug:s,status:e.status||"DRAFT",views:0,created_at:new Date().toISOString()},{data:a,error:i}=await j.from("products").insert([n]).select().single();if(i)throw i;return a},update:async(e,t)=>{const s={...t};t.name&&(s.slug=K0(t.name)),s.updated_at=new Date().toISOString();const{data:n,error:a}=await j.from("products").update(s).eq("id",e).select().single();if(a)throw a;return n},updateStatus:async(e,t)=>{if(!["ACTIVE","DRAFT","ARCHIVED"].includes(t))throw new Error(`Invalid status: ${t}`);const{data:n,error:a}=await j.from("products").update({status:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw a;return n},delete:async e=>{const{error:t}=await j.from("products").delete().eq("id",e);if(t)throw t},addImage:async(e,t)=>{const s=t.name.split(".").pop(),n=`products/${e}/${Date.now()}.${s}`,{error:a}=await j.storage.from("avatars").upload(n,t,{upsert:!1});if(a)throw new Error(`Failed to upload image: ${a.message}`);const{data:i}=j.storage.from("avatars").getPublicUrl(n),{data:o,error:l}=await j.from("products").select("images").eq("id",e).single();if(l)throw l;const d=[...(o==null?void 0:o.images)||[],{url:i.publicUrl,uploaded_at:new Date().toISOString()}],{data:u,error:h}=await j.from("products").update({images:d}).eq("id",e).select().single();if(h)throw h;return u},removeImage:async(e,t)=>{const{data:s,error:n}=await j.from("products").select("images").eq("id",e).single();if(n)throw n;const a=((s==null?void 0:s.images)||[]).filter(l=>l.url!==t),{data:i,error:o}=await j.from("products").update({images:a}).eq("id",e).select().single();if(o)throw o;return i},incrementViews:async e=>{const{data:t,error:s}=await j.from("products").select("views").eq("id",e).single();if(s)throw s;const n=((t==null?void 0:t.views)||0)+1,{error:a}=await j.from("products").update({views:n}).eq("id",e);if(a)throw a},getAllMicroCategories:async()=>{const{data:e,error:t}=await j.from("micro_categories").select(`
          id, name, slug, description,
          sub_categories(id, name, slug, head_categories(id, name, slug))
        `).eq("is_active",!0).order("name");if(t)throw t;return e||[]},matchCategory:async e=>{var i,o,l,c,d,u,h,p,f,g,x,w;if(!e||e.length<3)return null;const{data:t,error:s}=await j.from("micro_categories").select(`
          id, name, slug,
          sub_categories(id, name, slug, head_categories(id, name, slug))
        `).ilike("name",`${e}%`).limit(1).maybeSingle();if(s)throw s;if(t)return{confidence:95,micro_category_id:t.id,name:t.name,slug:t.slug,sub_category_id:(i=t.sub_categories)==null?void 0:i.id,head_category_id:(l=(o=t.sub_categories)==null?void 0:o.head_categories)==null?void 0:l.id,path:`${(d=(c=t.sub_categories)==null?void 0:c.head_categories)==null?void 0:d.name} > ${(u=t.sub_categories)==null?void 0:u.name} > ${t.name}`,matchScore:95};const{data:n,error:a}=await j.from("micro_categories").select(`
          id, name, slug, description,
          sub_categories(id, name, slug, head_categories(id, name, slug))
        `).eq("is_active",!0).limit(200);if(a||!n)return null;try{const{findBestMatchingCategory:y,isStrongMatch:v}=await Qn(()=>import("./categoryMatcher-cf51f316.js"),[]),b=y(e,n);if(!b)return null;const N=b.category,k=b.score;return{confidence:Math.round(k*100),micro_category_id:N.id,name:N.name,slug:N.slug,sub_category_id:(h=N.sub_categories)==null?void 0:h.id,head_category_id:(f=(p=N.sub_categories)==null?void 0:p.head_categories)==null?void 0:f.id,path:`${(x=(g=N.sub_categories)==null?void 0:g.head_categories)==null?void 0:x.name} > ${(w=N.sub_categories)==null?void 0:w.name} > ${N.name}`,matchScore:Math.round(k*100),isStrong:v(k)}}catch(y){return console.error("Category match error:",y),null}}},proposals:{list:async(e="received")=>{const t=await Ce();if(e==="sent"){const{data:s,error:n}=await j.from("proposals").select("*, buyers(full_name, company_name)").eq("vendor_id",t).eq("status","SENT").order("created_at",{ascending:!1});if(n)throw n;return s||[]}else{const{data:s,error:n}=await j.from("proposals").select("*, buyers(full_name, company_name)").eq("vendor_id",t).neq("status","SENT").order("created_at",{ascending:!1});if(n)throw n;return s||[]}},create:async e=>{const t=await Ce(),{data:s,error:n}=await j.from("proposals").insert([{vendor_id:t,title:e.title||e.quotation_title,product_name:e.product_name||e.quotation_title,quantity:e.quantity||null,budget:e.budget||e.quotation_amount,description:e.description||e.terms_conditions||"",status:e.status||"SENT",buyer_id:e.buyer_id||null}]).select().single();if(n)throw n;return s}},leads:{getMarketplaceLeads:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("lead_purchases").select("lead_id").eq("vendor_id",e);if(s)throw s;const n=(t==null?void 0:t.map(o=>o.lead_id))||[],{data:a,error:i}=await j.from("leads").select("*").eq("status","ACTIVE").neq("vendor_id",e).order("created_at",{ascending:!1}).limit(100);if(i)throw i;return(a||[]).filter(o=>!n.includes(o.id))},getMyLeads:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("lead_purchases").select("*, lead:leads(*)").eq("vendor_id",e);if(s)throw s;const{data:n,error:a}=await j.from("leads").select("*").eq("vendor_id",e);if(a)throw a;const{data:i,error:o}=await j.from("proposals").select("*, buyer:buyers(full_name, company_name)").eq("vendor_id",e).eq("status","SENT").order("created_at",{ascending:!1});o&&console.error("Error fetching proposals:",o);const l=(t||[]).map(u=>({...u.lead,source:"Purchased",purchase_date:u.purchase_date})),c=(n||[]).map(u=>({...u,source:"Direct",purchase_date:u.created_at})),d=(i||[]).map(u=>{var h,p;return{id:u.id,title:u.title,description:u.description,category:"Proposal",status:"AVAILABLE",source:"Direct Proposal",purchase_date:u.created_at,created_at:u.created_at,buyer_name:((h=u.buyer)==null?void 0:h.full_name)||"Unknown Buyer",buyer_company:(p=u.buyer)==null?void 0:p.company_name,quantity:u.quantity,budget:u.budget,required_by_date:u.required_by_date}});return[...l,...c,...d].sort((u,h)=>new Date(h.created_at||0)-new Date(u.created_at||0))},purchase:async e=>{const t=await Ce(),{data:s,error:n}=await j.from("leads").select("price").eq("id",e).single();if(n)throw n;const{data:a,error:i}=await j.from("lead_purchases").insert([{vendor_id:t,lead_id:e,amount:(s==null?void 0:s.price)||0,payment_status:"COMPLETED",purchase_date:new Date().toISOString()}]).select().single();if(i)throw i;return a}},dashboard:{getStats:async()=>{const{data:{user:e}}=await j.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:s}=await j.from("vendors").select("id, profile_completion, kyc_status, vendor_id").eq("user_id",e.id).single();if(s||!t)return console.error("Vendor not found:",s),{totalProducts:0,totalLeads:0,totalMessages:0,profileCompletion:0,kycStatus:"PENDING",trustScore:0,rating:0};const[n,a,i,o]=await Promise.all([j.from("products").select("*",{count:"exact"}).eq("vendor_id",t.id).limit(1),j.from("leads").select("*",{count:"exact"}).eq("vendor_id",t.id).eq("status","AVAILABLE").limit(1),j.from("proposals").select("*",{count:"exact"}).eq("vendor_id",t.id).eq("status","SENT").limit(1),j.from("vendor_messages").select("*",{count:"exact"}).eq("vendor_id",t.id).limit(1)]);return{totalProducts:n.count||0,totalLeads:(a.count||0)+(i.count||0),totalMessages:o.count||0,profileCompletion:t.profile_completion||0,kycStatus:t.kyc_status||"PENDING",trustScore:0,rating:0,vendorId:t.vendor_id}}},getRecentProducts:async e=>{const{data:t,error:s}=await j.from("vendors").select("id").eq("user_id",e).single();if(s)throw s;if(!t)return[];const{data:n,error:a}=await j.from("products").select("*").eq("vendor_id",t.id).order("created_at",{ascending:!1}).limit(5);if(a)throw a;return n||[]},getRecentLeads:async e=>{const{data:t,error:s}=await j.from("vendors").select("id").eq("user_id",e).single();if(s)throw s;if(!t)return[];const{data:n,error:a}=await j.from("leads").select("*").eq("vendor_id",t.id).order("created_at",{ascending:!1}).limit(5);if(a)throw a;return n||[]},getSupportStats:async e=>{const{data:t,error:s}=await j.from("vendors").select("id").eq("user_id",e).single();if(s)throw s;if(!t)return{total:0,unresolved:0};const{count:n,error:a}=await j.from("support_tickets").select("*",{count:"exact",head:!0}).eq("vendor_id",t.id);if(a)throw a;const{count:i,error:o}=await j.from("support_tickets").select("*",{count:"exact",head:!0}).eq("vendor_id",t.id).neq("status","CLOSED");if(o)throw o;return{total:n||0,unresolved:i||0}},banking:{list:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_bank_details").select("*").eq("vendor_id",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]},get:async e=>{const{data:t,error:s}=await j.from("vendor_bank_details").select("*").eq("id",e).single();if(s)throw s;return t},getPrimary:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_bank_details").select("*").eq("vendor_id",e).eq("is_primary",!0).maybeSingle();if(s)throw s;return t},add:async e=>{const t=await Ce(),{id:s,...n}=e;if(n.is_primary){const{error:o}=await j.from("vendor_bank_details").update({is_primary:!1}).eq("vendor_id",t);if(o)throw o}const{data:a,error:i}=await j.from("vendor_bank_details").insert([{...n,vendor_id:t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(i)throw i;return a},update:async(e,t)=>{const{data:s,error:n}=await j.from("vendor_bank_details").select("vendor_id").eq("id",e).single();if(n)throw n;if(t.is_primary){const{error:o}=await j.from("vendor_bank_details").update({is_primary:!1}).eq("vendor_id",s.vendor_id).neq("id",e);if(o)throw o}const{data:a,error:i}=await j.from("vendor_bank_details").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(i)throw i;return a},setPrimary:async e=>{const{data:t,error:s}=await j.from("vendor_bank_details").select("vendor_id").eq("id",e).single();if(s)throw s;const{error:n}=await j.from("vendor_bank_details").update({is_primary:!1}).eq("vendor_id",t.vendor_id).neq("id",e);if(n)throw n;const{data:a,error:i}=await j.from("vendor_bank_details").update({is_primary:!0,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(i)throw i;return a},delete:async e=>{const{data:t,error:s}=await j.from("vendor_bank_details").select("is_primary").eq("id",e).single();if(s)throw s;if(t!=null&&t.is_primary){const{data:a,error:i}=await j.from("vendor_bank_details").select("id").neq("id",e).limit(1).maybeSingle();if(i)throw i;if(a!=null&&a.id){const{error:o}=await j.from("vendor_bank_details").update({is_primary:!0}).eq("id",a.id);if(o)throw o}}const{error:n}=await j.from("vendor_bank_details").delete().eq("id",e);if(n)throw n}},subscriptions:{getCurrent:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_plan_subscriptions").select("*, plan:vendor_plans(*)").eq("vendor_id",e).eq("status","ACTIVE").order("start_date",{ascending:!1}).limit(1).maybeSingle();if(s)throw s;return t},getHistory:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_plan_subscriptions").select("*, plan:vendor_plans(*)").eq("vendor_id",e).order("start_date",{ascending:!1});if(s)throw s;return t||[]},getQuota:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_lead_quota").select("*").eq("vendor_id",e).maybeSingle();if(s)throw s;return t},getAllPlans:async()=>{const{data:e,error:t}=await j.from("vendor_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(t)throw t;return e||[]},subscribe:async e=>{const t=await Ce(),{data:s,error:n}=await j.from("vendor_plans").select("id").eq("id",e).single();if(n)throw n;const a=new Date;a.setHours(0,0,0,0);const i=new Date(a);i.setDate(i.getDate()+365);const{data:o,error:l}=await j.from("vendor_plan_subscriptions").insert([{vendor_id:t,plan_id:e,start_date:a.toISOString(),end_date:i.toISOString(),status:"ACTIVE",plan_duration_days:365,auto_renewal_enabled:!1,renewal_notification_sent:!1}]).select("*, plan:vendor_plans(*)").single();if(l)throw l;return o},renew:async e=>{const{data:t,error:s}=await j.from("vendor_plan_subscriptions").select("id, end_date").eq("id",e).single();if(s)throw s;const n=new Date(t.end_date),a=new Date(n);a.setDate(a.getDate()+365);const{data:i,error:o}=await j.from("vendor_plan_subscriptions").update({end_date:a.toISOString(),renewal_notification_sent:!1,renewal_notification_sent_at:null}).eq("id",e).select("*, plan:vendor_plans(*)").single();if(o)throw o;return i},cancel:async e=>{const{error:t}=await j.from("vendor_plan_subscriptions").update({status:"CANCELLED"}).eq("id",e);if(t)throw t},updateAutoRenewal:async(e,t)=>{const{data:s,error:n}=await j.from("vendor_plan_subscriptions").update({auto_renewal_enabled:t}).eq("id",e).select().single();if(n)throw n;return s}},leadQuota:{get:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_lead_quota").select("*").eq("vendor_id",e).maybeSingle();if(s)throw s;return t||{vendor_id:e,daily_used:0,daily_limit:0,weekly_used:0,weekly_limit:0,yearly_used:0,yearly_limit:0,last_reset_date:new Date().toISOString()}},initialize:async e=>{const t=await Ce(),{data:s,error:n}=await j.from("vendor_plans").select("daily_limit, weekly_limit, yearly_limit").eq("id",e).single();if(n)throw n;const{data:a,error:i}=await j.from("vendor_lead_quota").select("id").eq("vendor_id",t).maybeSingle();if(i)throw i;const o={vendor_id:t,plan_id:e,daily_used:0,daily_limit:(s==null?void 0:s.daily_limit)||0,weekly_used:0,weekly_limit:(s==null?void 0:s.weekly_limit)||0,yearly_used:0,yearly_limit:(s==null?void 0:s.yearly_limit)||0,last_reset_date:new Date().toISOString(),updated_at:new Date().toISOString()};if(a!=null&&a.id){const{data:l,error:c}=await j.from("vendor_lead_quota").update(o).eq("vendor_id",t).select().single();if(c)throw c;return l}else{const{data:l,error:c}=await j.from("vendor_lead_quota").insert([o]).select().single();if(c)throw c;return l}},incrementDaily:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_lead_quota").select("*").eq("vendor_id",e).maybeSingle();if(s)throw s;if(!t)throw new Error("Quota not initialized");const n=(t.daily_used||0)+1;if(n>t.daily_limit)throw new Error(`Daily quota exceeded: ${n}/${t.daily_limit}`);const{data:a,error:i}=await j.from("vendor_lead_quota").update({daily_used:n,updated_at:new Date().toISOString()}).eq("vendor_id",e).select().single();if(i)throw i;return a},incrementWeekly:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_lead_quota").select("*").eq("vendor_id",e).maybeSingle();if(s)throw s;if(!t)throw new Error("Quota not initialized");const n=(t.weekly_used||0)+1;if(n>t.weekly_limit)throw new Error(`Weekly quota exceeded: ${n}/${t.weekly_limit}`);const{data:a,error:i}=await j.from("vendor_lead_quota").update({weekly_used:n,updated_at:new Date().toISOString()}).eq("vendor_id",e).select().single();if(i)throw i;return a},incrementYearly:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_lead_quota").select("*").eq("vendor_id",e).maybeSingle();if(s)throw s;if(!t)throw new Error("Quota not initialized");const n=(t.yearly_used||0)+1;if(n>t.yearly_limit)throw new Error(`Yearly quota exceeded: ${n}/${t.yearly_limit}`);const{data:a,error:i}=await j.from("vendor_lead_quota").update({yearly_used:n,updated_at:new Date().toISOString()}).eq("vendor_id",e).select().single();if(i)throw i;return a},resetDaily:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_lead_quota").update({daily_used:0,updated_at:new Date().toISOString()}).eq("vendor_id",e).select().single();if(s)throw s;return t},resetWeekly:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_lead_quota").update({weekly_used:0,updated_at:new Date().toISOString()}).eq("vendor_id",e).select().single();if(s)throw s;return t},resetYearly:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_lead_quota").update({yearly_used:0,last_reset_date:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("vendor_id",e).select().single();if(s)throw s;return t},canAccessDaily:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_lead_quota").select("daily_used, daily_limit").eq("vendor_id",e).maybeSingle();if(s)throw s;return t?t.daily_used<t.daily_limit:!1},canAccessWeekly:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_lead_quota").select("weekly_used, weekly_limit").eq("vendor_id",e).maybeSingle();if(s)throw s;return t?t.weekly_used<t.weekly_limit:!1},canAccessYearly:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_lead_quota").select("yearly_used, yearly_limit").eq("vendor_id",e).maybeSingle();if(s)throw s;return t?t.yearly_used<t.yearly_limit:!1}},preferences:{get:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendor_preferences").select("*").eq("vendor_id",e).maybeSingle();if(s)throw s;return t||{vendor_id:e,preferred_micro_categories:[],preferred_states:[],preferred_cities:[],min_budget:0,max_budget:999999,auto_lead_filter:!0}},create:async e=>{const t=await Ce(),{data:s,error:n}=await j.from("vendor_preferences").insert([{vendor_id:t,...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(n)throw n;return s},update:async e=>{const t=await Ce(),{data:s}=await j.from("vendor_preferences").select("id").eq("vendor_id",t).maybeSingle();if(s!=null&&s.id){const{data:n,error:a}=await j.from("vendor_preferences").update({...e,updated_at:new Date().toISOString()}).eq("vendor_id",t).select().single();if(a)throw a;return n}else{const{data:n,error:a}=await j.from("vendor_preferences").insert([{vendor_id:t,...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(a)throw a;return n}},updateBudgetRange:async(e,t)=>{const s=await Ce(),{data:n,error:a}=await j.from("vendor_preferences").update({min_budget:e,max_budget:t,updated_at:new Date().toISOString()}).eq("vendor_id",s).select().single();if(a)throw a;return n},addCategory:async e=>{const t=await Ce(),{data:s,error:n}=await j.from("vendor_preferences").select("preferred_micro_categories").eq("vendor_id",t).maybeSingle();if(n)throw n;const a=(s==null?void 0:s.preferred_micro_categories)||[];a.includes(e)||a.push(e);const{data:i,error:o}=await j.from("vendor_preferences").update({preferred_micro_categories:a,updated_at:new Date().toISOString()}).eq("vendor_id",t).select().single();if(o)throw o;return i},removeCategory:async e=>{const t=await Ce(),{data:s,error:n}=await j.from("vendor_preferences").select("preferred_micro_categories").eq("vendor_id",t).maybeSingle();if(n)throw n;const a=((s==null?void 0:s.preferred_micro_categories)||[]).filter(l=>l!==e),{data:i,error:o}=await j.from("vendor_preferences").update({preferred_micro_categories:a,updated_at:new Date().toISOString()}).eq("vendor_id",t).select().single();if(o)throw o;return i},addState:async e=>{const t=await Ce(),{data:s,error:n}=await j.from("vendor_preferences").select("preferred_states").eq("vendor_id",t).maybeSingle();if(n)throw n;const a=(s==null?void 0:s.preferred_states)||[];a.includes(e)||a.push(e);const{data:i,error:o}=await j.from("vendor_preferences").update({preferred_states:a,updated_at:new Date().toISOString()}).eq("vendor_id",t).select().single();if(o)throw o;return i},removeState:async e=>{const t=await Ce(),{data:s,error:n}=await j.from("vendor_preferences").select("preferred_states").eq("vendor_id",t).maybeSingle();if(n)throw n;const a=((s==null?void 0:s.preferred_states)||[]).filter(l=>l!==e),{data:i,error:o}=await j.from("vendor_preferences").update({preferred_states:a,updated_at:new Date().toISOString()}).eq("vendor_id",t).select().single();if(o)throw o;return i},addCity:async e=>{const t=await Ce(),{data:s,error:n}=await j.from("vendor_preferences").select("preferred_cities").eq("vendor_id",t).maybeSingle();if(n)throw n;const a=(s==null?void 0:s.preferred_cities)||[];a.includes(e)||a.push(e);const{data:i,error:o}=await j.from("vendor_preferences").update({preferred_cities:a,updated_at:new Date().toISOString()}).eq("vendor_id",t).select().single();if(o)throw o;return i},removeCity:async e=>{const t=await Ce(),{data:s,error:n}=await j.from("vendor_preferences").select("preferred_cities").eq("vendor_id",t).maybeSingle();if(n)throw n;const a=((s==null?void 0:s.preferred_cities)||[]).filter(l=>l!==e),{data:i,error:o}=await j.from("vendor_preferences").update({preferred_cities:a,updated_at:new Date().toISOString()}).eq("vendor_id",t).select().single();if(o)throw o;return i},toggleAutoFilter:async e=>{const t=await Ce(),{data:s,error:n}=await j.from("vendor_preferences").update({auto_lead_filter:e,updated_at:new Date().toISOString()}).eq("vendor_id",t).select().single();if(n)throw n;return s},getStats:async()=>{var i,o,l;const e=await Ce(),{data:t}=await j.from("vendor_preferences").select("preferred_states, preferred_cities, preferred_micro_categories").eq("vendor_id",e).maybeSingle();if(!t)return{vendorsInMyState:0,vendorsInMyCity:0,vendorsInMyCategories:0};let s=0;if(((i=t.preferred_states)==null?void 0:i.length)>0){const c=t.preferred_states,{count:d}=await j.from("vendor_preferences").select("*",{count:"exact",head:!0}).or(c.map((u,h)=>`preferred_states.contains.${JSON.stringify([u])}`).join(","));s=d||0}let n=0;if(((o=t.preferred_cities)==null?void 0:o.length)>0){const c=t.preferred_cities,{count:d}=await j.from("vendor_preferences").select("*",{count:"exact",head:!0}).or(c.map((u,h)=>`preferred_cities.contains.${JSON.stringify([u])}`).join(","));n=d||0}let a=0;if(((l=t.preferred_micro_categories)==null?void 0:l.length)>0){const c=t.preferred_micro_categories,{count:d}=await j.from("vendor_preferences").select("*",{count:"exact",head:!0}).or(c.map((u,h)=>`preferred_micro_categories.contains.${JSON.stringify([u])}`).join(","));a=d||0}return{vendorsInMyState:s,vendorsInMyCity:n,vendorsInMyCategories:a}}},support:{getTickets:async(e={})=>{const t=await Ce();let s=j.from("support_tickets").select("*").eq("vendor_id",t);e.status&&(s=s.eq("status",e.status)),e.priority&&(s=s.eq("priority",e.priority)),e.category&&(s=s.eq("category",e.category));const{data:n,error:a}=await s.order("created_at",{ascending:!1});if(a)throw a;return n||[]},getTicketsByStatus:async e=>{const t=await Ce();if(!["OPEN","CLOSED","IN_PROGRESS"].includes(e))throw new Error(`Invalid status: ${e}`);const{data:n,error:a}=await j.from("support_tickets").select("*").eq("vendor_id",t).eq("status",e).order("created_at",{ascending:!1});if(a)throw a;return n||[]},getOpenTickets:async()=>je.support.getTicketsByStatus("OPEN"),getClosedTickets:async()=>je.support.getTicketsByStatus("CLOSED"),createTicket:async e=>{const t=await Ce();await j.auth.getUser();const s=`TKT-${Date.now()}`,{data:n,error:a}=await j.from("support_tickets").insert([{vendor_id:t,subject:e.subject,description:e.description,category:e.category||"General Inquiry",priority:e.priority||"Medium",status:"OPEN",ticket_display_id:s,created_at:new Date().toISOString()}]).select().single();if(a)throw a;return n},getTicket:async e=>{const{data:t,error:s}=await j.from("support_tickets").select("*").eq("id",e).single();if(s)throw s;return t},getTicketDetail:async e=>{const{data:t,error:s}=await j.from("support_tickets").select("*").eq("id",e).single();if(s)throw s;const{data:n,error:a}=await j.from("ticket_messages").select("*").eq("ticket_id",e).order("created_at",{ascending:!0});if(a)throw a;return{...t,messages:n||[]}},updateTicketStatus:async(e,t)=>{if(!["OPEN","CLOSED","IN_PROGRESS"].includes(t))throw new Error(`Invalid status: ${t}`);const n={status:t,updated_at:new Date().toISOString()};t==="CLOSED"&&(n.resolved_at=new Date().toISOString());const{data:a,error:i}=await j.from("support_tickets").update(n).eq("id",e).select().single();if(i)throw i;return a},updateTicketPriority:async(e,t)=>{if(!["Low","Medium","High","Critical"].includes(t))throw new Error(`Invalid priority: ${t}`);const{data:n,error:a}=await j.from("support_tickets").update({priority:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw a;return n},closeTicket:async e=>je.support.updateTicketStatus(e,"CLOSED"),reopenTicket:async e=>je.support.updateTicketStatus(e,"OPEN"),addMessage:async(e,t)=>{const{data:{user:s}}=await j.auth.getUser();if(!s)throw new Error("Not authenticated");const{error:n}=await j.from("support_tickets").update({last_reply_at:new Date().toISOString()}).eq("id",e);if(n)throw n;const{data:a,error:i}=await j.from("ticket_messages").insert([{ticket_id:e,sender_id:s.id,sender_type:"VENDOR",message:t,created_at:new Date().toISOString()}]).select().single();if(i)throw i;return a},getMessages:async e=>{const{data:t,error:s}=await j.from("ticket_messages").select("*").eq("ticket_id",e).order("created_at",{ascending:!0});if(s)throw s;return t||[]},deleteMessage:async e=>{const{error:t}=await j.from("ticket_messages").delete().eq("id",e);if(t)throw t},getStats:async()=>{const e=await Ce(),{count:t}=await j.from("support_tickets").select("*",{count:"exact",head:!0}).eq("vendor_id",e),{count:s}=await j.from("support_tickets").select("*",{count:"exact",head:!0}).eq("vendor_id",e).eq("status","OPEN"),{count:n}=await j.from("support_tickets").select("*",{count:"exact",head:!0}).eq("vendor_id",e).eq("status","CLOSED");return{total:t||0,open:s||0,closed:n||0,unresolved:(s||0)+((await j.from("support_tickets").select("*",{count:"exact",head:!0}).eq("vendor_id",e).eq("status","IN_PROGRESS")).count||0)}},sendMessage:async(e,t)=>je.support.addMessage(e,t)},kyc:{getStatus:async()=>{const e=await Ce(),{data:t,error:s}=await j.from("vendors").select("kyc_status, kyc_docs").eq("id",e).single();if(s)throw s;const n=(t==null?void 0:t.kyc_docs)||{};return{status:(t==null?void 0:t.kyc_status)||"PENDING",documents:{pan:n.pan||!1,gst:n.gst||!1,businessProof:n.businessProof||!1,bankProof:n.bankProof||!1}}},uploadDoc:async(e,t)=>{const s=await Ce(),n=t.name.split(".").pop(),a=`vendor-kyc/${s}/${e}_${Date.now()}.${n}`,{error:i}=await j.storage.from("avatars").upload(a,t,{upsert:!0});if(i)throw i;const{data:{publicUrl:o}}=j.storage.from("avatars").getPublicUrl(a),{data:l,error:c}=await j.from("vendors").select("kyc_docs").eq("id",s).single();if(c)throw c;const d=(l==null?void 0:l.kyc_docs)||{},{error:u}=await j.from("vendors").update({kyc_docs:{...d,[e]:!0,[`${e}_url`]:o}}).eq("id",s);if(u)throw u},submit:async()=>{const e=await Ce(),{error:t}=await j.from("vendors").update({kyc_status:"SUBMITTED"}).eq("id",e);if(t)throw t}}},hS=m.createContext({}),fc=()=>m.useContext(hS),l3=({children:e})=>{const[t,s]=m.useState(null),[n,a]=m.useState(!0),[i,o]=m.useState(!1),l=m.useCallback(async()=>{var d;try{const{data:{session:u},error:h}=await j.auth.getSession();if(h)throw h;if(!(u!=null&&u.user))return s(null),o(!1),null;const p=((d=u.user.user_metadata)==null?void 0:d.role)||"VENDOR",f=await je.auth.me(),g=f?{...f,role:p}:{...u.user,role:p};return s(g),o(!0),g}catch(u){return console.error("refreshUser failed:",u),s(null),o(!1),null}},[]),c=m.useCallback(async()=>{try{await j.auth.signOut()}catch(d){console.error("Logout error:",d)}finally{s(null),o(!1)}},[]);return m.useEffect(()=>{let d=!0;(async()=>{try{if(!d)return;await l()}finally{d&&a(!1)}})();const{data:{subscription:h}}=j.auth.onAuthStateChange(async(p,f)=>{d&&(f!=null&&f.user?await l():(s(null),o(!1)),a(!1))});return()=>{var p;d=!1,(p=h==null?void 0:h.unsubscribe)==null||p.call(h)}},[l]),m.useEffect(()=>{const d=()=>l();return window.addEventListener("vendor_profile_updated",d),()=>window.removeEventListener("vendor_profile_updated",d)},[l]),r.jsx(hS.Provider,{value:{user:t,setUser:s,loading:n,isAuthenticated:i,refreshUser:l,logout:c},children:e})},c3=async(e,t)=>{await new Promise(n=>setTimeout(n,800));const s=e.toLowerCase();if(s.includes("data")&&(t==="data"||t==="123456"))return{user:{id:"emp_001",name:"Deepak Kumar",email:s,role:"DATA_ENTRY",avatar:"D"}};if(s.includes("support")&&(t==="support"||t==="123456"))return{user:{id:"emp_002",name:"Sarah Wilson",email:s,role:"SUPPORT",avatar:"S"}};if(s.includes("sales")&&(t==="sales"||t==="123456"))return{user:{id:"emp_003",name:"Rahul Sharma",email:s,role:"SALES",avatar:"R"}};throw new Error('Invalid email or password. Try password: "data", "support", or "sales"')},d3={auth:{login:async(e,t)=>c3(e,t),logout:()=>{}},profile:{get:()=>Promise.resolve({}),update:e=>Promise.resolve(e)}},mS=m.createContext(null),u3=({children:e})=>{const[t,s]=m.useState(null),[n,a]=m.useState(!1),[i,o]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const u=localStorage.getItem("itm_employee_user");if(u){const h=JSON.parse(u);s(h),a(!0)}}catch(u){console.error("Session check failed",u),localStorage.removeItem("itm_employee_user")}finally{o(!1)}})()},[]);const l=async(d,u)=>{try{const h=await d3.auth.login(d,u);return h&&h.user?(s(h.user),a(!0),localStorage.setItem("itm_employee_user",JSON.stringify(h.user)),M({title:"Welcome back!",description:`Logged in as ${h.user.role.replace("_"," ")}`,className:"bg-green-50 border-green-200"}),h.user):null}catch(h){return console.error("Login Error:",h),M({title:"Login Failed",description:h.message||"Invalid credentials. Please try again.",variant:"destructive"}),null}},c=()=>{s(null),a(!1),localStorage.removeItem("itm_employee_user"),M({title:"Logged Out",description:"You have been successfully logged out."})};return r.jsx(mS.Provider,{value:{user:t,isAuthenticated:n,isLoading:i,login:l,logout:c},children:e})},jh=()=>m.useContext(mS),pS=m.createContext(),h3=new Set(["vendor","buyer","man","dir","admin","career"]),m3=({children:e})=>{const[t,s]=m.useState(null),[n,a]=m.useState("main"),[i,o]=m.useState("");m.useEffect(()=>{const c=window.location.hostname;if(c.includes("localhost")||c.includes("127.0.0.1")){s(null),a("main"),o("");return}if(c.endsWith(".netlify.app")){s(null),a("main"),o("");return}const d=c.split(".");let u="";if(d.length>=3&&d[0]!=="www"&&(u=d[0]),!h3.has(u)){s(null),a("main"),o("");return}switch(s(u),u){case"vendor":a("vendor");break;case"buyer":a("buyer");break;case"man":a("management");break;case"dir":a("directory");break;case"admin":a("admin");break;case"career":a("career");break;default:a("main");break}o("")},[]);const l=(c,d)=>{if(n==="main"){const u=c.startsWith("/")?c:`/${c}`;return u.startsWith(`/${d}`)?u:`/${d}${u}`}return c.startsWith("/")?c:`/${c}`};return r.jsx(pS.Provider,{value:{subdomain:t,appType:n,resolvePath:l,basePath:i},children:e})},Ex=()=>{const e=m.useContext(pS);if(!e)throw new Error("useSubdomain must be used within a SubdomainProvider");return e},fS=m.createContext(null),p3=({children:e})=>{const[t,s]=m.useState({}),[n,a]=m.useState(!0);m.useEffect(()=>{const l=async()=>{try{console.log("[PageStatusContext] Fetching all page statuses...");const{data:u,error:h}=await j.from("page_status").select("*");if(h){console.error("[PageStatusContext] Error fetching statuses:",h),a(!1);return}const p={};u&&u.forEach(f=>{p[f.page_route]={is_blanked:f.is_blanked===!0,error_message:f.error_message||""},console.log("[PageStatusContext] Loaded:",f.page_route,{is_blanked:f.is_blanked})}),s(p),console.log("[PageStatusContext] All page statuses loaded:",p),a(!1)}catch(u){console.error("[PageStatusContext] Exception:",u),a(!1)}};l();const c=j.channel("all_page_statuses",{config:{broadcast:{self:!0}}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"page_status"},u=>{if(console.log("[PageStatusContext] Realtime UPDATE received:",u),u.new){const h=u.new.page_route,p=u.new.is_blanked===!0;console.log("[PageStatusContext] Updating status for:",h,"- is_blanked:",p),s(f=>({...f,[h]:{is_blanked:p,error_message:u.new.error_message||""}}))}}).on("postgres_changes",{event:"INSERT",schema:"public",table:"page_status"},u=>{if(console.log("[PageStatusContext] Realtime INSERT received:",u),u.new){const h=u.new.page_route,p=u.new.is_blanked===!0;s(f=>({...f,[h]:{is_blanked:p,error_message:u.new.error_message||""}}))}}).subscribe(u=>{console.log("[PageStatusContext] Subscription status:",u)}),d=setInterval(l,5e3);return()=>{clearInterval(d),c.unsubscribe()}},[]);const i=l=>t[l]||{is_blanked:!1,error_message:""},o=l=>{var c;return((c=t[l])==null?void 0:c.is_blanked)===!0};return r.jsx(fS.Provider,{value:{pageStatuses:t,isLoading:n,getPageStatus:i,isPageOffline:o},children:e})},f3=()=>{const e=m.useContext(fS);if(!e)throw new Error("usePageStatusContext must be used within PageStatusProvider");return e},Px={getStates:async()=>{const{data:e,error:t}=await j.from("states").select("*").eq("is_active",!0).order("name");return t?(console.error("Error fetching states:",t),[]):e},getCities:async e=>{if(!e)return[];const{data:t,error:s}=await j.from("cities").select("*").eq("state_id",e).eq("is_active",!0).order("name");return s?(console.error("Error fetching cities:",s),[]):t},getCitiesByStateSlug:async e=>{if(!e)return[];try{const{data:t,error:s}=await j.from("states").select("id").eq("slug",e).single();if(s||!t)return[];const{data:n,error:a}=await j.from("cities").select("*").eq("state_id",t.id).eq("is_active",!0).order("name");return a?[]:n.length===0?[{id:"101",name:"Gurugram",slug:"gurugram"},{id:"102",name:"Noida",slug:"noida"},{id:"103",name:"Faridabad",slug:"faridabad"},{id:"104",name:"Ghaziabad",slug:"ghaziabad"},{id:"105",name:"Rohtak",slug:"rohtak"}]:n}catch(t){return console.error("Error fetching nearby cities",t),[]}},getLocationBySlug:async(e,t)=>{try{let s=null,n=null;if(e){const{data:a}=await j.from("states").select("*").eq("slug",e).single();s=a}if(t&&s){const{data:a}=await j.from("cities").select("*").eq("slug",t).eq("state_id",s.id).single();n=a}return{state:s,city:n}}catch(s){return console.error("Location lookup failed",s),{state:null,city:null}}},seedLocations:async()=>!0};function g3(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...n)=>e(...n);return new Proxy(s,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}function Nh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Af=e=>Array.isArray(e);function gS(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function Hl(e){return typeof e=="string"||Array.isArray(e)}function X0(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function Ax(e,t,s,n){if(typeof t=="function"){const[a,i]=X0(n);t=t(s!==void 0?s:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=X0(n);t=t(s!==void 0?s:e.custom,a,i)}return t}function _h(e,t,s){const n=e.getProps();return Ax(n,t,s!==void 0?s:n.custom,e)}const Tx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dx=["initial",...Tx],gc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ri=new Set(gc),on=e=>e*1e3,ln=e=>e/1e3,x3={type:"spring",stiffness:500,damping:25,restSpeed:10},v3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),y3={type:"keyframes",duration:.8},w3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b3=(e,{keyframes:t})=>t.length>2?y3:ri.has(e)?e.startsWith("scale")?v3(t[1]):x3:w3;function Rx(e,t){return e?e[t]||e.default||e:void 0}const j3={skipAnimations:!1,useManualTiming:!1},N3=e=>e!==null;function Sh(e,{repeat:t,repeatType:s="loop"},n){const a=e.filter(N3),i=t&&s!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const Ms=e=>e;let xS=Ms;function _3(e){let t=new Set,s=new Set,n=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,h=!1)=>{const f=h&&n?t:s;return u&&i.add(d),f.has(d)||f.add(d),d},cancel:d=>{s.delete(d),i.delete(d)},process:d=>{if(o=d,n){a=!0;return}n=!0,[t,s]=[s,t],t.forEach(l),t.clear(),n=!1,a&&(a=!1,c.process(d))}};return c}const rd=["read","resolveKeyframes","update","preRender","render","postRender"],S3=40;function vS(e,t){let s=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,o=rd.reduce((y,v)=>(y[v]=_3(i),y),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:p}=o,f=()=>{const y=performance.now();s=!1,a.delta=n?1e3/60:Math.max(Math.min(y-a.timestamp,S3),1),a.timestamp=y,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),p.process(a),a.isProcessing=!1,s&&t&&(n=!1,e(f))},g=()=>{s=!0,n=!0,a.isProcessing||e(f)};return{schedule:rd.reduce((y,v)=>{const b=o[v];return y[v]=(N,k=!1,T=!1)=>(s||g(),b.schedule(N,k,T)),y},{}),cancel:y=>{for(let v=0;v<rd.length;v++)o[rd[v]].cancel(y)},state:a,steps:o}}const{schedule:it,cancel:Zn,state:Ft,steps:Dm}=vS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ms,!0),yS=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,C3=1e-7,k3=12;function E3(e,t,s,n,a){let i,o,l=0;do o=t+(s-t)/2,i=yS(o,n,a)-e,i>0?s=o:t=o;while(Math.abs(i)>C3&&++l<k3);return o}function xc(e,t,s,n){if(e===t&&s===n)return Ms;const a=i=>E3(i,0,1,e,s);return i=>i===0||i===1?i:yS(a(i),t,n)}const wS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bS=e=>t=>1-e(1-t),jS=xc(.33,1.53,.69,.99),Ix=bS(jS),NS=wS(Ix),_S=e=>(e*=2)<1?.5*Ix(e):.5*(2-Math.pow(2,-10*(e-1))),Ox=e=>1-Math.sin(Math.acos(e)),SS=bS(Ox),CS=wS(Ox),kS=e=>/^0[^.\s]+$/u.test(e);function P3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||kS(e):!0}const ES=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),PS=e=>t=>typeof t=="string"&&t.startsWith(e),AS=PS("--"),A3=PS("var(--"),Mx=e=>A3(e)?T3.test(e.split("/*")[0].trim()):!1,T3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,D3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function R3(e){const t=D3.exec(e);if(!t)return[,];const[,s,n,a]=t;return[`--${s??n}`,a]}function TS(e,t,s=1){const[n,a]=R3(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return ES(o)?parseFloat(o):o}return Mx(a)?TS(a,t,s+1):a}const pn=(e,t,s)=>s>t?t:s<e?e:s,ko={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Wl={...ko,transform:e=>pn(0,1,e)},nd={...ko,default:1},vc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),kn=vc("deg"),Or=vc("%"),Ae=vc("px"),I3=vc("vh"),O3=vc("vw"),J0={...Or,parse:e=>Or.parse(e)/100,transform:e=>Or.transform(e*100)},M3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Q0=e=>e===ko||e===Ae,Z0=(e,t)=>parseFloat(e.split(", ")[t]),ew=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return Z0(a[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?Z0(i[1],e):0}},L3=new Set(["x","y","z"]),F3=gc.filter(e=>!L3.has(e));function V3(e){const t=[];return F3.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const co={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ew(4,13),y:ew(5,14)};co.translateX=co.x;co.translateY=co.y;const DS=e=>t=>t.test(e),q3={test:e=>e==="auto",parse:e=>e},RS=[ko,Ae,Or,kn,O3,I3,q3],tw=e=>RS.find(DS(e)),Ma=new Set;let Tf=!1,Df=!1;function IS(){if(Df){const e=Array.from(Ma).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const a=V3(n);a.length&&(s.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=s.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Df=!1,Tf=!1,Ma.forEach(e=>e.complete()),Ma.clear()}function OS(){Ma.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Df=!0)})}function B3(){OS(),IS()}class Lx{constructor(t,s,n,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ma.add(this),Tf||(Tf=!0,it.read(OS),it.resolveKeyframes(IS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&s){const c=n.readValue(s,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ma.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ma.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const yl=e=>Math.round(e*1e5)/1e5,Fx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $3(e){return e==null}const U3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vx=(e,t)=>s=>!!(typeof s=="string"&&U3.test(s)&&s.startsWith(e)||t&&!$3(s)&&Object.prototype.hasOwnProperty.call(s,t)),MS=(e,t,s)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(Fx);return{[e]:parseFloat(a),[t]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},z3=e=>pn(0,255,e),Rm={...ko,transform:e=>Math.round(z3(e))},Aa={test:Vx("rgb","red"),parse:MS("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Rm.transform(e)+", "+Rm.transform(t)+", "+Rm.transform(s)+", "+yl(Wl.transform(n))+")"};function H3(e){let t="",s="",n="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Rf={test:Vx("#"),parse:H3,transform:Aa.transform},Di={test:Vx("hsl","hue"),parse:MS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Or.transform(yl(t))+", "+Or.transform(yl(s))+", "+yl(Wl.transform(n))+")"},Kt={test:e=>Aa.test(e)||Rf.test(e)||Di.test(e),parse:e=>Aa.test(e)?Aa.parse(e):Di.test(e)?Di.parse(e):Rf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Aa.transform(e):Di.transform(e)},W3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K3(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Fx))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(W3))===null||s===void 0?void 0:s.length)||0)>0}const LS="number",FS="color",G3="var",Y3="var(",sw="${}",X3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kl(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(X3,c=>(Kt.test(c)?(n.color.push(i),a.push(FS),s.push(Kt.parse(c))):c.startsWith(Y3)?(n.var.push(i),a.push(G3),s.push(c)):(n.number.push(i),a.push(LS),s.push(parseFloat(c))),++i,sw)).split(sw);return{values:s,split:l,indexes:n,types:a}}function VS(e){return Kl(e).values}function qS(e){const{split:t,types:s}=Kl(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=s[o];l===LS?i+=yl(a[o]):l===FS?i+=Kt.transform(a[o]):i+=a[o]}return i}}const J3=e=>typeof e=="number"?0:e;function Q3(e){const t=VS(e);return qS(e)(t.map(J3))}const ea={test:K3,parse:VS,createTransformer:qS,getAnimatableNone:Q3},Z3=new Set(["brightness","contrast","saturate","opacity"]);function eL(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Fx)||[];if(!n)return e;const a=s.replace(n,"");let i=Z3.has(t)?1:0;return n!==s&&(i*=100),t+"("+i+a+")"}const tL=/\b([a-z-]*)\(.*?\)/gu,If={...ea,getAnimatableNone:e=>{const t=e.match(tL);return t?t.map(eL).join(" "):e}},sL={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae},rL={rotate:kn,rotateX:kn,rotateY:kn,rotateZ:kn,scale:nd,scaleX:nd,scaleY:nd,scaleZ:nd,skew:kn,skewX:kn,skewY:kn,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:Wl,originX:J0,originY:J0,originZ:Ae},rw={...ko,transform:Math.round},qx={...sL,...rL,zIndex:rw,size:Ae,fillOpacity:Wl,strokeOpacity:Wl,numOctaves:rw},nL={...qx,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:If,WebkitFilter:If},Bx=e=>nL[e];function BS(e,t){let s=Bx(e);return s!==If&&(s=ea),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const aL=new Set(["auto","none","0"]);function iL(e,t,s){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!aL.has(i)&&Kl(i).values.length&&(a=e[n]),n++}if(a&&s)for(const i of t)e[i]=BS(s,a)}class $S extends Lx{constructor(t,s,n,a,i){super(t,s,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Mx(d))){const u=TS(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!M3.has(n)||t.length!==2)return;const[a,i]=t,o=tw(a),l=tw(i);if(o!==l)if(Q0(o)&&Q0(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let a=0;a<t.length;a++)P3(t[a])&&n.push(a);n.length&&iL(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=co[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var t;const{element:s,name:n,unresolvedKeyframes:a}=this;if(!s||!s.current)return;const i=s.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=co[n](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function $x(e){return typeof e=="function"}let Id;function oL(){Id=void 0}const Mr={now:()=>(Id===void 0&&Mr.set(Ft.isProcessing||j3.useManualTiming?Ft.timestamp:performance.now()),Id),set:e=>{Id=e,queueMicrotask(oL)}},nw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ea.test(e)||e==="0")&&!e.startsWith("url("));function lL(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function cL(e,t,s,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=nw(a,t),l=nw(i,t);return!o||!l?!1:lL(e)||(s==="spring"||$x(s))&&n}const dL=40;class US{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mr.now(),this.options={autoplay:t,delay:s,type:n,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>dL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&B3(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=Mr.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!cL(t,n,a,i))if(o)this.options.duration=0;else{c==null||c(Sh(t,this.options,s)),l==null||l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,s);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...u},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const uo=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},zS=(e,t,s=10)=>{let n="";const a=Math.max(Math.round(t/s),2);for(let i=0;i<a;i++)n+=e(uo(0,a-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function HS(e,t){return t?e*(1e3/t):0}const uL=5;function WS(e,t,s){const n=Math.max(t-uL,0);return HS(s-e(n),t-n)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Im=.001;function hL({duration:e=gt.duration,bounce:t=gt.bounce,velocity:s=gt.velocity,mass:n=gt.mass}){let a,i,o=1-t;o=pn(gt.minDamping,gt.maxDamping,o),e=pn(gt.minDuration,gt.maxDuration,ln(e)),o<1?(a=d=>{const u=d*o,h=u*e,p=u-s,f=Of(d,o),g=Math.exp(-h);return Im-p/f*g},i=d=>{const h=d*o*e,p=h*s+s,f=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-h),x=Of(Math.pow(d,2),o);return(-a(d)+Im>0?-1:1)*((p-f)*g)/x}):(a=d=>{const u=Math.exp(-d*e),h=(d-s)*e+1;return-Im+u*h},i=d=>{const u=Math.exp(-d*e),h=(s-d)*(e*e);return u*h});const l=5/e,c=pL(a,i,l);if(e=on(e),isNaN(c))return{stiffness:gt.stiffness,damping:gt.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const mL=12;function pL(e,t,s){let n=s;for(let a=1;a<mL;a++)n=n-e(n)/t(n);return n}function Of(e,t){return e*Math.sqrt(1-t*t)}const Mf=2e4;function KS(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<Mf;)t+=s,n=e.next(t);return t>=Mf?1/0:t}const fL=["duration","bounce"],gL=["stiffness","damping","mass"];function aw(e,t){return t.some(s=>e[s]!==void 0)}function xL(e){let t={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...e};if(!aw(e,gL)&&aw(e,fL))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),a=n*n,i=2*pn(.05,1,1-e.bounce)*Math.sqrt(a);t={...t,mass:gt.mass,stiffness:a,damping:i}}else{const s=hL(e);t={...t,...s,mass:gt.mass},t.isResolvedFromDuration=!0}return t}function GS(e=gt.visualDuration,t=gt.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=s;const i=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:p,isResolvedFromDuration:f}=xL({...s,velocity:-ln(s.velocity||0)}),g=p||0,x=d/(2*Math.sqrt(c*u)),w=o-i,y=ln(Math.sqrt(c/u)),v=Math.abs(w)<5;n||(n=v?gt.restSpeed.granular:gt.restSpeed.default),a||(a=v?gt.restDelta.granular:gt.restDelta.default);let b;if(x<1){const k=Of(y,x);b=T=>{const A=Math.exp(-x*y*T);return o-A*((g+x*y*w)/k*Math.sin(k*T)+w*Math.cos(k*T))}}else if(x===1)b=k=>o-Math.exp(-y*k)*(w+(g+y*w)*k);else{const k=y*Math.sqrt(x*x-1);b=T=>{const A=Math.exp(-x*y*T),_=Math.min(k*T,300);return o-A*((g+x*y*w)*Math.sinh(_)+k*w*Math.cosh(_))/k}}const N={calculatedDuration:f&&h||null,next:k=>{const T=b(k);if(f)l.done=k>=h;else{let A=0;x<1&&(A=k===0?on(g):WS(b,k,T));const _=Math.abs(A)<=n,C=Math.abs(o-T)<=a;l.done=_&&C}return l.value=l.done?o:T,l},toString:()=>{const k=Math.min(KS(N),Mf),T=zS(A=>N.next(k*A).value,k,30);return k+"ms "+T}};return N}function iw({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],p={done:!1,value:h},f=_=>l!==void 0&&_<l||c!==void 0&&_>c,g=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let x=s*t;const w=h+x,y=o===void 0?w:o(w);y!==w&&(x=y-h);const v=_=>-x*Math.exp(-_/n),b=_=>y+v(_),N=_=>{const C=v(_),I=b(_);p.done=Math.abs(C)<=d,p.value=p.done?y:I};let k,T;const A=_=>{f(p.value)&&(k=_,T=GS({keyframes:[p.value,g(p.value)],velocity:WS(b,_,p.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return A(0),{calculatedDuration:null,next:_=>{let C=!1;return!T&&k===void 0&&(C=!0,N(_),A(_)),k!==void 0&&_>=k?T.next(_-k):(!C&&N(_),p)}}}const vL=xc(.42,0,1,1),yL=xc(0,0,.58,1),YS=xc(.42,0,.58,1),wL=e=>Array.isArray(e)&&typeof e[0]!="number",Ux=e=>Array.isArray(e)&&typeof e[0]=="number",bL={linear:Ms,easeIn:vL,easeInOut:YS,easeOut:yL,circIn:Ox,circInOut:CS,circOut:SS,backIn:Ix,backInOut:NS,backOut:jS,anticipate:_S},ow=e=>{if(Ux(e)){xS(e.length===4);const[t,s,n,a]=e;return xc(t,s,n,a)}else if(typeof e=="string")return bL[e];return e},jL=(e,t)=>s=>t(e(s)),yc=(...e)=>e.reduce(jL),ht=(e,t,s)=>e+(t-e)*s;function Om(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function NL({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let a=0,i=0,o=0;if(!t)a=i=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;a=Om(c,l,e+1/3),i=Om(c,l,e),o=Om(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function yu(e,t){return s=>s>0?t:e}const Mm=(e,t,s)=>{const n=e*e,a=s*(t*t-n)+n;return a<0?0:Math.sqrt(a)},_L=[Rf,Aa,Di],SL=e=>_L.find(t=>t.test(e));function lw(e){const t=SL(e);if(!t)return!1;let s=t.parse(e);return t===Di&&(s=NL(s)),s}const cw=(e,t)=>{const s=lw(e),n=lw(t);if(!s||!n)return yu(e,t);const a={...s};return i=>(a.red=Mm(s.red,n.red,i),a.green=Mm(s.green,n.green,i),a.blue=Mm(s.blue,n.blue,i),a.alpha=ht(s.alpha,n.alpha,i),Aa.transform(a))},Lf=new Set(["none","hidden"]);function CL(e,t){return Lf.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function kL(e,t){return s=>ht(e,t,s)}function zx(e){return typeof e=="number"?kL:typeof e=="string"?Mx(e)?yu:Kt.test(e)?cw:AL:Array.isArray(e)?XS:typeof e=="object"?Kt.test(e)?cw:EL:yu}function XS(e,t){const s=[...e],n=s.length,a=e.map((i,o)=>zx(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)s[o]=a[o](i);return s}}function EL(e,t){const s={...e,...t},n={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(n[a]=zx(e[a])(e[a],t[a]));return a=>{for(const i in n)s[i]=n[i](a);return s}}function PL(e,t){var s;const n=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][a[o]],c=(s=e.values[l])!==null&&s!==void 0?s:0;n[i]=c,a[o]++}return n}const AL=(e,t)=>{const s=ea.createTransformer(t),n=Kl(e),a=Kl(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?Lf.has(e)&&!a.values.length||Lf.has(t)&&!n.values.length?CL(e,t):yc(XS(PL(n,a),a.values),s):yu(e,t)};function JS(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?ht(e,t,s):zx(e)(e,t)}function TL(e,t,s){const n=[],a=s||JS,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ms:t;l=yc(c,l)}n.push(l)}return n}function DL(e,t,{clamp:s=!0,ease:n,mixer:a}={}){const i=e.length;if(xS(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=TL(t,n,a),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=uo(e[u],e[u+1],d);return o[u](h)};return s?d=>c(pn(e[0],e[i-1],d)):c}function RL(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const a=uo(0,t,n);e.push(ht(s,1,a))}}function IL(e){const t=[0];return RL(t,e.length-1),t}function OL(e,t){return e.map(s=>s*t)}function ML(e,t){return e.map(()=>t||YS).splice(0,e.length-1)}function wu({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const a=wL(n)?n.map(ow):ow(n),i={done:!1,value:t[0]},o=OL(s&&s.length===t.length?s:IL(t),e),l=DL(o,t,{ease:Array.isArray(a)?a:ML(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const LL=e=>{const t=({timestamp:s})=>e(s);return{start:()=>it.update(t,!0),stop:()=>Zn(t),now:()=>Ft.isProcessing?Ft.timestamp:Mr.now()}},FL={decay:iw,inertia:iw,tween:wu,keyframes:wu,spring:GS},VL=e=>e/100;class Hx extends US{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:n,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||Lx,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,s,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=$x(s)?s:FL[s]||wu;let c,d;l!==wu&&typeof t[0]!="number"&&(c=yc(VL,JS(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});i==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=KS(u));const{calculatedDuration:h}=u,p=h+a,f=p*(n+1)-a;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:p,totalDuration:f}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:n}=this;if(!n){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:p,repeat:f,repeatType:g,repeatDelay:x,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-p*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,N=i;if(f){const _=Math.min(this.currentTime,u)/h;let C=Math.floor(_),I=_%1;!I&&_>=1&&(I=1),I===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(g==="reverse"?(I=1-I,x&&(I-=x/h)):g==="mirror"&&(N=o)),b=pn(0,1,I)*h}const k=v?{done:!1,value:c[0]}:N.next(b);l&&(k.value=l(k.value));let{done:T}=k;!v&&d!==null&&(T=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return A&&a!==void 0&&(k.value=Sh(c,this.options,a)),w&&w(k.value),A&&this.finish(),k}get duration(){const{resolved:t}=this;return t?ln(t.calculatedDuration):0}get time(){return ln(this.currentTime)}set time(t){t=on(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=ln(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=LL,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),s&&s();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const qL=new Set(["opacity","clipPath","filter","transform"]);function Wx(e){let t;return()=>(t===void 0&&(t=e()),t)}const BL={linearEasing:void 0};function $L(e,t){const s=Wx(e);return()=>{var n;return(n=BL[t])!==null&&n!==void 0?n:s()}}const bu=$L(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function QS(e){return!!(typeof e=="function"&&bu()||!e||typeof e=="string"&&(e in Ff||bu())||Ux(e)||Array.isArray(e)&&e.every(QS))}const nl=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Ff={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nl([0,.65,.55,1]),circOut:nl([.55,0,1,.45]),backIn:nl([.31,.01,.66,-.59]),backOut:nl([.33,1.53,.69,.99])};function ZS(e,t){if(e)return typeof e=="function"&&bu()?zS(e,t):Ux(e)?nl(e):Array.isArray(e)?e.map(s=>ZS(s,t)||Ff.easeOut):Ff[e]}function UL(e,t,s,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:s};c&&(d.offset=c);const u=ZS(l,a);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function dw(e,t){e.timeline=t,e.onfinish=null}const zL=Wx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ju=10,HL=2e4;function WL(e){return $x(e.type)||e.type==="spring"||!QS(e.ease)}function KL(e,t){const s=new Hx({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const a=[];let i=0;for(;!n.done&&i<HL;)n=s.sample(i),a.push(n.value),i+=ju;return{times:void 0,keyframes:a,duration:i-ju,ease:"linear"}}const e2={anticipate:_S,backInOut:NS,circInOut:CS};function GL(e){return e in e2}class uw extends US{constructor(t){super(t);const{name:s,motionValue:n,element:a,keyframes:i}=this.options;this.resolver=new $S(i,(o,l)=>this.onKeyframesResolved(o,l),s,n,a),this.resolver.scheduleResolve()}initPlayback(t,s){var n;let{duration:a=300,times:i,ease:o,type:l,motionValue:c,name:d,startTime:u}=this.options;if(!(!((n=c.owner)===null||n===void 0)&&n.current))return!1;if(typeof o=="string"&&bu()&&GL(o)&&(o=e2[o]),WL(this.options)){const{onComplete:p,onUpdate:f,motionValue:g,element:x,...w}=this.options,y=KL(t,w);t=y.keyframes,t.length===1&&(t[1]=t[0]),a=y.duration,i=y.times,o=y.ease,l="keyframes"}const h=UL(c.owner.current,d,t,{...this.options,duration:a,times:i,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(dw(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;c.set(Sh(t,this.options,s)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:a,times:i,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return ln(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return ln(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=on(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return Ms;const{animation:n}=s;dw(n,t)}return Ms}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:n,duration:a,type:i,ease:o,times:l}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:p,...f}=this.options,g=new Hx({...f,keyframes:n,duration:a,type:i,ease:o,times:l,isGenerator:!0}),x=on(this.time);d.setWithVelocity(g.sample(x-ju).value,g.sample(x).value,ju)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:n,repeatDelay:a,repeatType:i,damping:o,type:l}=t;return zL()&&n&&qL.has(n)&&s&&s.owner&&s.owner.current instanceof HTMLElement&&!s.owner.getProps().onUpdate&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const YL=Wx(()=>window.ScrollTimeline!==void 0);class XL{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,s){return Promise.all(this.animations).then(t).catch(s)}getAll(t){return this.animations[0][t]}setAll(t,s){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=s}attachTimeline(t,s){const n=this.animations.map(a=>YL()&&a.attachTimeline?a.attachTimeline(t):s(a));return()=>{n.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function JL({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Kx=(e,t,s,n={},a,i)=>o=>{const l=Rx(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-on(c);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};JL(l)||(u={...u,...b3(e,u)}),u.duration&&(u.duration=on(u.duration)),u.repeatDelay&&(u.repeatDelay=on(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const p=Sh(u.keyframes,l);if(p!==void 0)return it.update(()=>{u.onUpdate(p),u.onComplete()}),new XL([])}return!i&&uw.supports(u)?new uw(u):new Hx(u)},QL=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),ZL=e=>Af(e)?e[e.length-1]||0:e;function Gx(e,t){e.indexOf(t)===-1&&e.push(t)}function Yx(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Xx{constructor(){this.subscriptions=[]}add(t){return Gx(this.subscriptions,t),()=>Yx(this.subscriptions,t)}notify(t,s,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hw=30,e6=e=>!isNaN(parseFloat(e));class t6{constructor(t,s={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const i=Mr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Mr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=e6(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Xx);const n=this.events[t].add(s);return t==="change"?()=>{n(),it.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hw)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,hw);return HS(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gl(e,t){return new t6(e,t)}function s6(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Gl(s))}function r6(e,t){const s=_h(e,t);let{transitionEnd:n={},transition:a={},...i}=s||{};i={...i,...n};for(const o in i){const l=ZL(i[o]);s6(e,o,l)}}const Jx=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),n6="framerAppearId",t2="data-"+Jx(n6);function s2(e){return e.props[t2]}const Yt=e=>!!(e&&e.getVelocity);function a6(e){return!!(Yt(e)&&e.add)}function Vf(e,t){const s=e.getValue("willChange");if(a6(s))return s.add(t)}function i6({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function r2(e,t,{delay:s=0,transitionOverride:n,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const h in c){const p=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),f=c[h];if(f===void 0||u&&i6(u,h))continue;const g={delay:s,...Rx(o||{},h)};let x=!1;if(window.MotionHandoffAnimation){const y=s2(e);if(y){const v=window.MotionHandoffAnimation(y,h,it);v!==null&&(g.startTime=v,x=!0)}}Vf(e,h),p.start(Kx(h,p,f,e.shouldReduceMotion&&ri.has(h)?{type:!1}:g,e,x));const w=p.animation;w&&d.push(w)}return l&&Promise.all(d).then(()=>{it.update(()=>{l&&r6(e,l)})}),d}function qf(e,t,s={}){var n;const a=_h(e,t,s.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(i=s.transitionOverride);const o=a?()=>Promise.all(r2(e,a,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:p}=i;return o6(e,t,u+d,h,p,s)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(s.delay)])}function o6(e,t,s=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(l6).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(qf(d,t,{...i,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function l6(e,t){return e.sortNodePosition(t)}function c6(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>qf(e,i,s));n=Promise.all(a)}else if(typeof t=="string")n=qf(e,t,s);else{const a=typeof t=="function"?_h(e,t,s.custom):t;n=Promise.all(r2(e,a,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const d6=Dx.length;function n2(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?n2(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<d6;s++){const n=Dx[s],a=e.props[n];(Hl(a)||a===!1)&&(t[n]=a)}return t}const u6=[...Tx].reverse(),h6=Tx.length;function m6(e){return t=>Promise.all(t.map(({animation:s,options:n})=>c6(e,s,n)))}function p6(e){let t=m6(e),s=mw(),n=!0;const a=c=>(d,u)=>{var h;const p=_h(e,u,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:f,transitionEnd:g,...x}=p;d={...d,...x,...g}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=n2(e.parent)||{},h=[],p=new Set;let f={},g=1/0;for(let w=0;w<h6;w++){const y=u6[w],v=s[y],b=d[y]!==void 0?d[y]:u[y],N=Hl(b),k=y===c?v.isActive:null;k===!1&&(g=w);let T=b===u[y]&&b!==d[y]&&N;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),v.protectedKeys={...f},!v.isActive&&k===null||!b&&!v.prevProp||Nh(b)||typeof b=="boolean")continue;const A=f6(v.prevProp,b);let _=A||y===c&&v.isActive&&!T&&N||w>g&&N,C=!1;const I=Array.isArray(b)?b:[b];let q=I.reduce(a(y),{});k===!1&&(q={});const{prevResolvedValues:F={}}=v,D={...F,...q},S=P=>{_=!0,p.has(P)&&(C=!0,p.delete(P)),v.needsAnimating[P]=!0;const R=e.getValue(P);R&&(R.liveStyle=!1)};for(const P in D){const R=q[P],L=F[P];if(f.hasOwnProperty(P))continue;let B=!1;Af(R)&&Af(L)?B=!gS(R,L):B=R!==L,B?R!=null?S(P):p.add(P):R!==void 0&&p.has(P)?S(P):v.protectedKeys[P]=!0}v.prevProp=b,v.prevResolvedValues=q,v.isActive&&(f={...f,...q}),n&&e.blockInitialAnimation&&(_=!1),_&&(!(T&&A)||C)&&h.push(...I.map(P=>({animation:P,options:{type:y}})))}if(p.size){const w={};p.forEach(y=>{const v=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),w[y]=v??null}),h.push({animation:w})}let x=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(h):Promise.resolve()}function l(c,d){var u;if(s[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(p=>{var f;return(f=p.animationState)===null||f===void 0?void 0:f.setActive(c,d)}),s[c].isActive=d;const h=o(c);for(const p in s)s[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s,reset:()=>{s=mw(),n=!0}}}function f6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gS(t,e):!1}function xa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mw(){return{animate:xa(!0),whileInView:xa(),whileHover:xa(),whileTap:xa(),whileDrag:xa(),whileFocus:xa(),exit:xa()}}class da{constructor(t){this.isMounted=!1,this.node=t}update(){}}class g6 extends da{constructor(t){super(t),t.animationState||(t.animationState=p6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Nh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let x6=0;class v6 extends da{constructor(){super(...arguments),this.id=x6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);s&&!t&&a.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const y6={animation:{Feature:g6},exit:{Feature:v6}},lr={x:!1,y:!1};function a2(){return lr.x||lr.y}function w6(e,t,s){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;t&&(a=t.current);const i=(n=s==null?void 0:s[e])!==null&&n!==void 0?n:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function i2(e,t){const s=w6(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[s,a,()=>n.abort()]}function pw(e){return t=>{t.pointerType==="touch"||a2()||e(t)}}function b6(e,t,s={}){const[n,a,i]=i2(e,s),o=pw(l=>{const{target:c}=l,d=t(l);if(!d||!c)return;const u=pw(h=>{d(h),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,a)});return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const Qx=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,al=new WeakSet;function fw(e){return t=>{t.key==="Enter"&&e(t)}}function Lm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const j6=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=fw(()=>{if(al.has(s))return;Lm(s,"down");const a=fw(()=>{Lm(s,"up")}),i=()=>Lm(s,"cancel");s.addEventListener("keyup",a,t),s.addEventListener("blur",i,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)},N6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _6(e){return N6.has(e.tagName)||e.tabIndex!==-1}const o2=(e,t)=>t?e===t?!0:o2(e,t.parentElement):!1;function gw(e){return Qx(e)&&!a2()}function S6(e,t,s={}){const[n,a,i]=i2(e,s),o=l=>{const c=l.currentTarget;if(!gw(l)||al.has(c))return;al.add(c);const d=t(l),u=(f,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!gw(f)||!al.has(c))&&(al.delete(c),d&&d(f,{success:g}))},h=f=>{u(f,s.useGlobalTarget||o2(c,f.target))},p=f=>{u(f,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",p,a)};return n.forEach(l=>{_6(l)||(l.tabIndex=0),(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",d=>j6(d,a),a)}),i}function C6(e){return e==="x"||e==="y"?lr[e]?null:(lr[e]=!0,()=>{lr[e]=!1}):lr.x||lr.y?null:(lr.x=lr.y=!0,()=>{lr.x=lr.y=!1})}function wc(e){return{point:{x:e.pageX,y:e.pageY}}}const k6=e=>t=>Qx(t)&&e(t,wc(t));function Yl(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function wl(e,t,s,n){return Yl(e,t,k6(s),n)}const xw=(e,t)=>Math.abs(e-t);function E6(e,t){const s=xw(e.x,t.x),n=xw(e.y,t.y);return Math.sqrt(s**2+n**2)}class l2{constructor(t,s,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Vm(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,f=E6(h.offset,{x:0,y:0})>=3;if(!p&&!f)return;const{point:g}=h,{timestamp:x}=Ft;this.history.push({...g,timestamp:x});const{onStart:w,onMove:y}=this.handlers;p||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Fm(p,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Vm(h.type==="pointercancel"?this.lastMoveEventInfo:Fm(p,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,w),g&&g(h,w)},!Qx(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=n,this.contextWindow=a||window;const o=wc(t),l=Fm(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ft;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,Vm(l,this.history)),this.removeListeners=yc(wl(this.contextWindow,"pointermove",this.handlePointerMove),wl(this.contextWindow,"pointerup",this.handlePointerUp),wl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zn(this.updatePoint)}}function Fm(e,t){return t?{point:t(e.point)}:e}function vw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vm({point:e},t){return{point:e,delta:vw(e,c2(t)),offset:vw(e,P6(t)),velocity:A6(t,.1)}}function P6(e){return e[0]}function c2(e){return e[e.length-1]}function A6(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const a=c2(e);for(;s>=0&&(n=e[s],!(a.timestamp-n.timestamp>on(t)));)s--;if(!n)return{x:0,y:0};const i=ln(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ri(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const d2=1e-4,T6=1-d2,D6=1+d2,u2=.01,R6=0-u2,I6=0+u2;function Vs(e){return e.max-e.min}function O6(e,t,s){return Math.abs(e-t)<=s}function yw(e,t,s,n=.5){e.origin=n,e.originPoint=ht(t.min,t.max,e.origin),e.scale=Vs(s)/Vs(t),e.translate=ht(s.min,s.max,e.origin)-e.originPoint,(e.scale>=T6&&e.scale<=D6||isNaN(e.scale))&&(e.scale=1),(e.translate>=R6&&e.translate<=I6||isNaN(e.translate))&&(e.translate=0)}function bl(e,t,s,n){yw(e.x,t.x,s.x,n?n.originX:void 0),yw(e.y,t.y,s.y,n?n.originY:void 0)}function ww(e,t,s){e.min=s.min+t.min,e.max=e.min+Vs(t)}function M6(e,t,s){ww(e.x,t.x,s.x),ww(e.y,t.y,s.y)}function bw(e,t,s){e.min=t.min-s.min,e.max=e.min+Vs(t)}function jl(e,t,s){bw(e.x,t.x,s.x),bw(e.y,t.y,s.y)}function L6(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?ht(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?ht(s,e,n.max):Math.min(e,s)),e}function jw(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function F6(e,{top:t,left:s,bottom:n,right:a}){return{x:jw(e.x,s,a),y:jw(e.y,t,n)}}function Nw(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function V6(e,t){return{x:Nw(e.x,t.x),y:Nw(e.y,t.y)}}function q6(e,t){let s=.5;const n=Vs(e),a=Vs(t);return a>n?s=uo(t.min,t.max-n,e.min):n>a&&(s=uo(e.min,e.max-a,t.min)),pn(0,1,s)}function B6(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Bf=.35;function $6(e=Bf){return e===!1?e=0:e===!0&&(e=Bf),{x:_w(e,"left","right"),y:_w(e,"top","bottom")}}function _w(e,t,s){return{min:Sw(e,t),max:Sw(e,s)}}function Sw(e,t){return typeof e=="number"?e:e[t]||0}const Cw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ii=()=>({x:Cw(),y:Cw()}),kw=()=>({min:0,max:0}),wt=()=>({x:kw(),y:kw()});function Ys(e){return[e("x"),e("y")]}function h2({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function U6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function z6(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function qm(e){return e===void 0||e===1}function $f({scale:e,scaleX:t,scaleY:s}){return!qm(e)||!qm(t)||!qm(s)}function wa(e){return $f(e)||m2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function m2(e){return Ew(e.x)||Ew(e.y)}function Ew(e){return e&&e!=="0%"}function Nu(e,t,s){const n=e-s,a=t*n;return s+a}function Pw(e,t,s,n,a){return a!==void 0&&(e=Nu(e,a,n)),Nu(e,s,n)+t}function Uf(e,t=0,s=1,n,a){e.min=Pw(e.min,t,s,n,a),e.max=Pw(e.max,t,s,n,a)}function p2(e,{x:t,y:s}){Uf(e.x,t.translate,t.scale,t.originPoint),Uf(e.y,s.translate,s.scale,s.originPoint)}const Aw=.999999999999,Tw=1.0000000000001;function H6(e,t,s,n=!1){const a=s.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=s[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mi(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,p2(e,o)),n&&wa(i.latestValues)&&Mi(e,i.latestValues))}t.x<Tw&&t.x>Aw&&(t.x=1),t.y<Tw&&t.y>Aw&&(t.y=1)}function Oi(e,t){e.min=e.min+t,e.max=e.max+t}function Dw(e,t,s,n,a=.5){const i=ht(e.min,e.max,a);Uf(e,t,s,i,n)}function Mi(e,t){Dw(e.x,t.x,t.scaleX,t.scale,t.originX),Dw(e.y,t.y,t.scaleY,t.scale,t.originY)}function f2(e,t){return h2(z6(e.getBoundingClientRect(),t))}function W6(e,t,s){const n=f2(e,s),{scroll:a}=t;return a&&(Oi(n.x,a.offset.x),Oi(n.y,a.offset.y)),n}const g2=({current:e})=>e?e.ownerDocument.defaultView:null,K6=new WeakMap;class G6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(wc(u).point)},i=(u,h)=>{const{drag:p,dragPropagation:f,onDragStart:g}=this.getProps();if(p&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=C6(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ys(w=>{let y=this.getAxisMotionValue(w).get()||0;if(Or.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[w];b&&(y=Vs(b)*(parseFloat(y)/100))}}this.originPoint[w]=y}),g&&it.postRender(()=>g(u,h)),Vf(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:p,dragDirectionLock:f,onDirectionLock:g,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=h;if(f&&this.currentDirection===null){this.currentDirection=Y6(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),x&&x(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Ys(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new l2(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:g2(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&it.postRender(()=>i(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:a}=this.getProps();if(!n||!ad(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=L6(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;s&&Ri(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=F6(a.layoutBox,s):this.constraints=!1,this.elastic=$6(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ys(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=B6(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Ri(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=W6(n,a.root,this.visualElement.getTransformPagePoint());let o=V6(a.layout.layoutBox,i);if(s){const l=s(U6(o));this.hasMutatedConstraints=!!l,l&&(o=h2(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Ys(u=>{if(!ad(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const p=a?200:1e6,f=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return Vf(this.visualElement,t),n.start(Kx(t,n,0,s,this.visualElement,!1))}stopAnimation(){Ys(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ys(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[s];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ys(s=>{const{drag:n}=this.getProps();if(!ad(s,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(s);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[s];i.set(t[s]-ht(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Ri(s)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ys(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=q6({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ys(o=>{if(!ad(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ht(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;K6.set(this.visualElement,this);const t=this.visualElement.current,s=wl(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ri(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),it.read(n);const o=Yl(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ys(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Bf,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function ad(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Y6(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class X6 extends da{constructor(t){super(t),this.removeGroupControls=Ms,this.removeListeners=Ms,this.controls=new G6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ms}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rw=e=>(t,s)=>{e&&it.postRender(()=>e(t,s))};class J6 extends da{constructor(){super(...arguments),this.removePointerDownListener=Ms}onPointerDown(t){this.session=new l2(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:g2(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Rw(t),onStart:Rw(s),onMove:n,onEnd:(i,o)=>{delete this.session,a&&it.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=wl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ch=m.createContext(null);function Q6(){const e=m.useContext(Ch);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:n}=e,a=m.useId();m.useEffect(()=>n(a),[]);const i=m.useCallback(()=>s&&s(a),[a,s]);return!t&&s?[!1,i]:[!0]}const Zx=m.createContext({}),x2=m.createContext({}),Od={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Iw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ae.test(e))e=parseFloat(e);else return e;const s=Iw(e,t.target.x),n=Iw(e,t.target.y);return`${s}% ${n}%`}},Z6={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,a=ea.parse(e);if(a.length>5)return n;const i=ea.createTransformer(e),o=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=ht(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}},_u={};function eF(e){Object.assign(_u,e)}const{schedule:ev,cancel:vH}=vS(queueMicrotask,!1);class tF extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;eF(sF),i&&(s.group&&s.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Od.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||it.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ev.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function v2(e){const[t,s]=Q6(),n=m.useContext(Zx);return r.jsx(tF,{...e,layoutGroup:n,switchLayoutGroup:m.useContext(x2),isPresent:t,safeToRemove:s})}const sF={borderRadius:{...Wo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wo,borderTopRightRadius:Wo,borderBottomLeftRadius:Wo,borderBottomRightRadius:Wo,boxShadow:Z6},y2=["TopLeft","TopRight","BottomLeft","BottomRight"],rF=y2.length,Ow=e=>typeof e=="string"?parseFloat(e):e,Mw=e=>typeof e=="number"||Ae.test(e);function nF(e,t,s,n,a,i){a?(e.opacity=ht(0,s.opacity!==void 0?s.opacity:1,aF(n)),e.opacityExit=ht(t.opacity!==void 0?t.opacity:1,0,iF(n))):i&&(e.opacity=ht(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let o=0;o<rF;o++){const l=`border${y2[o]}Radius`;let c=Lw(t,l),d=Lw(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Mw(c)===Mw(d)?(e[l]=Math.max(ht(Ow(c),Ow(d),n),0),(Or.test(d)||Or.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=ht(t.rotate||0,s.rotate||0,n))}function Lw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const aF=w2(0,.5,SS),iF=w2(.5,.95,Ms);function w2(e,t,s){return n=>n<e?0:n>t?1:s(uo(e,t,n))}function Fw(e,t){e.min=t.min,e.max=t.max}function Hs(e,t){Fw(e.x,t.x),Fw(e.y,t.y)}function Vw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qw(e,t,s,n,a){return e-=t,e=Nu(e,1/s,n),a!==void 0&&(e=Nu(e,1/a,n)),e}function oF(e,t=0,s=1,n=.5,a,i=e,o=e){if(Or.test(t)&&(t=parseFloat(t),t=ht(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ht(i.min,i.max,n);e===i&&(l-=t),e.min=qw(e.min,t,s,l,a),e.max=qw(e.max,t,s,l,a)}function Bw(e,t,[s,n,a],i,o){oF(e,t[s],t[n],t[a],t.scale,i,o)}const lF=["x","scaleX","originX"],cF=["y","scaleY","originY"];function $w(e,t,s,n){Bw(e.x,t,lF,s?s.x:void 0,n?n.x:void 0),Bw(e.y,t,cF,s?s.y:void 0,n?n.y:void 0)}function Uw(e){return e.translate===0&&e.scale===1}function b2(e){return Uw(e.x)&&Uw(e.y)}function zw(e,t){return e.min===t.min&&e.max===t.max}function dF(e,t){return zw(e.x,t.x)&&zw(e.y,t.y)}function Hw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function j2(e,t){return Hw(e.x,t.x)&&Hw(e.y,t.y)}function Ww(e){return Vs(e.x)/Vs(e.y)}function Kw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class uF{constructor(){this.members=[]}add(t){Gx(this.members,t),t.scheduleRender()}remove(t){if(Yx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let n;for(let a=s;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hF(e,t,s){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:p,skewX:f,skewY:g}=s;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),p&&(n+=`rotateY(${p}deg) `),f&&(n+=`skewX(${f}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const mF=(e,t)=>e.depth-t.depth;class pF{constructor(){this.children=[],this.isDirty=!1}add(t){Gx(this.children,t),this.isDirty=!0}remove(t){Yx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(mF),this.isDirty=!1,this.children.forEach(t)}}function Md(e){const t=Yt(e)?e.get():e;return QL(t)?t.toValue():t}function fF(e,t){const s=Mr.now(),n=({timestamp:a})=>{const i=a-s;i>=t&&(Zn(n),e(i-t))};return it.read(n,!0),()=>Zn(n)}function gF(e){return e instanceof SVGElement&&e.tagName!=="svg"}function xF(e,t,s){const n=Yt(e)?e:Gl(e);return n.start(Kx("",n,t,s)),n.animation}const ba={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},il=typeof window<"u"&&window.MotionDebug!==void 0,Bm=["","X","Y","Z"],vF={visibility:"hidden"},Gw=1e3;let yF=0;function $m(e,t,s,n){const{latestValues:a}=t;a[e]&&(s[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function N2(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=s2(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",it,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&N2(n)}function _2({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=yF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,il&&(ba.totalNodes=ba.resolvedTargetDeltas=ba.recalculatedProjection=0),this.nodes.forEach(jF),this.nodes.forEach(kF),this.nodes.forEach(EF),this.nodes.forEach(NF),il&&window.MotionDebug.record(ba)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new pF)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Xx),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gF(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=fF(p,250),Od.hasAnimatedSinceResize&&(Od.hasAnimatedSinceResize=!1,this.nodes.forEach(Xw))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||RF,{onLayoutAnimationStart:w,onLayoutAnimationComplete:y}=u.getProps(),v=!this.targetLayout||!j2(this.targetLayout,g)||f,b=!p&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const N={...Rx(x,"layout"),onPlay:w,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else p||Xw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&N2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yw);return}this.isUpdating||this.nodes.forEach(SF),this.isUpdating=!1,this.nodes.forEach(CF),this.nodes.forEach(wF),this.nodes.forEach(bF),this.clearAllSnapshots();const l=Mr.now();Ft.delta=pn(0,1e3/60,l-Ft.timestamp),Ft.timestamp=l,Ft.isProcessing=!0,Dm.update.process(Ft),Dm.preRender.process(Ft),Dm.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ev.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_F),this.sharedNodes.forEach(AF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!b2(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||wa(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),IF(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return wt();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(OF))){const{scroll:u}=this.root;u&&(Oi(c.x,u.offset.x),Oi(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=wt();if(Hs(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:p}=u;u!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Hs(c,o),Oi(c.x,h.offset.x),Oi(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=wt();Hs(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Mi(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),wa(u.latestValues)&&Mi(c,u.latestValues)}return wa(this.latestValues)&&Mi(c,this.latestValues),c}removeTransform(o){const l=wt();Hs(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!wa(d.latestValues))continue;$f(d.latestValues)&&d.updateSnapshot();const u=wt(),h=d.measurePageBox();Hs(u,h),$w(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return wa(this.latestValues)&&$w(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),jl(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hs(this.target,this.layout.layoutBox),p2(this.target,this.targetDelta)):Hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),jl(this.relativeTargetOrigin,this.target,f.target),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}il&&ba.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$f(this.parent.latestValues)||m2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Hs(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;H6(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=wt());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vw(this.prevProjectionDelta.x,this.projectionDelta.x),Vw(this.prevProjectionDelta.y,this.projectionDelta.y)),bl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==f||!Kw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),il&&ba.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ii(),this.projectionDelta=Ii(),this.projectionDeltaWithTransform=Ii()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Ii();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=wt(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=f!==g,w=this.getStack(),y=!w||w.members.length<=1,v=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(DF));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const k=N/1e3;Jw(h.x,o.x,k),Jw(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TF(this.relativeTarget,this.relativeTargetOrigin,p,k),b&&dF(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=wt()),Hs(b,this.relativeTarget)),x&&(this.animationValues=u,nF(u,d,this.latestValues,k,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{Od.hasAnimatedSinceResize=!0,this.currentAnimation=xF(0,Gw,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&S2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||wt();const h=Vs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=Vs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Hs(l,c),Mi(l,u),bl(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uF),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&$m("z",o,d,this.animationValues);for(let u=0;u<Bm.length;u++)$m(`rotate${Bm[u]}`,o,d,this.animationValues),$m(`skew${Bm[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vF;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Md(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Md(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!wa(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=hF(this.projectionDeltaWithTransform,this.treeScale,p),u&&(d.transform=u(p,d.transform));const{x:f,y:g}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in _u){if(p[x]===void 0)continue;const{correct:w,applyTo:y}=_u[x],v=d.transform==="none"?p[x]:w(p[x],h);if(y){const b=y.length;for(let N=0;N<b;N++)d[y[N]]=v}else d[x]=v}return this.options.layoutId&&(d.pointerEvents=h===this?Md(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Yw),this.root.sharedNodes.clear()}}}function wF(e){e.updateLayout()}function bF(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=s.source!==e.layout.source;i==="size"?Ys(h=>{const p=o?s.measuredBox[h]:s.layoutBox[h],f=Vs(p);p.min=n[h].min,p.max=p.min+f}):S2(i,s.layoutBox,n)&&Ys(h=>{const p=o?s.measuredBox[h]:s.layoutBox[h],f=Vs(n[h]);p.max=p.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=Ii();bl(l,n,s.layoutBox);const c=Ii();o?bl(c,e.applyTransform(a,!0),s.measuredBox):bl(c,n,s.layoutBox);const d=!b2(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:f}=h;if(p&&f){const g=wt();jl(g,s.layoutBox,p.layoutBox);const x=wt();jl(x,n,f.layoutBox),j2(g,x)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function jF(e){il&&ba.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function NF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _F(e){e.clearSnapshot()}function Yw(e){e.clearMeasurements()}function SF(e){e.isLayoutDirty=!1}function CF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Xw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function kF(e){e.resolveTargetDelta()}function EF(e){e.calcProjection()}function PF(e){e.resetSkewAndRotation()}function AF(e){e.removeLeadSnapshot()}function Jw(e,t,s){e.translate=ht(t.translate,0,s),e.scale=ht(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Qw(e,t,s,n){e.min=ht(t.min,s.min,n),e.max=ht(t.max,s.max,n)}function TF(e,t,s,n){Qw(e.x,t.x,s.x,n),Qw(e.y,t.y,s.y,n)}function DF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const RF={duration:.45,ease:[.4,0,.1,1]},Zw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),eb=Zw("applewebkit/")&&!Zw("chrome/")?Math.round:Ms;function tb(e){e.min=eb(e.min),e.max=eb(e.max)}function IF(e){tb(e.x),tb(e.y)}function S2(e,t,s){return e==="position"||e==="preserve-aspect"&&!O6(Ww(t),Ww(s),.2)}function OF(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const MF=_2({attachResizeListener:(e,t)=>Yl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Um={current:void 0},C2=_2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Um.current){const e=new MF({});e.mount(window),e.setOptions({layoutScroll:!0}),Um.current=e}return Um.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),LF={pan:{Feature:J6},drag:{Feature:X6,ProjectionNode:C2,MeasureLayout:v2}};function sb(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,i=n[a];i&&it.postRender(()=>i(t,wc(t)))}class FF extends da{mount(){const{current:t}=this.node;t&&(this.unmount=b6(t,s=>(sb(this.node,s,"Start"),n=>sb(this.node,n,"End"))))}unmount(){}}class VF extends da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yc(Yl(this.node.current,"focus",()=>this.onFocus()),Yl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rb(e,t,s){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),i=n[a];i&&it.postRender(()=>i(t,wc(t)))}class qF extends da{mount(){const{current:t}=this.node;t&&(this.unmount=S6(t,s=>(rb(this.node,s,"Start"),(n,{success:a})=>rb(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zf=new WeakMap,zm=new WeakMap,BF=e=>{const t=zf.get(e.target);t&&t(e)},$F=e=>{e.forEach(BF)};function UF({root:e,...t}){const s=e||document;zm.has(s)||zm.set(s,{});const n=zm.get(s),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver($F,{root:e,...t})),n[a]}function zF(e,t,s){const n=UF(t);return zf.set(e,s),n.observe(e),()=>{zf.delete(e),n.unobserve(e)}}const HF={some:0,all:1};class WF extends da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:a="some",once:i}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:HF[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=d?u:h;p&&p(c)};return zF(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(KF(t,s))&&this.startObserver()}unmount(){}}function KF({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const GF={inView:{Feature:WF},tap:{Feature:qF},focus:{Feature:VF},hover:{Feature:FF}},YF={layout:{ProjectionNode:C2,MeasureLayout:v2}},tv=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),kh=m.createContext({}),sv=typeof window<"u",k2=sv?m.useLayoutEffect:m.useEffect,E2=m.createContext({strict:!1});function XF(e,t,s,n,a){var i,o;const{visualElement:l}=m.useContext(kh),c=m.useContext(E2),d=m.useContext(Ch),u=m.useContext(tv).reducedMotion,h=m.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const p=h.current,f=m.useContext(x2);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&JF(h.current,s,a,f);const g=m.useRef(!1);m.useInsertionEffect(()=>{p&&g.current&&p.update(s,d)});const x=s[t2],w=m.useRef(!!x&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return k2(()=>{p&&(g.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),ev.render(p.render),w.current&&p.animationState&&p.animationState.animateChanges())}),m.useEffect(()=>{p&&(!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,x)}),w.current=!1))}),p}function JF(e,t,s,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:P2(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Ri(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:d})}function P2(e){if(e)return e.options.allowProjection!==!1?e.projection:P2(e.parent)}function QF(e,t,s){return m.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Ri(s)&&(s.current=n))},[t])}function Eh(e){return Nh(e.animate)||Dx.some(t=>Hl(e[t]))}function A2(e){return!!(Eh(e)||e.variants)}function ZF(e,t){if(Eh(e)){const{initial:s,animate:n}=e;return{initial:s===!1||Hl(s)?s:void 0,animate:Hl(n)?n:void 0}}return e.inherit!==!1?t:{}}function e8(e){const{initial:t,animate:s}=ZF(e,m.useContext(kh));return m.useMemo(()=>({initial:t,animate:s}),[nb(t),nb(s)])}function nb(e){return Array.isArray(e)?e.join(" "):e}const ab={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ho={};for(const e in ab)ho[e]={isEnabled:t=>ab[e].some(s=>!!t[s])};function t8(e){for(const t in e)ho[t]={...ho[t],...e[t]}}const s8=Symbol.for("motionComponentSymbol");function r8({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:a}){e&&t8(e);function i(l,c){let d;const u={...m.useContext(tv),...l,layoutId:n8(l)},{isStatic:h}=u,p=e8(l),f=n(l,h);if(!h&&sv){a8();const g=i8(u);d=g.MeasureLayout,p.visualElement=XF(a,f,u,t,g.ProjectionNode)}return r.jsxs(kh.Provider,{value:p,children:[d&&p.visualElement?r.jsx(d,{visualElement:p.visualElement,...u}):null,s(a,l,QF(f,p.visualElement,c),f,h,p.visualElement)]})}const o=m.forwardRef(i);return o[s8]=a,o}function n8({layoutId:e}){const t=m.useContext(Zx).id;return t&&e!==void 0?t+"-"+e:e}function a8(e,t){m.useContext(E2).strict}function i8(e){const{drag:t,layout:s}=ho;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const o8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rv(e){return typeof e!="string"||e.includes("-")?!1:!!(o8.indexOf(e)>-1||/[A-Z]/u.test(e))}function T2(e,{style:t,vars:s},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in s)e.style.setProperty(i,s[i])}const D2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function R2(e,t,s,n){T2(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(D2.has(a)?a:Jx(a),t.attrs[a])}function I2(e,{layout:t,layoutId:s}){return ri.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!_u[e]||e==="opacity")}function nv(e,t,s){var n;const{style:a}=e,i={};for(const o in a)(Yt(a[o])||t.style&&Yt(t.style[o])||I2(o,e)||((n=s==null?void 0:s.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function O2(e,t,s){const n=nv(e,t,s);for(const a in e)if(Yt(e[a])||Yt(t[a])){const i=gc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}function av(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}function l8({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},n,a,i){const o={latestValues:c8(n,a,i,e),renderState:t()};return s&&(o.mount=l=>s(n,l,o)),o}const M2=e=>(t,s)=>{const n=m.useContext(kh),a=m.useContext(Ch),i=()=>l8(e,t,n,a);return s?i():av(i)};function c8(e,t,s,n){const a={},i=n(e,{});for(const p in i)a[p]=Md(i[p]);let{initial:o,animate:l}=e;const c=Eh(e),d=A2(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Nh(h)){const p=Array.isArray(h)?h:[h];for(let f=0;f<p.length;f++){const g=Ax(e,p[f]);if(g){const{transitionEnd:x,transition:w,...y}=g;for(const v in y){let b=y[v];if(Array.isArray(b)){const N=u?b.length-1:0;b=b[N]}b!==null&&(a[v]=b)}for(const v in x)a[v]=x[v]}}}return a}const iv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),L2=()=>({...iv(),attrs:{}}),F2=(e,t)=>t&&typeof e=="number"?t.transform(e):e,d8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},u8=gc.length;function h8(e,t,s){let n="",a=!0;for(let i=0;i<u8;i++){const o=gc[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=F2(l,qx[o]);if(!c){a=!1;const u=d8[o]||o;n+=`${u}(${d}) `}s&&(t[o]=d)}}return n=n.trim(),s?n=s(t,a?"":n):a&&(n="none"),n}function ov(e,t,s){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(ri.has(c)){o=!0;continue}else if(AS(c)){a[c]=d;continue}else{const u=F2(d,qx[c]);c.startsWith("origin")?(l=!0,i[c]=u):n[c]=u}}if(t.transform||(o||s?n.transform=h8(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${d} ${u}`}}function ib(e,t,s){return typeof e=="string"?e:Ae.transform(t+s*e)}function m8(e,t,s){const n=ib(t,e.x,e.width),a=ib(s,e.y,e.height);return`${n} ${a}`}const p8={offset:"stroke-dashoffset",array:"stroke-dasharray"},f8={offset:"strokeDashoffset",array:"strokeDasharray"};function g8(e,t,s=1,n=0,a=!0){e.pathLength=1;const i=a?p8:f8;e[i.offset]=Ae.transform(-n);const o=Ae.transform(t),l=Ae.transform(s);e[i.array]=`${o} ${l}`}function lv(e,{attrX:t,attrY:s,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(ov(e,d,h),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:g}=e;p.transform&&(g&&(f.transform=p.transform),delete p.transform),g&&(a!==void 0||i!==void 0||f.transform)&&(f.transformOrigin=m8(g,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),s!==void 0&&(p.y=s),n!==void 0&&(p.scale=n),o!==void 0&&g8(p,o,l,c,!1)}const cv=e=>typeof e=="string"&&e.toLowerCase()==="svg",x8={useVisualState:M2({scrapeMotionValuesFromProps:O2,createRenderState:L2,onMount:(e,t,{renderState:s,latestValues:n})=>{it.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),it.render(()=>{lv(s,n,cv(t.tagName),e.transformTemplate),R2(t,s)})}})},v8={useVisualState:M2({scrapeMotionValuesFromProps:nv,createRenderState:iv})};function V2(e,t,s){for(const n in t)!Yt(t[n])&&!I2(n,s)&&(e[n]=t[n])}function y8({transformTemplate:e},t){return m.useMemo(()=>{const s=iv();return ov(s,t,e),Object.assign({},s.vars,s.style)},[t])}function w8(e,t){const s=e.style||{},n={};return V2(n,s,e),Object.assign(n,y8(e,t)),n}function b8(e,t){const s={},n=w8(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const j8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Su(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||j8.has(e)}let q2=e=>!Su(e);function N8(e){e&&(q2=t=>t.startsWith("on")?!Su(t):e(t))}try{N8(require("@emotion/is-prop-valid").default)}catch{}function _8(e,t,s){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(q2(a)||s===!0&&Su(a)||!t&&!Su(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function S8(e,t,s,n){const a=m.useMemo(()=>{const i=L2();return lv(i,t,cv(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};V2(i,e.style,e),a.style={...i,...a.style}}return a}function C8(e=!1){return(s,n,a,{latestValues:i},o)=>{const c=(rv(s)?S8:b8)(n,i,o,s),d=_8(n,typeof s=="string",e),u=s!==m.Fragment?{...d,...c,ref:a}:{},{children:h}=n,p=m.useMemo(()=>Yt(h)?h.get():h,[h]);return m.createElement(s,{...u,children:p})}}function k8(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...rv(n)?x8:v8,preloadedFeatures:e,useRender:C8(a),createVisualElement:t,Component:n};return r8(o)}}const Hf={current:null},B2={current:!1};function E8(){if(B2.current=!0,!!sv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hf.current=e.matches;e.addListener(t),t()}else Hf.current=!1}function P8(e,t,s){for(const n in t){const a=t[n],i=s[n];if(Yt(a))e.addValue(n,a);else if(Yt(i))e.addValue(n,Gl(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Gl(o!==void 0?o:a,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const ob=new WeakMap,A8=[...RS,Kt,ea],T8=e=>A8.find(DS(e)),lb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class D8{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Mr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,it.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Eh(s),this.isVariantNode=A2(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const p in h){const f=h[p];c[p]!==void 0&&Yt(f)&&f.set(c[p],!1)}}mount(t){this.current=t,ob.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),B2.current||E8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ob.delete(this.current),this.projection&&this.projection.unmount(),Zn(this.notifyUpdate),Zn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ri.has(t),a=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&it.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ho){const s=ho[t];if(!s)continue;const{isEnabled:n,Feature:a}=s;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<lb.length;n++){const a=lb[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=P8(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=Gl(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){var n;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(ES(a)||kS(a))?a=parseFloat(a):!T8(a)&&ea.test(s)&&(a=BS(t,s)),this.setBaseTarget(t,Yt(a)?a.get():a)),Yt(a)?a.get():a}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=Ax(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);o&&(a=o[t])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Yt(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Xx),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class $2 extends D8{constructor(){super(...arguments),this.KeyframeResolver=$S}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Yt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function R8(e){return window.getComputedStyle(e)}class I8 extends $2{constructor(){super(...arguments),this.type="html",this.renderInstance=T2}readValueFromInstance(t,s){if(ri.has(s)){const n=Bx(s);return n&&n.default||0}else{const n=R8(t),a=(AS(s)?n.getPropertyValue(s):n[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return f2(t,s)}build(t,s,n){ov(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return nv(t,s,n)}}class O8 extends $2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ri.has(s)){const n=Bx(s);return n&&n.default||0}return s=D2.has(s)?s:Jx(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return O2(t,s,n)}build(t,s,n){lv(t,s,this.isSVGTag,n.transformTemplate)}renderInstance(t,s,n,a){R2(t,s,n,a)}mount(t){this.isSVGTag=cv(t.tagName),super.mount(t)}}const M8=(e,t)=>rv(e)?new O8(t):new I8(t,{allowProjection:e!==m.Fragment}),L8=k8({...y6,...GF,...LF,...YF},M8),Dt=g3(L8);class F8 extends m.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function V8({children:e,isPresent:t}){const s=m.useId(),n=m.useRef(null),a=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(tv);return m.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=a.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=s;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),r.jsx(F8,{isPresent:t,childRef:n,sizeRef:a,children:m.cloneElement(e,{ref:n})})}const q8=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=av(B8),c=m.useId(),d=m.useCallback(h=>{l.set(h,!0);for(const p of l.values())if(!p)return;n&&n()},[l,n]),u=m.useMemo(()=>({id:c,initial:t,isPresent:s,custom:a,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),d]:[s,d]);return m.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[s]),m.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),o==="popLayout"&&(e=r.jsx(V8,{isPresent:s,children:e})),r.jsx(Ch.Provider,{value:u,children:e})};function B8(){return new Map}const id=e=>e.key||"";function cb(e){const t=[];return m.Children.forEach(e,s=>{m.isValidElement(s)&&t.push(s)}),t}const dv=({children:e,exitBeforeEnter:t,custom:s,initial:n=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=m.useMemo(()=>cb(e),[e]),c=l.map(id),d=m.useRef(!0),u=m.useRef(l),h=av(()=>new Map),[p,f]=m.useState(l),[g,x]=m.useState(l);k2(()=>{d.current=!1,u.current=l;for(let v=0;v<g.length;v++){const b=id(g[v]);c.includes(b)?h.delete(b):h.get(b)!==!0&&h.set(b,!1)}},[g,c.length,c.join("-")]);const w=[];if(l!==p){let v=[...l];for(let b=0;b<g.length;b++){const N=g[b],k=id(N);c.includes(k)||(v.splice(b,0,N),w.push(N))}o==="wait"&&w.length&&(v=w),x(cb(v)),f(l);return}const{forceRender:y}=m.useContext(Zx);return r.jsx(r.Fragment,{children:g.map(v=>{const b=id(v),N=l===g||c.includes(b),k=()=>{if(h.has(b))h.set(b,!0);else return;let T=!0;h.forEach(A=>{A||(T=!1)}),T&&(y==null||y(),x(u.current),a&&a())};return r.jsx(q8,{isPresent:N,initial:!d.current||n?void 0:!1,custom:N?void 0:s,presenceAffectsLayout:i,mode:o,onExitComplete:N?void 0:k,children:v},b)})})},$8=Ja("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-md px-8",icon:"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),V=$e.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...a},i)=>{const o=n?mn:"button";return r.jsx(o,{className:le($8({variant:t,size:s,className:e})),ref:i,...a})});V.displayName="Button";var U8=m.createContext(void 0);function Ph(e){const t=m.useContext(U8);return e||t||"ltr"}var Hm=0;function Ah(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??db()),document.body.insertAdjacentElement("beforeend",e[1]??db()),Hm++,()=>{Hm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Hm--}},[])}function db(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wm="focusScope.autoFocusOnMount",Km="focusScope.autoFocusOnUnmount",ub={bubbles:!1,cancelable:!0},z8="FocusScope",bc=m.forwardRef((e,t)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),d=Ut(a),u=Ut(i),h=m.useRef(null),p=He(t,x=>c(x)),f=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let x=function(b){if(f.paused||!l)return;const N=b.target;l.contains(N)?h.current=N:En(h.current,{select:!0})},w=function(b){if(f.paused||!l)return;const N=b.relatedTarget;N!==null&&(l.contains(N)||En(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const k of b)k.removedNodes.length>0&&En(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,f.paused]),m.useEffect(()=>{if(l){mb.add(f);const x=document.activeElement;if(!l.contains(x)){const y=new CustomEvent(Wm,ub);l.addEventListener(Wm,d),l.dispatchEvent(y),y.defaultPrevented||(H8(X8(U2(l)),{select:!0}),document.activeElement===x&&En(l))}return()=>{l.removeEventListener(Wm,d),setTimeout(()=>{const y=new CustomEvent(Km,ub);l.addEventListener(Km,u),l.dispatchEvent(y),y.defaultPrevented||En(x??document.body,{select:!0}),l.removeEventListener(Km,u),mb.remove(f)},0)}}},[l,d,u,f]);const g=m.useCallback(x=>{if(!s&&!n||f.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(w&&y){const v=x.currentTarget,[b,N]=W8(v);b&&N?!x.shiftKey&&y===N?(x.preventDefault(),s&&En(b,{select:!0})):x.shiftKey&&y===b&&(x.preventDefault(),s&&En(N,{select:!0})):y===v&&x.preventDefault()}},[s,n,f.paused]);return r.jsx(Ee.div,{tabIndex:-1,...o,ref:p,onKeyDown:g})});bc.displayName=z8;function H8(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(En(n,{select:t}),document.activeElement!==s)return}function W8(e){const t=U2(e),s=hb(t,e),n=hb(t.reverse(),e);return[s,n]}function U2(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function hb(e,t){for(const s of e)if(!K8(s,{upTo:t}))return s}function K8(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function G8(e){return e instanceof HTMLInputElement&&"select"in e}function En(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&G8(e)&&t&&e.select()}}var mb=Y8();function Y8(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=pb(e,t),e.unshift(t)},remove(t){var s;e=pb(e,t),(s=e[0])==null||s.resume()}}}function pb(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function X8(e){return e.filter(t=>t.tagName!=="A")}var J8=Nj["useId".toString()]||(()=>{}),Q8=0;function yr(e){const[t,s]=m.useState(J8());return Ot(()=>{e||s(n=>n??String(Q8++))},[e]),e||(t?`radix-${t}`:"")}const Z8=["top","right","bottom","left"],ta=Math.min,Ts=Math.max,Cu=Math.round,od=Math.floor,Lr=e=>({x:e,y:e}),eV={left:"right",right:"left",bottom:"top",top:"bottom"},tV={start:"end",end:"start"};function Wf(e,t,s){return Ts(e,ta(t,s))}function fn(e,t){return typeof e=="function"?e(t):e}function gn(e){return e.split("-")[0]}function Eo(e){return e.split("-")[1]}function uv(e){return e==="x"?"y":"x"}function hv(e){return e==="y"?"height":"width"}function sa(e){return["top","bottom"].includes(gn(e))?"y":"x"}function mv(e){return uv(sa(e))}function sV(e,t,s){s===void 0&&(s=!1);const n=Eo(e),a=mv(e),i=hv(a);let o=a==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ku(o)),[o,ku(o)]}function rV(e){const t=ku(e);return[Kf(e),t,Kf(t)]}function Kf(e){return e.replace(/start|end/g,t=>tV[t])}function nV(e,t,s){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return s?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function aV(e,t,s,n){const a=Eo(e);let i=nV(gn(e),s==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Kf)))),i}function ku(e){return e.replace(/left|right|bottom|top/g,t=>eV[t])}function iV(e){return{top:0,right:0,bottom:0,left:0,...e}}function z2(e){return typeof e!="number"?iV(e):{top:e,right:e,bottom:e,left:e}}function Eu(e){const{x:t,y:s,width:n,height:a}=e;return{width:n,height:a,top:s,left:t,right:t+n,bottom:s+a,x:t,y:s}}function fb(e,t,s){let{reference:n,floating:a}=e;const i=sa(t),o=mv(t),l=hv(o),c=gn(t),d=i==="y",u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,p=n[l]/2-a[l]/2;let f;switch(c){case"top":f={x:u,y:n.y-a.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-a.width,y:h};break;default:f={x:n.x,y:n.y}}switch(Eo(t)){case"start":f[o]-=p*(s&&d?-1:1);break;case"end":f[o]+=p*(s&&d?-1:1);break}return f}const oV=async(e,t,s)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=fb(d,n,c),p=n,f={},g=0;for(let x=0;x<l.length;x++){const{name:w,fn:y}=l[x],{x:v,y:b,data:N,reset:k}=await y({x:u,y:h,initialPlacement:n,placement:p,strategy:a,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,h=b??h,f={...f,[w]:{...f[w],...N}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:u,y:h}=fb(d,p,c)),x=-1)}return{x:u,y:h,placement:p,strategy:a,middlewareData:f}};async function Xl(e,t){var s;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=fn(t,e),g=z2(f),w=l[p?h==="floating"?"reference":"floating":h],y=Eu(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(w)))==null||s?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},k=Eu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-k.top+g.top)/N.y,bottom:(k.bottom-y.bottom+g.bottom)/N.y,left:(y.left-k.left+g.left)/N.x,right:(k.right-y.right+g.right)/N.x}}const lV=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=fn(e,t)||{};if(d==null)return{};const h=z2(u),p={x:s,y:n},f=mv(a),g=hv(f),x=await o.getDimensions(d),w=f==="y",y=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",N=i.reference[g]+i.reference[f]-p[f]-i.floating[g],k=p[f]-i.reference[f],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let A=T?T[b]:0;(!A||!await(o.isElement==null?void 0:o.isElement(T)))&&(A=l.floating[b]||i.floating[g]);const _=N/2-k/2,C=A/2-x[g]/2-1,I=ta(h[y],C),q=ta(h[v],C),F=I,D=A-x[g]-q,S=A/2-x[g]/2+_,E=Wf(F,S,D),O=!c.arrow&&Eo(a)!=null&&S!==E&&i.reference[g]/2-(S<F?I:q)-x[g]/2<0,P=O?S<F?S-F:S-D:0;return{[f]:p[f]+P,data:{[f]:E,centerOffset:S-E-P,...O&&{alignmentOffset:P}},reset:O}}}),cV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...w}=fn(e,t);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const y=gn(a),v=sa(l),b=gn(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=p||(b||!x?[ku(l)]:rV(l)),T=g!=="none";!p&&T&&k.push(...aV(l,x,g,N));const A=[l,...k],_=await Xl(t,w),C=[];let I=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&C.push(_[y]),h){const S=sV(a,o,N);C.push(_[S[0]],_[S[1]])}if(I=[...I,{placement:a,overflows:C}],!C.every(S=>S<=0)){var q,F;const S=(((q=i.flip)==null?void 0:q.index)||0)+1,E=A[S];if(E)return{data:{index:S,overflows:I},reset:{placement:E}};let O=(F=I.filter(P=>P.overflows[0]<=0).sort((P,R)=>P.overflows[1]-R.overflows[1])[0])==null?void 0:F.placement;if(!O)switch(f){case"bestFit":{var D;const P=(D=I.filter(R=>{if(T){const L=sa(R.placement);return L===v||L==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(L=>L>0).reduce((L,B)=>L+B,0)]).sort((R,L)=>R[1]-L[1])[0])==null?void 0:D[0];P&&(O=P);break}case"initialPlacement":O=l;break}if(a!==O)return{reset:{placement:O}}}return{}}}};function gb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function xb(e){return Z8.some(t=>e[t]>=0)}const dV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...a}=fn(e,t);switch(n){case"referenceHidden":{const i=await Xl(t,{...a,elementContext:"reference"}),o=gb(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xb(o)}}}case"escaped":{const i=await Xl(t,{...a,altBoundary:!0}),o=gb(i,s.floating);return{data:{escapedOffsets:o,escaped:xb(o)}}}default:return{}}}}};async function uV(e,t){const{placement:s,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=gn(s),l=Eo(s),c=sa(s)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,h=fn(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(f=l==="end"?g*-1:g),c?{x:f*u,y:p*d}:{x:p*d,y:f*u}}const hV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await uV(t,e);return o===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},mV=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...c}=fn(e,t),d={x:s,y:n},u=await Xl(t,c),h=sa(gn(a)),p=uv(h);let f=d[p],g=d[h];if(i){const w=p==="y"?"top":"left",y=p==="y"?"bottom":"right",v=f+u[w],b=f-u[y];f=Wf(v,f,b)}if(o){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=g+u[w],b=g-u[y];g=Wf(v,g,b)}const x=l.fn({...t,[p]:f,[h]:g});return{...x,data:{x:x.x-s,y:x.y-n,enabled:{[p]:i,[h]:o}}}}}},pV=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=fn(e,t),u={x:s,y:n},h=sa(a),p=uv(h);let f=u[p],g=u[h];const x=fn(l,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=p==="y"?"height":"width",N=i.reference[p]-i.floating[b]+w.mainAxis,k=i.reference[p]+i.reference[b]-w.mainAxis;f<N?f=N:f>k&&(f=k)}if(d){var y,v;const b=p==="y"?"width":"height",N=["top","left"].includes(gn(a)),k=i.reference[h]-i.floating[b]+(N&&((y=o.offset)==null?void 0:y[h])||0)+(N?0:w.crossAxis),T=i.reference[h]+i.reference[b]+(N?0:((v=o.offset)==null?void 0:v[h])||0)-(N?w.crossAxis:0);g<k?g=k:g>T&&(g=T)}return{[p]:f,[h]:g}}}},fV=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=fn(e,t),u=await Xl(t,d),h=gn(a),p=Eo(a),f=sa(a)==="y",{width:g,height:x}=i.floating;let w,y;h==="top"||h==="bottom"?(w=h,y=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,w=p==="end"?"top":"bottom");const v=x-u.top-u.bottom,b=g-u.left-u.right,N=ta(x-u[w],v),k=ta(g-u[y],b),T=!t.middlewareData.shift;let A=N,_=k;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(_=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=v),T&&!p){const I=Ts(u.left,0),q=Ts(u.right,0),F=Ts(u.top,0),D=Ts(u.bottom,0);f?_=g-2*(I!==0||q!==0?I+q:Ts(u.left,u.right)):A=x-2*(F!==0||D!==0?F+D:Ts(u.top,u.bottom))}await c({...t,availableWidth:_,availableHeight:A});const C=await o.getDimensions(l.floating);return g!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function Th(){return typeof window<"u"}function Po(e){return H2(e)?(e.nodeName||"").toLowerCase():"#document"}function Ls(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Kr(e){var t;return(t=(H2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function H2(e){return Th()?e instanceof Node||e instanceof Ls(e).Node:!1}function jr(e){return Th()?e instanceof Element||e instanceof Ls(e).Element:!1}function zr(e){return Th()?e instanceof HTMLElement||e instanceof Ls(e).HTMLElement:!1}function vb(e){return!Th()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ls(e).ShadowRoot}function jc(e){const{overflow:t,overflowX:s,overflowY:n,display:a}=Nr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!["inline","contents"].includes(a)}function gV(e){return["table","td","th"].includes(Po(e))}function Dh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function pv(e){const t=fv(),s=jr(e)?Nr(e):e;return s.transform!=="none"||s.perspective!=="none"||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(s.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(s.contain||"").includes(n))}function xV(e){let t=ra(e);for(;zr(t)&&!mo(t);){if(pv(t))return t;if(Dh(t))return null;t=ra(t)}return null}function fv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mo(e){return["html","body","#document"].includes(Po(e))}function Nr(e){return Ls(e).getComputedStyle(e)}function Rh(e){return jr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ra(e){if(Po(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vb(e)&&e.host||Kr(e);return vb(t)?t.host:t}function W2(e){const t=ra(e);return mo(t)?e.ownerDocument?e.ownerDocument.body:e.body:zr(t)&&jc(t)?t:W2(t)}function Jl(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=W2(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Ls(a);if(i){const l=Gf(o);return t.concat(o,o.visualViewport||[],jc(a)?a:[],l&&s?Jl(l):[])}return t.concat(a,Jl(a,[],s))}function Gf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function K2(e){const t=Nr(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=zr(e),i=a?e.offsetWidth:s,o=a?e.offsetHeight:n,l=Cu(s)!==i||Cu(n)!==o;return l&&(s=i,n=o),{width:s,height:n,$:l}}function gv(e){return jr(e)?e:e.contextElement}function Gi(e){const t=gv(e);if(!zr(t))return Lr(1);const s=t.getBoundingClientRect(),{width:n,height:a,$:i}=K2(t);let o=(i?Cu(s.width):s.width)/n,l=(i?Cu(s.height):s.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vV=Lr(0);function G2(e){const t=Ls(e);return!fv()||!t.visualViewport?vV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yV(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Ls(e)?!1:t}function za(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),i=gv(e);let o=Lr(1);t&&(n?jr(n)&&(o=Gi(n)):o=Gi(e));const l=yV(i,s,n)?G2(i):Lr(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const p=Ls(i),f=n&&jr(n)?Ls(n):n;let g=p,x=Gf(g);for(;x&&n&&f!==g;){const w=Gi(x),y=x.getBoundingClientRect(),v=Nr(x),b=y.left+(x.clientLeft+parseFloat(v.paddingLeft))*w.x,N=y.top+(x.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,h*=w.y,c+=b,d+=N,g=Ls(x),x=Gf(g)}}return Eu({width:u,height:h,x:c,y:d})}function xv(e,t){const s=Rh(e).scrollLeft;return t?t.left+s:za(Kr(e)).left+s}function Y2(e,t,s){s===void 0&&(s=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(s?0:xv(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function wV(e){let{elements:t,rect:s,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Kr(n),l=t?Dh(t.floating):!1;if(n===o||l&&i)return s;let c={scrollLeft:0,scrollTop:0},d=Lr(1);const u=Lr(0),h=zr(n);if((h||!h&&!i)&&((Po(n)!=="body"||jc(o))&&(c=Rh(n)),zr(n))){const f=za(n);d=Gi(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const p=o&&!h&&!i?Y2(o,c,!0):Lr(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:s.y*d.y-c.scrollTop*d.y+u.y+p.y}}function bV(e){return Array.from(e.getClientRects())}function jV(e){const t=Kr(e),s=Rh(e),n=e.ownerDocument.body,a=Ts(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ts(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-s.scrollLeft+xv(e);const l=-s.scrollTop;return Nr(n).direction==="rtl"&&(o+=Ts(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function NV(e,t){const s=Ls(e),n=Kr(e),a=s.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=fv();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function _V(e,t){const s=za(e,!0,t==="fixed"),n=s.top+e.clientTop,a=s.left+e.clientLeft,i=zr(e)?Gi(e):Lr(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function yb(e,t,s){let n;if(t==="viewport")n=NV(e,s);else if(t==="document")n=jV(Kr(e));else if(jr(t))n=_V(t,s);else{const a=G2(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Eu(n)}function X2(e,t){const s=ra(e);return s===t||!jr(s)||mo(s)?!1:Nr(s).position==="fixed"||X2(s,t)}function SV(e,t){const s=t.get(e);if(s)return s;let n=Jl(e,[],!1).filter(l=>jr(l)&&Po(l)!=="body"),a=null;const i=Nr(e).position==="fixed";let o=i?ra(e):e;for(;jr(o)&&!mo(o);){const l=Nr(o),c=pv(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||jc(o)&&!c&&X2(e,o))?n=n.filter(u=>u!==o):a=l,o=ra(o)}return t.set(e,n),n}function CV(e){let{element:t,boundary:s,rootBoundary:n,strategy:a}=e;const o=[...s==="clippingAncestors"?Dh(t)?[]:SV(t,this._c):[].concat(s),n],l=o[0],c=o.reduce((d,u)=>{const h=yb(t,u,a);return d.top=Ts(h.top,d.top),d.right=ta(h.right,d.right),d.bottom=ta(h.bottom,d.bottom),d.left=Ts(h.left,d.left),d},yb(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kV(e){const{width:t,height:s}=K2(e);return{width:t,height:s}}function EV(e,t,s){const n=zr(t),a=Kr(t),i=s==="fixed",o=za(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Lr(0);if(n||!n&&!i)if((Po(t)!=="body"||jc(a))&&(l=Rh(t)),n){const p=za(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&(c.x=xv(a));const d=a&&!n&&!i?Y2(a,l):Lr(0),u=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:u,y:h,width:o.width,height:o.height}}function Gm(e){return Nr(e).position==="static"}function wb(e,t){if(!zr(e)||Nr(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Kr(e)===s&&(s=s.ownerDocument.body),s}function J2(e,t){const s=Ls(e);if(Dh(e))return s;if(!zr(e)){let a=ra(e);for(;a&&!mo(a);){if(jr(a)&&!Gm(a))return a;a=ra(a)}return s}let n=wb(e,t);for(;n&&gV(n)&&Gm(n);)n=wb(n,t);return n&&mo(n)&&Gm(n)&&!pv(n)?s:n||xV(e)||s}const PV=async function(e){const t=this.getOffsetParent||J2,s=this.getDimensions,n=await s(e.floating);return{reference:EV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function AV(e){return Nr(e).direction==="rtl"}const TV={convertOffsetParentRelativeRectToViewportRelativeRect:wV,getDocumentElement:Kr,getClippingRect:CV,getOffsetParent:J2,getElementRects:PV,getClientRects:bV,getDimensions:kV,getScale:Gi,isElement:jr,isRTL:AV};function DV(e,t){let s=null,n;const a=Kr(e);function i(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:h,height:p}=e.getBoundingClientRect();if(l||t(),!h||!p)return;const f=od(u),g=od(a.clientWidth-(d+h)),x=od(a.clientHeight-(u+p)),w=od(d),v={rootMargin:-f+"px "+-g+"px "+-x+"px "+-w+"px",threshold:Ts(0,ta(1,c))||1};let b=!0;function N(k){const T=k[0].intersectionRatio;if(T!==c){if(!b)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{s=new IntersectionObserver(N,{...v,root:a.ownerDocument})}catch{s=new IntersectionObserver(N,v)}s.observe(e)}return o(!0),i}function RV(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=gv(e),u=a||i?[...d?Jl(d):[],...Jl(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",s,{passive:!0}),i&&y.addEventListener("resize",s)});const h=d&&l?DV(d,s):null;let p=-1,f=null;o&&(f=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),s()}),d&&!c&&f.observe(d),f.observe(t));let g,x=c?za(e):null;c&&w();function w(){const y=za(e);x&&(y.x!==x.x||y.y!==x.y||y.width!==x.width||y.height!==x.height)&&s(),x=y,g=requestAnimationFrame(w)}return s(),()=>{var y;u.forEach(v=>{a&&v.removeEventListener("scroll",s),i&&v.removeEventListener("resize",s)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(g)}}const IV=hV,OV=mV,MV=cV,LV=fV,FV=dV,bb=lV,VV=pV,qV=(e,t,s)=>{const n=new Map,a={platform:TV,...s},i={...a.platform,_c:n};return oV(e,t,{...a,platform:i})};var Ld=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Pu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!Pu(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=s;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Pu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Q2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jb(e,t){const s=Q2(e);return Math.round(t*s)/s}function Ym(e){const t=m.useRef(e);return Ld(()=>{t.current=e}),t}function BV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=m.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=m.useState(n);Pu(p,n)||f(n);const[g,x]=m.useState(null),[w,y]=m.useState(null),v=m.useCallback(R=>{R!==T.current&&(T.current=R,x(R))},[]),b=m.useCallback(R=>{R!==A.current&&(A.current=R,y(R))},[]),N=i||g,k=o||w,T=m.useRef(null),A=m.useRef(null),_=m.useRef(u),C=c!=null,I=Ym(c),q=Ym(a),F=Ym(d),D=m.useCallback(()=>{if(!T.current||!A.current)return;const R={placement:t,strategy:s,middleware:p};q.current&&(R.platform=q.current),qV(T.current,A.current,R).then(L=>{const B={...L,isPositioned:F.current!==!1};S.current&&!Pu(_.current,B)&&(_.current=B,Xa.flushSync(()=>{h(B)}))})},[p,t,s,q,F]);Ld(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[d]);const S=m.useRef(!1);Ld(()=>(S.current=!0,()=>{S.current=!1}),[]),Ld(()=>{if(N&&(T.current=N),k&&(A.current=k),N&&k){if(I.current)return I.current(N,k,D);D()}},[N,k,D,I,C]);const E=m.useMemo(()=>({reference:T,floating:A,setReference:v,setFloating:b}),[v,b]),O=m.useMemo(()=>({reference:N,floating:k}),[N,k]),P=m.useMemo(()=>{const R={position:s,left:0,top:0};if(!O.floating)return R;const L=jb(O.floating,u.x),B=jb(O.floating,u.y);return l?{...R,transform:"translate("+L+"px, "+B+"px)",...Q2(O.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:L,top:B}},[s,l,O.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:D,refs:E,elements:O,floatingStyles:P}),[u,D,E,O,P])}const $V=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:a}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?bb({element:n.current,padding:a}).fn(s):{}:n?bb({element:n,padding:a}).fn(s):{}}}},UV=(e,t)=>({...IV(e),options:[e,t]}),zV=(e,t)=>({...OV(e),options:[e,t]}),HV=(e,t)=>({...VV(e),options:[e,t]}),WV=(e,t)=>({...MV(e),options:[e,t]}),KV=(e,t)=>({...LV(e),options:[e,t]}),GV=(e,t)=>({...FV(e),options:[e,t]}),YV=(e,t)=>({...$V(e),options:[e,t]});var XV="Arrow",Z2=m.forwardRef((e,t)=>{const{children:s,width:n=10,height:a=5,...i}=e;return r.jsx(Ee.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});Z2.displayName=XV;var JV=Z2;function vv(e){const[t,s]=m.useState(void 0);return Ot(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var yv="Popper",[eC,Ao]=ks(yv),[QV,tC]=eC(yv),sC=e=>{const{__scopePopper:t,children:s}=e,[n,a]=m.useState(null);return r.jsx(QV,{scope:t,anchor:n,onAnchorChange:a,children:s})};sC.displayName=yv;var rC="PopperAnchor",nC=m.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:n,...a}=e,i=tC(rC,s),o=m.useRef(null),l=He(t,o);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:r.jsx(Ee.div,{...a,ref:l})});nC.displayName=rC;var wv="PopperContent",[ZV,eq]=eC(wv),aC=m.forwardRef((e,t)=>{var te,ce,ne,he,xe,we;const{__scopePopper:s,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:g,...x}=e,w=tC(wv,s),[y,v]=m.useState(null),b=He(t,Se=>v(Se)),[N,k]=m.useState(null),T=vv(N),A=(T==null?void 0:T.width)??0,_=(T==null?void 0:T.height)??0,C=n+(i!=="center"?"-"+i:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},q=Array.isArray(d)?d:[d],F=q.length>0,D={padding:I,boundary:q.filter(sq),altBoundary:F},{refs:S,floatingStyles:E,placement:O,isPositioned:P,middlewareData:R}=BV({strategy:"fixed",placement:C,whileElementsMounted:(...Se)=>RV(...Se,{animationFrame:f==="always"}),elements:{reference:w.anchor},middleware:[UV({mainAxis:a+_,alignmentAxis:o}),c&&zV({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?HV():void 0,...D}),c&&WV({...D}),KV({...D,apply:({elements:Se,rects:qe,availableWidth:Fe,availableHeight:K})=>{const{width:ee,height:Ne}=qe.reference,Ie=Se.floating.style;Ie.setProperty("--radix-popper-available-width",`${Fe}px`),Ie.setProperty("--radix-popper-available-height",`${K}px`),Ie.setProperty("--radix-popper-anchor-width",`${ee}px`),Ie.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),N&&YV({element:N,padding:l}),rq({arrowWidth:A,arrowHeight:_}),p&&GV({strategy:"referenceHidden",...D})]}),[L,B]=lC(O),Q=Ut(g);Ot(()=>{P&&(Q==null||Q())},[P,Q]);const W=(te=R.arrow)==null?void 0:te.x,z=(ce=R.arrow)==null?void 0:ce.y,X=((ne=R.arrow)==null?void 0:ne.centerOffset)!==0,[de,ue]=m.useState();return Ot(()=>{y&&ue(window.getComputedStyle(y).zIndex)},[y]),r.jsx("div",{ref:S.setFloating,"data-radix-popper-content-wrapper":"",style:{...E,transform:P?E.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(he=R.transformOrigin)==null?void 0:he.x,(xe=R.transformOrigin)==null?void 0:xe.y].join(" "),...((we=R.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(ZV,{scope:s,placedSide:L,onArrowChange:k,arrowX:W,arrowY:z,shouldHideArrow:X,children:r.jsx(Ee.div,{"data-side":L,"data-align":B,...x,ref:b,style:{...x.style,animation:P?void 0:"none"}})})})});aC.displayName=wv;var iC="PopperArrow",tq={top:"bottom",right:"left",bottom:"top",left:"right"},oC=m.forwardRef(function(t,s){const{__scopePopper:n,...a}=t,i=eq(iC,n),o=tq[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(JV,{...a,ref:s,style:{...a.style,display:"block"}})})});oC.displayName=iC;function sq(e){return e!==null}var rq=e=>({name:"transformOrigin",options:e,fn(t){var w,y,v;const{placement:s,rects:n,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=lC(s),h={start:"0%",center:"50%",end:"100%"}[u],p=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,f=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let g="",x="";return d==="bottom"?(g=o?h:`${p}px`,x=`${-c}px`):d==="top"?(g=o?h:`${p}px`,x=`${n.floating.height+c}px`):d==="right"?(g=`${-c}px`,x=o?h:`${f}px`):d==="left"&&(g=`${n.floating.width+c}px`,x=o?h:`${f}px`),{data:{x:g,y:x}}}});function lC(e){const[t,s="center"]=e.split("-");return[t,s]}var bv=sC,Ih=nC,jv=aC,Nv=oC,Xm="rovingFocusGroup.onEntryFocus",nq={bubbles:!1,cancelable:!0},Oh="RovingFocusGroup",[Yf,cC,aq]=ch(Oh),[iq,Mh]=ks(Oh,[aq]),[oq,lq]=iq(Oh),dC=m.forwardRef((e,t)=>r.jsx(Yf.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Yf.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(cq,{...e,ref:t})})}));dC.displayName=Oh;var cq=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,p=m.useRef(null),f=He(t,p),g=Ph(i),[x=null,w]=Fr({prop:o,defaultProp:l,onChange:c}),[y,v]=m.useState(!1),b=Ut(d),N=cC(s),k=m.useRef(!1),[T,A]=m.useState(0);return m.useEffect(()=>{const _=p.current;if(_)return _.addEventListener(Xm,b),()=>_.removeEventListener(Xm,b)},[b]),r.jsx(oq,{scope:s,orientation:n,dir:g,loop:a,currentTabStopId:x,onItemFocus:m.useCallback(_=>w(_),[w]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>A(_=>_+1),[]),onFocusableItemRemove:m.useCallback(()=>A(_=>_-1),[]),children:r.jsx(Ee.div,{tabIndex:y||T===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:fe(e.onMouseDown,()=>{k.current=!0}),onFocus:fe(e.onFocus,_=>{const C=!k.current;if(_.target===_.currentTarget&&C&&!y){const I=new CustomEvent(Xm,nq);if(_.currentTarget.dispatchEvent(I),!I.defaultPrevented){const q=N().filter(O=>O.focusable),F=q.find(O=>O.active),D=q.find(O=>O.id===x),E=[F,D,...q].filter(Boolean).map(O=>O.ref.current);mC(E,u)}}k.current=!1}),onBlur:fe(e.onBlur,()=>v(!1))})})}),uC="RovingFocusGroupItem",hC=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:a=!1,tabStopId:i,...o}=e,l=yr(),c=i||l,d=lq(uC,s),u=d.currentTabStopId===c,h=cC(s),{onFocusableItemAdd:p,onFocusableItemRemove:f}=d;return m.useEffect(()=>{if(n)return p(),()=>f()},[n,p,f]),r.jsx(Yf.ItemSlot,{scope:s,id:c,focusable:n,active:a,children:r.jsx(Ee.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:fe(e.onMouseDown,g=>{n?d.onItemFocus(c):g.preventDefault()}),onFocus:fe(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:fe(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const x=hq(g,d.orientation,d.dir);if(x!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let y=h().filter(v=>v.focusable).map(v=>v.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const v=y.indexOf(g.currentTarget);y=d.loop?mq(y,v+1):y.slice(v+1)}setTimeout(()=>mC(y))}})})})});hC.displayName=uC;var dq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uq(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function hq(e,t,s){const n=uq(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return dq[n]}function mC(e,t=!1){const s=document.activeElement;for(const n of e)if(n===s||(n.focus({preventScroll:t}),document.activeElement!==s))return}function mq(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var pC=dC,fC=hC,pq=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pi=new WeakMap,ld=new WeakMap,cd={},Jm=0,gC=function(e){return e&&(e.host||gC(e.parentNode))},fq=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=gC(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},gq=function(e,t,s,n){var a=fq(t,Array.isArray(e)?e:[e]);cd[s]||(cd[s]=new WeakMap);var i=cd[s],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))u(p);else try{var f=p.getAttribute(n),g=f!==null&&f!=="false",x=(pi.get(p)||0)+1,w=(i.get(p)||0)+1;pi.set(p,x),i.set(p,w),o.push(p),x===1&&g&&ld.set(p,!0),w===1&&p.setAttribute(s,"true"),g||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return u(t),l.clear(),Jm++,function(){o.forEach(function(h){var p=pi.get(h)-1,f=i.get(h)-1;pi.set(h,p),i.set(h,f),p||(ld.has(h)||h.removeAttribute(n),ld.delete(h)),f||h.removeAttribute(s)}),Jm--,Jm||(pi=new WeakMap,pi=new WeakMap,ld=new WeakMap,cd={})}},Lh=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||pq(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),gq(n,a,s,"aria-hidden")):function(){return null}},Tr=function(){return Tr=Object.assign||function(t){for(var s,n=1,a=arguments.length;n<a;n++){s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},Tr.apply(this,arguments)};function xC(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]]);return s}function ni(e,t,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})}function xq(e,t,s){if(s||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Fd="right-scroll-bar-position",Vd="width-before-scroll-bar",vq="with-scroll-bars-hidden",yq="--removed-body-scroll-bar-size";function Qm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wq(e,t){var s=m.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var a=s.value;a!==n&&(s.value=n,s.callback(n,a))}}}})[0];return s.callback=t,s.facade}var bq=typeof window<"u"?m.useLayoutEffect:m.useEffect,Nb=new WeakMap;function jq(e,t){var s=wq(t||null,function(n){return e.forEach(function(a){return Qm(a,n)})});return bq(function(){var n=Nb.get(s);if(n){var a=new Set(n),i=new Set(e),o=s.current;a.forEach(function(l){i.has(l)||Qm(l,null)}),i.forEach(function(l){a.has(l)||Qm(l,o)})}Nb.set(s,e)},[e]),s}function Nq(e){return e}function _q(e,t){t===void 0&&(t=Nq);var s=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(i){var o=t(i,n);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){n=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),s}}}};return a}function Sq(e){e===void 0&&(e={});var t=_q(null);return t.options=Tr({async:!0,ssr:!1},e),t}var vC=function(e){var t=e.sideCar,s=xC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Tr({},s))};vC.isSideCarExport=!0;function Cq(e,t){return e.useMedium(t),vC}var yC=Sq(),Zm=function(){},Fh=m.forwardRef(function(e,t){var s=m.useRef(null),n=m.useState({onScrollCapture:Zm,onWheelCapture:Zm,onTouchMoveCapture:Zm}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,p=e.sideCar,f=e.noIsolation,g=e.inert,x=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,v=e.gapMode,b=xC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,k=jq([s,t]),T=Tr(Tr({},b),a);return m.createElement(m.Fragment,null,u&&m.createElement(N,{sideCar:yC,removeScrollBar:d,shards:h,noIsolation:f,inert:g,setCallbacks:i,allowPinchZoom:!!x,lockRef:s,gapMode:v}),o?m.cloneElement(m.Children.only(l),Tr(Tr({},T),{ref:k})):m.createElement(y,Tr({},T,{className:c,ref:k}),l))});Fh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fh.classNames={fullWidth:Vd,zeroRight:Fd};var _b,kq=function(){if(_b)return _b;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Eq(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kq();return t&&e.setAttribute("nonce",t),e}function Pq(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Aq(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Tq=function(){var e=0,t=null;return{add:function(s){e==0&&(t=Eq())&&(Pq(t,s),Aq(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Dq=function(){var e=Tq();return function(t,s){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},wC=function(){var e=Dq(),t=function(s){var n=s.styles,a=s.dynamic;return e(n,a),null};return t},Rq={left:0,top:0,right:0,gap:0},ep=function(e){return parseInt(e||"",10)||0},Iq=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ep(s),ep(n),ep(a)]},Oq=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Rq;var t=Iq(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},Mq=wC(),Yi="data-scroll-locked",Lq=function(e,t,s,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(vq,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Yi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fd,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Vd,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Fd," .").concat(Fd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Vd," .").concat(Vd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Yi,`] {
    `).concat(yq,": ").concat(l,`px;
  }
`)},Sb=function(){var e=parseInt(document.body.getAttribute(Yi)||"0",10);return isFinite(e)?e:0},Fq=function(){m.useEffect(function(){return document.body.setAttribute(Yi,(Sb()+1).toString()),function(){var e=Sb()-1;e<=0?document.body.removeAttribute(Yi):document.body.setAttribute(Yi,e.toString())}},[])},Vq=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Fq();var i=m.useMemo(function(){return Oq(a)},[a]);return m.createElement(Mq,{styles:Lq(i,!t,a,s?"":"!important")})},Xf=!1;if(typeof window<"u")try{var dd=Object.defineProperty({},"passive",{get:function(){return Xf=!0,!0}});window.addEventListener("test",dd,dd),window.removeEventListener("test",dd,dd)}catch{Xf=!1}var fi=Xf?{passive:!1}:!1,qq=function(e){return e.tagName==="TEXTAREA"},bC=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!qq(e)&&s[t]==="visible")},Bq=function(e){return bC(e,"overflowY")},$q=function(e){return bC(e,"overflowX")},Cb=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=jC(e,n);if(a){var i=NC(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},Uq=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},zq=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},jC=function(e,t){return e==="v"?Bq(t):$q(t)},NC=function(e,t){return e==="v"?Uq(t):zq(t)},Hq=function(e,t){return e==="h"&&t==="rtl"?-1:1},Wq=function(e,t,s,n,a){var i=Hq(e,window.getComputedStyle(t).direction),o=i*n,l=s.target,c=t.contains(l),d=!1,u=o>0,h=0,p=0;do{var f=NC(e,l),g=f[0],x=f[1],w=f[2],y=x-w-i*g;(g||y)&&jC(e,l)&&(h+=y,p+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(a&&Math.abs(h)<1||!a&&o>h)||!u&&(a&&Math.abs(p)<1||!a&&-o>p))&&(d=!0),d},ud=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},kb=function(e){return[e.deltaX,e.deltaY]},Eb=function(e){return e&&"current"in e?e.current:e},Kq=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Gq=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Yq=0,gi=[];function Xq(e){var t=m.useRef([]),s=m.useRef([0,0]),n=m.useRef(),a=m.useState(Yq++)[0],i=m.useState(wC)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=xq([e.lockRef.current],(e.shards||[]).map(Eb),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var y=ud(x),v=s.current,b="deltaX"in x?x.deltaX:v[0]-y[0],N="deltaY"in x?x.deltaY:v[1]-y[1],k,T=x.target,A=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in x&&A==="h"&&T.type==="range")return!1;var _=Cb(A,T);if(!_)return!0;if(_?k=A:(k=A==="v"?"h":"v",_=Cb(A,T)),!_)return!1;if(!n.current&&"changedTouches"in x&&(b||N)&&(n.current=k),!k)return!0;var C=n.current||k;return Wq(C,w,x,C==="h"?b:N,!0)},[]),c=m.useCallback(function(x){var w=x;if(!(!gi.length||gi[gi.length-1]!==i)){var y="deltaY"in w?kb(w):ud(w),v=t.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&Kq(k.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(Eb).filter(Boolean).filter(function(k){return k.contains(w.target)}),N=b.length>0?l(w,b[0]):!o.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=m.useCallback(function(x,w,y,v){var b={name:x,delta:w,target:y,should:v,shadowParent:Jq(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(N){return N!==b})},1)},[]),u=m.useCallback(function(x){s.current=ud(x),n.current=void 0},[]),h=m.useCallback(function(x){d(x.type,kb(x),x.target,l(x,e.lockRef.current))},[]),p=m.useCallback(function(x){d(x.type,ud(x),x.target,l(x,e.lockRef.current))},[]);m.useEffect(function(){return gi.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,fi),document.addEventListener("touchmove",c,fi),document.addEventListener("touchstart",u,fi),function(){gi=gi.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,fi),document.removeEventListener("touchmove",c,fi),document.removeEventListener("touchstart",u,fi)}},[]);var f=e.removeScrollBar,g=e.inert;return m.createElement(m.Fragment,null,g?m.createElement(i,{styles:Gq(a)}):null,f?m.createElement(Vq,{gapMode:e.gapMode}):null)}function Jq(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Qq=Cq(yC,Xq);var _C=m.forwardRef(function(e,t){return m.createElement(Fh,Tr({},e,{ref:t,sideCar:Qq}))});_C.classNames=Fh.classNames;const Vh=_C;var Jf=["Enter"," "],Zq=["ArrowDown","PageUp","Home"],SC=["ArrowUp","PageDown","End"],eB=[...Zq,...SC],tB={ltr:[...Jf,"ArrowRight"],rtl:[...Jf,"ArrowLeft"]},sB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Nc="Menu",[Ql,rB,nB]=ch(Nc),[ai,CC]=ks(Nc,[nB,Ao,Mh]),qh=Ao(),kC=Mh(),[aB,ii]=ai(Nc),[iB,_c]=ai(Nc),EC=e=>{const{__scopeMenu:t,open:s=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=qh(t),[c,d]=m.useState(null),u=m.useRef(!1),h=Ut(i),p=Ph(a);return m.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),r.jsx(bv,{...l,children:r.jsx(aB,{scope:t,open:s,onOpenChange:h,content:c,onContentChange:d,children:r.jsx(iB,{scope:t,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:o,children:n})})})};EC.displayName=Nc;var oB="MenuAnchor",_v=m.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,a=qh(s);return r.jsx(Ih,{...a,...n,ref:t})});_v.displayName=oB;var Sv="MenuPortal",[lB,PC]=ai(Sv,{forceMount:void 0}),AC=e=>{const{__scopeMenu:t,forceMount:s,children:n,container:a}=e,i=ii(Sv,t);return r.jsx(lB,{scope:t,forceMount:s,children:r.jsx(Us,{present:s||i.open,children:r.jsx(_o,{asChild:!0,container:a,children:n})})})};AC.displayName=Sv;var rr="MenuContent",[cB,Cv]=ai(rr),TC=m.forwardRef((e,t)=>{const s=PC(rr,e.__scopeMenu),{forceMount:n=s.forceMount,...a}=e,i=ii(rr,e.__scopeMenu),o=_c(rr,e.__scopeMenu);return r.jsx(Ql.Provider,{scope:e.__scopeMenu,children:r.jsx(Us,{present:n||i.open,children:r.jsx(Ql.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(dB,{...a,ref:t}):r.jsx(uB,{...a,ref:t})})})})}),dB=m.forwardRef((e,t)=>{const s=ii(rr,e.__scopeMenu),n=m.useRef(null),a=He(t,n);return m.useEffect(()=>{const i=n.current;if(i)return Lh(i)},[]),r.jsx(kv,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:fe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),uB=m.forwardRef((e,t)=>{const s=ii(rr,e.__scopeMenu);return r.jsx(kv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),kv=m.forwardRef((e,t)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:f,disableOutsideScroll:g,...x}=e,w=ii(rr,s),y=_c(rr,s),v=qh(s),b=kC(s),N=rB(s),[k,T]=m.useState(null),A=m.useRef(null),_=He(t,A,w.onContentChange),C=m.useRef(0),I=m.useRef(""),q=m.useRef(0),F=m.useRef(null),D=m.useRef("right"),S=m.useRef(0),E=g?Vh:m.Fragment,O=g?{as:mn,allowPinchZoom:!0}:void 0,P=L=>{var te,ce;const B=I.current+L,Q=N().filter(ne=>!ne.disabled),W=document.activeElement,z=(te=Q.find(ne=>ne.ref.current===W))==null?void 0:te.textValue,X=Q.map(ne=>ne.textValue),de=NB(X,B,z),ue=(ce=Q.find(ne=>ne.textValue===de))==null?void 0:ce.ref.current;(function ne(he){I.current=he,window.clearTimeout(C.current),he!==""&&(C.current=window.setTimeout(()=>ne(""),1e3))})(B),ue&&setTimeout(()=>ue.focus())};m.useEffect(()=>()=>window.clearTimeout(C.current),[]),Ah();const R=m.useCallback(L=>{var Q,W;return D.current===((Q=F.current)==null?void 0:Q.side)&&SB(L,(W=F.current)==null?void 0:W.area)},[]);return r.jsx(cB,{scope:s,searchRef:I,onItemEnter:m.useCallback(L=>{R(L)&&L.preventDefault()},[R]),onItemLeave:m.useCallback(L=>{var B;R(L)||((B=A.current)==null||B.focus(),T(null))},[R]),onTriggerLeave:m.useCallback(L=>{R(L)&&L.preventDefault()},[R]),pointerGraceTimerRef:q,onPointerGraceIntentChange:m.useCallback(L=>{F.current=L},[]),children:r.jsx(E,{...O,children:r.jsx(bc,{asChild:!0,trapped:a,onMountAutoFocus:fe(i,L=>{var B;L.preventDefault(),(B=A.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(No,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:f,children:r.jsx(pC,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:T,onEntryFocus:fe(c,L=>{y.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(jv,{role:"menu","aria-orientation":"vertical","data-state":KC(w.open),"data-radix-menu-content":"",dir:y.dir,...v,...x,ref:_,style:{outline:"none",...x.style},onKeyDown:fe(x.onKeyDown,L=>{const Q=L.target.closest("[data-radix-menu-content]")===L.currentTarget,W=L.ctrlKey||L.altKey||L.metaKey,z=L.key.length===1;Q&&(L.key==="Tab"&&L.preventDefault(),!W&&z&&P(L.key));const X=A.current;if(L.target!==X||!eB.includes(L.key))return;L.preventDefault();const ue=N().filter(te=>!te.disabled).map(te=>te.ref.current);SC.includes(L.key)&&ue.reverse(),bB(ue)}),onBlur:fe(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(C.current),I.current="")}),onPointerMove:fe(e.onPointerMove,Zl(L=>{const B=L.target,Q=S.current!==L.clientX;if(L.currentTarget.contains(B)&&Q){const W=L.clientX>S.current?"right":"left";D.current=W,S.current=L.clientX}}))})})})})})})});TC.displayName=rr;var hB="MenuGroup",Ev=m.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(Ee.div,{role:"group",...n,ref:t})});Ev.displayName=hB;var mB="MenuLabel",DC=m.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(Ee.div,{...n,ref:t})});DC.displayName=mB;var Au="MenuItem",Pb="menu.itemSelect",Bh=m.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:n,...a}=e,i=m.useRef(null),o=_c(Au,e.__scopeMenu),l=Cv(Au,e.__scopeMenu),c=He(t,i),d=m.useRef(!1),u=()=>{const h=i.current;if(!s&&h){const p=new CustomEvent(Pb,{bubbles:!0,cancelable:!0});h.addEventListener(Pb,f=>n==null?void 0:n(f),{once:!0}),ox(h,p),p.defaultPrevented?d.current=!1:o.onClose()}};return r.jsx(RC,{...a,ref:c,disabled:s,onClick:fe(e.onClick,u),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),d.current=!0},onPointerUp:fe(e.onPointerUp,h=>{var p;d.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:fe(e.onKeyDown,h=>{const p=l.searchRef.current!=="";s||p&&h.key===" "||Jf.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Bh.displayName=Au;var RC=m.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:n=!1,textValue:a,...i}=e,o=Cv(Au,s),l=kC(s),c=m.useRef(null),d=He(t,c),[u,h]=m.useState(!1),[p,f]=m.useState("");return m.useEffect(()=>{const g=c.current;g&&f((g.textContent??"").trim())},[i.children]),r.jsx(Ql.ItemSlot,{scope:s,disabled:n,textValue:a??p,children:r.jsx(fC,{asChild:!0,...l,focusable:!n,children:r.jsx(Ee.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:fe(e.onPointerMove,Zl(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(e.onPointerLeave,Zl(g=>o.onItemLeave(g))),onFocus:fe(e.onFocus,()=>h(!0)),onBlur:fe(e.onBlur,()=>h(!1))})})})}),pB="MenuCheckboxItem",IC=m.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:n,...a}=e;return r.jsx(VC,{scope:e.__scopeMenu,checked:s,children:r.jsx(Bh,{role:"menuitemcheckbox","aria-checked":Tu(s)?"mixed":s,...a,ref:t,"data-state":Av(s),onSelect:fe(a.onSelect,()=>n==null?void 0:n(Tu(s)?!0:!s),{checkForDefaultPrevented:!1})})})});IC.displayName=pB;var OC="MenuRadioGroup",[fB,gB]=ai(OC,{value:void 0,onValueChange:()=>{}}),MC=m.forwardRef((e,t)=>{const{value:s,onValueChange:n,...a}=e,i=Ut(n);return r.jsx(fB,{scope:e.__scopeMenu,value:s,onValueChange:i,children:r.jsx(Ev,{...a,ref:t})})});MC.displayName=OC;var LC="MenuRadioItem",FC=m.forwardRef((e,t)=>{const{value:s,...n}=e,a=gB(LC,e.__scopeMenu),i=s===a.value;return r.jsx(VC,{scope:e.__scopeMenu,checked:i,children:r.jsx(Bh,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Av(i),onSelect:fe(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,s)},{checkForDefaultPrevented:!1})})})});FC.displayName=LC;var Pv="MenuItemIndicator",[VC,xB]=ai(Pv,{checked:!1}),qC=m.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:n,...a}=e,i=xB(Pv,s);return r.jsx(Us,{present:n||Tu(i.checked)||i.checked===!0,children:r.jsx(Ee.span,{...a,ref:t,"data-state":Av(i.checked)})})});qC.displayName=Pv;var vB="MenuSeparator",BC=m.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(Ee.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});BC.displayName=vB;var yB="MenuArrow",$C=m.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,a=qh(s);return r.jsx(Nv,{...a,...n,ref:t})});$C.displayName=yB;var wB="MenuSub",[wH,UC]=ai(wB),ol="MenuSubTrigger",zC=m.forwardRef((e,t)=>{const s=ii(ol,e.__scopeMenu),n=_c(ol,e.__scopeMenu),a=UC(ol,e.__scopeMenu),i=Cv(ol,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),r.jsx(_v,{asChild:!0,...d,children:r.jsx(RC,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":KC(s.open),...e,ref:lh(t,a.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:fe(e.onPointerMove,Zl(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!s.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:fe(e.onPointerLeave,Zl(h=>{var f,g;u();const p=(f=s.content)==null?void 0:f.getBoundingClientRect();if(p){const x=(g=s.content)==null?void 0:g.dataset.side,w=x==="right",y=w?-5:5,v=p[w?"left":"right"],b=p[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:v,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:v,y:p.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:fe(e.onKeyDown,h=>{var f;const p=i.searchRef.current!=="";e.disabled||p&&h.key===" "||tB[n.dir].includes(h.key)&&(s.onOpenChange(!0),(f=s.content)==null||f.focus(),h.preventDefault())})})})});zC.displayName=ol;var HC="MenuSubContent",WC=m.forwardRef((e,t)=>{const s=PC(rr,e.__scopeMenu),{forceMount:n=s.forceMount,...a}=e,i=ii(rr,e.__scopeMenu),o=_c(rr,e.__scopeMenu),l=UC(HC,e.__scopeMenu),c=m.useRef(null),d=He(t,c);return r.jsx(Ql.Provider,{scope:e.__scopeMenu,children:r.jsx(Us,{present:n||i.open,children:r.jsx(Ql.Slot,{scope:e.__scopeMenu,children:r.jsx(kv,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:fe(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:fe(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:fe(e.onKeyDown,u=>{var f;const h=u.currentTarget.contains(u.target),p=sB[o.dir].includes(u.key);h&&p&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),u.preventDefault())})})})})})});WC.displayName=HC;function KC(e){return e?"open":"closed"}function Tu(e){return e==="indeterminate"}function Av(e){return Tu(e)?"indeterminate":e?"checked":"unchecked"}function bB(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function jB(e,t){return e.map((s,n)=>e[(t+n)%e.length])}function NB(e,t,s){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=s?e.indexOf(s):-1;let o=jB(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function _B(e,t){const{x:s,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>n!=u>n&&s<(d-l)*(n-c)/(u-c)+l&&(a=!a)}return a}function SB(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return _B(s,t)}function Zl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var CB=EC,kB=_v,EB=AC,PB=TC,AB=Ev,TB=DC,DB=Bh,RB=IC,IB=MC,OB=FC,MB=qC,LB=BC,FB=$C,VB=zC,qB=WC,Tv="DropdownMenu",[BB,bH]=ks(Tv,[CC]),hs=CC(),[$B,GC]=BB(Tv),YC=e=>{const{__scopeDropdownMenu:t,children:s,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=hs(t),d=m.useRef(null),[u=!1,h]=Fr({prop:a,defaultProp:i,onChange:o});return r.jsx($B,{scope:t,triggerId:yr(),triggerRef:d,contentId:yr(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:l,children:r.jsx(CB,{...c,open:u,onOpenChange:h,dir:n,modal:l,children:s})})};YC.displayName=Tv;var XC="DropdownMenuTrigger",JC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...a}=e,i=GC(XC,s),o=hs(s);return r.jsx(kB,{asChild:!0,...o,children:r.jsx(Ee.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:lh(t,i.triggerRef),onPointerDown:fe(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:fe(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});JC.displayName=XC;var UB="DropdownMenuPortal",QC=e=>{const{__scopeDropdownMenu:t,...s}=e,n=hs(t);return r.jsx(EB,{...n,...s})};QC.displayName=UB;var ZC="DropdownMenuContent",ek=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=GC(ZC,s),i=hs(s),o=m.useRef(!1);return r.jsx(PB,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:fe(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:fe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ek.displayName=ZC;var zB="DropdownMenuGroup",HB=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(AB,{...a,...n,ref:t})});HB.displayName=zB;var WB="DropdownMenuLabel",tk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(TB,{...a,...n,ref:t})});tk.displayName=WB;var KB="DropdownMenuItem",sk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(DB,{...a,...n,ref:t})});sk.displayName=KB;var GB="DropdownMenuCheckboxItem",rk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(RB,{...a,...n,ref:t})});rk.displayName=GB;var YB="DropdownMenuRadioGroup",XB=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(IB,{...a,...n,ref:t})});XB.displayName=YB;var JB="DropdownMenuRadioItem",nk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(OB,{...a,...n,ref:t})});nk.displayName=JB;var QB="DropdownMenuItemIndicator",ak=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(MB,{...a,...n,ref:t})});ak.displayName=QB;var ZB="DropdownMenuSeparator",ik=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(LB,{...a,...n,ref:t})});ik.displayName=ZB;var e$="DropdownMenuArrow",t$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(FB,{...a,...n,ref:t})});t$.displayName=e$;var s$="DropdownMenuSubTrigger",ok=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(VB,{...a,...n,ref:t})});ok.displayName=s$;var r$="DropdownMenuSubContent",lk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=hs(s);return r.jsx(qB,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lk.displayName=r$;var n$=YC,a$=JC,i$=QC,ck=ek,dk=tk,uk=sk,hk=rk,mk=nk,pk=ak,fk=ik,gk=ok,xk=lk;const Qf=n$,Zf=a$,o$=m.forwardRef(({className:e,inset:t,children:s,...n},a)=>r.jsxs(gk,{ref:a,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[s,r.jsx(Xt,{className:"ml-auto h-4 w-4"})]}));o$.displayName=gk.displayName;const l$=m.forwardRef(({className:e,...t},s)=>r.jsx(xk,{ref:s,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));l$.displayName=xk.displayName;const Du=m.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(i$,{children:r.jsx(ck,{ref:n,sideOffset:t,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Du.displayName=ck.displayName;const Ta=m.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(uk,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));Ta.displayName=uk.displayName;const c$=m.forwardRef(({className:e,children:t,checked:s,...n},a)=>r.jsxs(hk,{ref:a,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(pk,{children:r.jsx(Sr,{className:"h-4 w-4"})})}),t]}));c$.displayName=hk.displayName;const d$=m.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(mk,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(pk,{children:r.jsx(EI,{className:"h-2 w-2 fill-current"})})}),t]}));d$.displayName=mk.displayName;const Dv=m.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(dk,{ref:n,className:le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));Dv.displayName=dk.displayName;const Ru=m.forwardRef(({className:e,...t},s)=>r.jsx(fk,{ref:s,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));Ru.displayName=fk.displayName;const u$=(e="")=>{var a,i,o;const t=String(e).trim().split(" ").filter(Boolean);if(!t.length)return"V";const s=((a=t[0])==null?void 0:a[0])||"V",n=t.length>1?(i=t[1])==null?void 0:i[0]:((o=t[0])==null?void 0:o[1])||"";return(s+n).toUpperCase()},h$=e=>{if(!e)return"";const t=new Date(e),s=Math.floor((Date.now()-t.getTime())/1e3);if(s<60)return`${s}s ago`;const n=Math.floor(s/60);if(n<60)return`${n}m ago`;const a=Math.floor(n/60);return a<24?`${a}h ago`:`${Math.floor(a/24)}d ago`},Ab=({icon:e,label:t,path:s,active:n,collapsed:a,resolvePath:i})=>{const o=i(s,"vendor");return r.jsx(re,{to:o,children:r.jsxs("div",{className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 group mb-1 ${n?"bg-[#003D82] text-white shadow-sm":"text-neutral-600 hover:bg-neutral-100 hover:text-[#003D82]"}`,children:[r.jsx(e,{className:`h-4 w-4 ${n?"text-white":"text-neutral-500 group-hover:text-[#003D82]"}`}),!a&&r.jsx("span",{className:"font-medium text-sm",children:t}),n&&!a&&r.jsx(Dt.div,{layoutId:"activeIndicator",className:"ml-auto w-1 h-1 rounded-full bg-white"})]})})},m$=()=>{const[e,t]=m.useState(!1),[s,n]=m.useState(!1),a=Zt(),i=Ue(),{user:o,logout:l}=fc(),{resolvePath:c}=Ex(),[d,u]=m.useState(o||null),[h,p]=m.useState(!1),[f,g]=m.useState(!1),[x,w]=m.useState([]),[y,v]=m.useState(0),b=m.useMemo(()=>(d==null?void 0:d.ownerName)||(d==null?void 0:d.owner_name)||(d==null?void 0:d.name)||(d!=null&&d.email?d.email.split("@")[0]:"")||"Vendor",[d]),N=m.useMemo(()=>(d==null?void 0:d.profileImage)||(d==null?void 0:d.profile_image)||"",[d]),k=async()=>{await l();const I=c("login","vendor");i(I)},T=[{icon:pr,label:"Dashboard",path:"dashboard"},{icon:$r,label:"KYC & Profile",path:"kyc"},{icon:Ua,label:"Products",path:"products"},{icon:St,label:"Leads",path:"leads"},{icon:Qt,label:"Proposals",path:"proposals"},{icon:jI,label:"Analytics",path:"analytics"},{icon:N1,label:"Subscriptions",path:"subscriptions"},{icon:mx,label:"Support",path:"support"},{icon:Ul,label:"Settings",path:"settings"}];m.useEffect(()=>{(async()=>{try{const q=await je.auth.me();u(q||o||null)}catch{u(o||null)}})()},[o]);const A=async()=>{g(!0);try{const[I,q]=await Promise.all([je.notifications.list(8),je.notifications.unreadCount()]);w(I||[]),v(q||0)}catch{w([]),v(0)}finally{g(!1)}},_=async I=>{try{await je.notifications.markAsRead(I),w(q=>q.map(F=>F.id===I?{...F,is_read:!0}:F)),v(q=>Math.max(0,q-1))}catch{}},C=async()=>{try{await je.notifications.markAllAsRead(),w(I=>I.map(q=>({...q,is_read:!0}))),v(0)}catch{}};return m.useEffect(()=>{A();const I=setInterval(A,3e4);return()=>clearInterval(I)},[]),r.jsxs("div",{className:"min-h-screen bg-gray-50 flex overflow-hidden",children:[r.jsxs(Dt.aside,{initial:!1,animate:{width:e?70:250},className:"hidden md:flex flex-col bg-white border-r border-neutral-200 h-screen sticky top-0 z-30 shadow-sm flex-shrink-0",children:[r.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-neutral-100",children:[!e&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-[#003D82] rounded flex items-center justify-center text-white font-bold text-lg",children:"V"}),r.jsx("span",{className:"font-bold text-lg text-[#003D82] tracking-tight",children:"VendorPortal"})]}),e&&r.jsx("div",{className:"w-8 h-8 bg-[#003D82] rounded flex items-center justify-center text-white font-bold text-lg mx-auto",children:"V"}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>t(!e),className:"h-8 w-8 text-neutral-400 hover:text-[#003D82]",children:e?r.jsx(Xt,{className:"h-4 w-4"}):r.jsx("div",{className:"bg-neutral-100 p-1 rounded hover:bg-neutral-200",children:r.jsx(Xt,{className:"h-3 w-3 rotate-180"})})})]}),r.jsx("div",{className:"flex-1 py-4 px-3 space-y-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-200",children:T.map(I=>{const q=c(I.path,"vendor"),F=a.pathname===q||a.pathname.startsWith(`${q}/`);return r.jsx(Ab,{...I,active:F,collapsed:e,resolvePath:c},I.path)})}),r.jsx("div",{className:"p-3 border-t border-neutral-100 bg-gray-50/50",children:r.jsxs(V,{variant:"ghost",className:`w-full ${e?"justify-center px-0":"justify-start"} text-red-600 hover:text-red-700 hover:bg-red-50 hover:shadow-sm`,onClick:k,children:[r.jsx(an,{className:"h-4 w-4 mr-2"}),!e&&r.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})})]}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[r.jsxs("header",{className:"h-16 bg-white border-b border-neutral-200 flex items-center justify-between px-4 sm:px-6 sticky top-0 z-20 flex-shrink-0 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(V,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>n(!0),children:r.jsx(oo,{className:"h-5 w-5"})}),r.jsxs("div",{className:"hidden sm:flex relative items-center",children:[r.jsx(Et,{className:"absolute left-3 h-4 w-4 text-neutral-400"}),r.jsx("input",{type:"text",placeholder:"Search anything...",className:"pl-9 pr-4 py-2 bg-neutral-100/50 border border-transparent focus:bg-white focus:border-neutral-300 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-[#003D82]/20 w-64 transition-all"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 sm:gap-5",children:[r.jsxs(Qf,{open:h,onOpenChange:async I=>{p(I),I&&await A()},children:[r.jsx(Zf,{asChild:!0,children:r.jsxs(V,{variant:"ghost",size:"icon",className:"relative text-neutral-500 hover:text-[#003D82] hover:bg-blue-50",children:[r.jsx(cc,{className:"h-5 w-5"}),y>0&&r.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 bg-red-600 text-white text-[11px] rounded-full flex items-center justify-center border-2 border-white",children:y>99?"99+":y})]})}),r.jsxs(Du,{align:"end",className:"w-[360px] max-w-[90vw] p-0",children:[r.jsxs("div",{className:"px-4 py-3 border-b flex items-center justify-between",children:[r.jsx("div",{className:"font-semibold text-sm",children:"Notifications"}),r.jsx(V,{size:"sm",variant:"outline",onClick:C,disabled:y===0,children:"Mark all read"})]}),r.jsx("div",{className:"max-h-[340px] overflow-auto",children:f?r.jsx("div",{className:"px-4 py-6 text-sm text-neutral-500",children:"Loading..."}):x.length===0?r.jsx("div",{className:"px-4 py-6 text-sm text-neutral-500",children:"No notifications yet."}):x.map(I=>r.jsx("button",{className:`w-full text-left px-4 py-3 border-b last:border-b-0 hover:bg-neutral-50 transition ${I.is_read?"":"bg-[#003D82]/[0.03]"}`,onClick:async()=>{I.is_read||await _(I.id),I.link?String(I.link).startsWith("http")?window.open(I.link,"_blank"):i(I.link):i(c("support","vendor")),p(!1)},children:r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"font-semibold text-sm text-neutral-800 truncate",children:I.title||"Notification"}),!I.is_read&&r.jsx("span",{className:"h-2 w-2 rounded-full bg-[#003D82]"})]}),I.message?r.jsx("div",{className:"text-xs text-neutral-600 mt-1 line-clamp-2",children:I.message}):null]}),r.jsx("div",{className:"text-[11px] text-neutral-500 whitespace-nowrap",children:h$(I.created_at)})]})},I.id))}),r.jsxs("div",{className:"px-4 py-3 border-t flex items-center justify-between",children:[r.jsx(V,{size:"sm",variant:"ghost",onClick:()=>{i(c("support","vendor")),p(!1)},children:"View all"}),r.jsx(V,{size:"sm",variant:"ghost",onClick:()=>p(!1),children:"Close"})]})]})]}),r.jsx("div",{className:"h-6 w-px bg-neutral-200 hidden sm:block"}),r.jsxs(Qf,{children:[r.jsx(Zf,{asChild:!0,children:r.jsxs("button",{className:"flex items-center gap-3 pl-2 rounded-full hover:bg-neutral-50",children:[r.jsxs("div",{className:"text-right hidden sm:block",children:[r.jsx("p",{className:"text-sm font-bold text-neutral-900 leading-none mb-1",children:b}),r.jsx("p",{className:"text-xs text-neutral-500 leading-none",children:(d==null?void 0:d.companyName)||(d==null?void 0:d.company_name)||"Vendor Account"})]}),r.jsx("div",{className:"h-9 w-9 rounded-full overflow-hidden bg-neutral-100 border flex items-center justify-center shadow-sm cursor-pointer",children:N?r.jsx("img",{src:N,alt:"Profile",className:"h-full w-full object-cover"}):r.jsx("span",{className:"text-sm font-bold text-neutral-700",children:u$(b)})})]})}),r.jsxs(Du,{align:"end",className:"w-56",children:[r.jsx(Dv,{children:"My Account"}),r.jsx(Ru,{}),r.jsxs(Ta,{onClick:()=>i(c("profile","vendor")),children:[r.jsx(ti,{className:"mr-2 h-4 w-4"})," Profile"]}),r.jsxs(Ta,{onClick:async()=>{const I=await je.auth.me();I&&u(I)},children:[r.jsx(Sr,{className:"mr-2 h-4 w-4"})," Refresh"]}),r.jsxs(Ta,{onClick:()=>i(c("settings","vendor")),children:[r.jsx(Ul,{className:"mr-2 h-4 w-4"})," Settings"]}),r.jsx(Ru,{}),r.jsxs(Ta,{onClick:k,className:"text-red-600",children:[r.jsx(an,{className:"mr-2 h-4 w-4"})," Logout"]})]})]})]})]}),r.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50/50 p-4 sm:p-6 scroll-smooth",children:r.jsx("div",{className:"max-w-[1600px] mx-auto min-h-full",children:r.jsx(la,{})})})]}),r.jsx(dv,{children:s&&r.jsxs(r.Fragment,{children:[r.jsx(Dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-neutral-900/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>n(!1)}),r.jsxs(Dt.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 left-0 bottom-0 w-72 bg-white z-50 md:hidden flex flex-col shadow-2xl",children:[r.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-neutral-100 bg-[#003D82]",children:[r.jsx("span",{className:"font-bold text-lg text-white",children:"Vendor Menu"}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>n(!1),className:"text-white hover:bg-white/10",children:r.jsx(yt,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"flex-1 py-4 px-3 space-y-1 overflow-y-auto",children:T.map(I=>{const q=c(I.path,"vendor");return r.jsx(Ab,{...I,active:a.pathname===q||a.pathname.startsWith(`${q}/`),collapsed:!1,resolvePath:c},I.path)})}),r.jsx("div",{className:"p-4 bg-gray-50 border-t border-neutral-200",children:r.jsxs(V,{variant:"destructive",className:"w-full justify-start shadow-sm",onClick:k,children:[r.jsx(an,{className:"h-4 w-4 mr-2"})," Logout"]})})]})]})})]})},Te=$e.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:le("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Te.displayName="Card";const Qs=$e.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:le("flex flex-col space-y-1.5 p-6",e),...t}));Qs.displayName="CardHeader";const Zs=$e.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:le("font-semibold leading-none tracking-tight",e),...t}));Zs.displayName="CardTitle";const vk=$e.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:le("text-sm text-muted-foreground",e),...t}));vk.displayName="CardDescription";const ls=$e.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:le("p-6 pt-0",e),...t}));ls.displayName="CardContent";const yk=$e.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:le("flex items-center p-6 pt-0",e),...t}));yk.displayName="CardFooter";Te.Header=Qs;Te.Title=Zs;Te.Description=vk;Te.Content=ls;Te.Footer=yk;const p$=Ja("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200"}},defaultVariants:{variant:"default"}});function Me({className:e,variant:t,...s}){return r.jsx("div",{className:le(p$({variant:t}),e),...s})}const wk=({subscription:e,loading:t})=>{var o;if(t)return r.jsx(Me,{variant:"outline",className:"animate-pulse",children:"Loading..."});if(!e)return r.jsxs(Me,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200 gap-2",children:[r.jsx(Ns,{className:"h-3 w-3"}),"No Active Plan"]});const s=((o=e.plan)==null?void 0:o.name)||"Plan",n=e.end_date?new Date(e.end_date):null,a=n?Math.ceil((n-new Date)/(1e3*60*60*24)):0,i=()=>{const l=s.toLowerCase();return l.includes("premium")?"bg-purple-100 text-purple-800 border-purple-300":l.includes("pro")?"bg-blue-100 text-blue-800 border-blue-300":l.includes("basic")?"bg-green-100 text-green-800 border-green-300":"bg-amber-100 text-amber-800 border-amber-300"};return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{className:`gap-2 border ${i()}`,children:[r.jsx(px,{className:"h-3.5 w-3.5"}),s]}),a>0&&r.jsxs("span",{className:"text-xs text-gray-600 whitespace-nowrap",children:[a," days left"]}),a<=7&&a>0&&r.jsx(Ns,{className:"h-4 w-4 text-orange-500"})]})},hd=({label:e,value:t,icon:s,detail:n,hint:a,to:i})=>{const o=({children:l})=>i?r.jsx(re,{to:i,className:"block focus:outline-none",children:l}):r.jsx("div",{children:l});return r.jsx(o,{children:r.jsx("div",{className:["group bg-white border border-slate-200 rounded-xl p-5 shadow-sm overflow-hidden","transition-all duration-200 ease-out","hover:-translate-y-0.5 hover:shadow-md hover:border-[#003D82]/30","focus-visible:ring-2 focus-visible:ring-[#003D82]/30 focus-visible:ring-offset-2",i?"cursor-pointer":"cursor-default"].join(" "),children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-700",children:e}),r.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:t}),r.jsx("p",{className:"text-xs text-slate-500 mt-1 leading-snug break-words",children:n}),a?r.jsxs("div",{className:"mt-2 flex items-start gap-1 text-[11px] text-slate-500 min-w-0",children:[r.jsx(mx,{className:"w-3.5 h-3.5 shrink-0 mt-[1px]"}),r.jsx("p",{className:"leading-snug break-words min-w-0",children:a})]}):null]}),r.jsxs("div",{className:"shrink-0 flex flex-col items-end gap-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-50 flex items-center justify-center border border-slate-200 transition-colors group-hover:bg-[#003D82]/5 group-hover:border-[#003D82]/30",children:r.jsx(s,{className:"w-5 h-5 text-slate-500 transition-colors group-hover:text-[#003D82]"})}),i?r.jsxs("div",{className:"text-[11px] text-slate-400 inline-flex items-center gap-1 group-hover:text-[#003D82] transition-colors",children:[r.jsx("span",{children:"View"}),r.jsx(Qa,{className:"w-3 h-3"})]}):null]})]})})})},Tb=()=>{const{user:e}=fc(),t=Ue(),{vendorId:s}=Wr(),[n,a]=m.useState({totalProducts:0,totalLeads:0,totalMessages:0,profileCompletion:0,kycStatus:"PENDING",trustScore:0,rating:0,vendorId:null}),[i,o]=m.useState(null),[l,c]=m.useState([]),[d,u]=m.useState(!0),[h,p]=m.useState(null),[f,g]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const[v,b,N]=await Promise.all([je.dashboard.getStats(),je.products.list(),je.subscriptions.getCurrent()]),k={totalProducts:(v==null?void 0:v.totalProducts)??0,totalLeads:(v==null?void 0:v.totalLeads)??0,totalMessages:(v==null?void 0:v.totalMessages)??0,profileCompletion:(v==null?void 0:v.profileCompletion)??0,kycStatus:(v==null?void 0:v.kycStatus)??"PENDING",trustScore:(v==null?void 0:v.trustScore)??0,rating:(v==null?void 0:v.rating)??0,vendorId:(v==null?void 0:v.vendorId)??null};a(k);const T=k==null?void 0:k.vendorId;o(T),c((b==null?void 0:b.slice(0,3))||[]),p(N||null),T&&!s&&t(`/vendor/${T}/dashboard`,{replace:!0})}catch(v){console.error("Failed to load dashboard",v)}finally{u(!1),g(!1)}})()},[s,t]);const x=m.useMemo(()=>(e==null?void 0:e.ownerName)||(e==null?void 0:e.owner_name)||(e==null?void 0:e.name)||(e!=null&&e.email?e.email.split("@")[0]:"")||"Vendor",[e]),w=m.useMemo(()=>{const y=Number(n.profileCompletion||0);return y>=90?"Great! Your profile is almost complete.":y>=60?"Add bank + KYC docs to unlock full features.":"Fill profile + upload KYC documents to unlock full features."},[n.profileCompletion]);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-neutral-800",children:["Hello, ",x,"! "]}),r.jsx("p",{className:"text-neutral-500",children:"Here's what's happening with your store today."})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[r.jsx(re,{to:"/vendor/subscriptions",className:"block",children:r.jsx(wk,{subscription:h,loading:f})}),h&&(()=>{var T;const y=new Date(h.end_date),v=new Date;v.setHours(0,0,0,0),y.setHours(0,0,0,0);const b=Math.ceil((y-v)/(1e3*60*60*24)),N=b<=7&&b>0;return b<0?r.jsx(re,{to:"/vendor/subscriptions",className:"block",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg flex items-center gap-3 hover:shadow-sm transition-shadow cursor-pointer",children:[r.jsx(Wi,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-sm",children:"Subscription Expired"}),r.jsx("p",{className:"text-xs",children:"Renew now to restore access to leads."})]}),r.jsx(V,{size:"sm",variant:"outline",className:"ml-2 border-red-600 text-red-800 hover:bg-red-100",children:"Renew Now"})]})}):N?r.jsx(re,{to:"/vendor/subscriptions",className:"block",children:r.jsxs("div",{className:"bg-orange-50 border border-orange-200 text-orange-800 px-4 py-3 rounded-lg flex items-center gap-3 hover:shadow-sm transition-shadow cursor-pointer",children:[r.jsx(Wi,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-sm",children:"Plan Expiring Soon"}),r.jsxs("p",{className:"text-xs",children:["Your ",(T=h.vendor_plans)==null?void 0:T.name," plan expires in ",b," days."]})]}),r.jsx(V,{size:"sm",variant:"outline",className:"ml-2 border-orange-600 text-orange-800 hover:bg-orange-100",children:"Renew"})]})}):null})(),n.kycStatus!=="VERIFIED"?r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded-lg flex items-center gap-3 hover:shadow-sm transition-shadow",children:[r.jsx(Wi,{className:"h-5 w-5"}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-sm",children:["KYC ",n.kycStatus]}),r.jsx("p",{className:"text-xs",children:"Complete verification to unlock all features."})]}),r.jsx(re,{to:"/vendor/profile?tab=kyc",children:r.jsx(V,{size:"sm",variant:"outline",className:"ml-2 border-yellow-600 text-yellow-800 hover:bg-yellow-100",children:"Verify Now"})})]}):r.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-2 rounded-lg flex items-center gap-2 hover:shadow-sm transition-shadow",children:[r.jsx(os,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Account Verified"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(hd,{label:"Total Products",value:n.totalProducts,icon:Ua,detail:"Listed products in your catalog.",hint:"Add more products to increase visibility.",to:"/vendor/products"}),r.jsx(hd,{label:"Active Leads",value:n.totalLeads,icon:St,detail:"New buyer inquiries received.",hint:"Reply fast to win more orders.",to:"/vendor/leads"}),r.jsx(hd,{label:"Messages",value:n.totalMessages,icon:qr,detail:"Support / buyer messages pending.",hint:"Open messages and respond.",to:"/vendor/support"}),r.jsx(hd,{label:"Profile Completion",value:`${n.profileCompletion}%`,icon:Jn,detail:"How much of your business profile is filled.",hint:w,to:"/vendor/profile?tab=primary"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(Te,{className:"transition-all duration-200 hover:shadow-md hover:-translate-y-0.5",children:[r.jsx(Te.Header,{children:r.jsx(Te.Title,{children:"Your Vendor ID"})}),r.jsxs(Te.Content,{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-neutral-600",children:"Use this ID for all support requests and transactions"}),r.jsx("div",{className:"bg-neutral-50 p-3 rounded font-mono text-center text-lg font-bold text-[#003D82] break-all min-h-[3rem] flex items-center justify-center border border-slate-200",children:d?r.jsx("span",{className:"text-blue-500 animate-pulse",children:"Loading..."}):i||r.jsx("span",{className:"text-neutral-400",children:"No vendor ID assigned"})}),r.jsx(V,{variant:"outline",size:"sm",className:"w-full hover:border-[#003D82] hover:text-[#003D82]",onClick:()=>{i&&(navigator.clipboard.writeText(i),alert("Vendor ID copied!"))},disabled:!i,children:"Copy ID"})]})]}),r.jsx("div",{className:"lg:col-span-2 space-y-3",children:r.jsxs(Te,{className:"h-full transition-all duration-200 hover:shadow-md hover:-translate-y-0.5",children:[r.jsx(Te.Header,{children:r.jsx(Te.Title,{children:"Quick Actions"})}),r.jsxs(Te.Content,{className:"space-y-3",children:[r.jsx(re,{to:"/vendor/products/add",children:r.jsxs(V,{variant:"outline",className:"w-full justify-start h-12 text-neutral-600 hover:text-[#003D82] hover:border-[#003D82] hover:bg-[#003D82]/5 transition-colors",children:[r.jsx(Bt,{className:"mr-2 h-5 w-5"}),"Add New Product"]})}),r.jsx(re,{to:"/vendor/leads",children:r.jsxs(V,{variant:"outline",className:"w-full justify-start h-12 text-neutral-600 hover:text-[#003D82] hover:border-[#003D82] hover:bg-[#003D82]/5 transition-colors",children:[r.jsx(St,{className:"mr-2 h-5 w-5"}),"View New Leads"]})}),r.jsx(re,{to:"/vendor/support",children:r.jsxs(V,{variant:"outline",className:"w-full justify-start h-12 text-neutral-600 hover:text-[#003D82] hover:border-[#003D82] hover:bg-[#003D82]/5 transition-colors",children:[r.jsx(qr,{className:"mr-2 h-5 w-5"}),"Contact Support"]})})]})]})}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(Te,{className:"h-full transition-all duration-200 hover:shadow-md hover:-translate-y-0.5",children:[r.jsx(Te.Header,{children:r.jsx(Te.Title,{children:"Recent Products"})}),r.jsx(Te.Content,{children:l.length>0?r.jsx("div",{className:"space-y-3",children:l.map(y=>r.jsxs("div",{className:"flex justify-between items-start p-3 bg-neutral-50 rounded border border-slate-200 hover:border-[#003D82]/30 hover:bg-white transition-colors",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-sm text-neutral-800",children:y.name}),r.jsxs("p",{className:"text-xs text-neutral-500",children:["Status: ",y.status]})]}),r.jsxs("span",{className:"text-sm font-bold text-[#00A699]",children:["",y.price]})]},y.id))}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No products yet."," ",r.jsx(re,{to:"/vendor/products/add",className:"text-[#003D82] font-semibold hover:underline",children:"Add one now"})]})})]})})]})]})},H=$e.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:le("flex h-11 w-full rounded-md border border-input bg-background px-3 py-2 text-base md:text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s}));H.displayName="Input";const ve=m.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:le("rounded-xl border bg-card text-card-foreground shadow",e),...t}));ve.displayName="Card";const De=m.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:le("flex flex-col space-y-1.5 p-6",e),...t}));De.displayName="CardHeader";const Re=m.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:le("font-semibold leading-none tracking-tight",e),...t}));Re.displayName="CardTitle";const Rs=m.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:le("text-sm text-muted-foreground",e),...t}));Rs.displayName="CardDescription";const _e=m.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:le("p-6 pt-0",e),...t}));_e.displayName="CardContent";const Sc=m.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:le("flex items-center p-6 pt-0",e),...t}));Sc.displayName="CardFooter";const Gs={getWhatsAppUrl:(e,t)=>{const s=`Check out this product: ${e}
${t}`;return`https://wa.me/?text=${encodeURIComponent(s)}`},getFacebookUrl:e=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`,getLinkedInUrl:(e,t)=>`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(e)}&title=${encodeURIComponent(t)}`,getTwitterUrl:(e,t)=>{const s=`Check out: ${e}`;return`https://twitter.com/intent/tweet?text=${encodeURIComponent(s)}&url=${encodeURIComponent(t)}`},copyToClipboard:async e=>{try{return await navigator.clipboard.writeText(e),!0}catch(t){return console.error("Failed to copy:",t),!1}},getCurrentUrl:()=>typeof window<"u"?window.location.href:"",getShareMessage:(e,t)=>`${e} from ${t}`},f$=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!0),[a,i]=m.useState(""),[o,l]=m.useState(null),c=Zt(),d=async f=>{const g=`${window.location.origin}/p/${f}`;await Gs.copyToClipboard(g)?(l(f),M({title:"Link copied!",description:"Product link copied to clipboard"}),setTimeout(()=>l(null),2e3)):M({title:"Failed to copy",variant:"destructive"})};m.useEffect(()=>{u()},[c]);const u=async()=>{try{const f=await je.products.list();t(Array.isArray(f)?f:[])}catch{M({title:"Error loading products",variant:"destructive"})}finally{n(!1)}},h=m.useMemo(()=>{const f=a.trim().toLowerCase();return f?e.filter(g=>(g.name||"").toLowerCase().includes(f)||(g.sku||"").toLowerCase().includes(f)):e},[e,a]),p=async f=>{if(window.confirm("Are you sure you want to delete this product?"))try{await je.products.delete(f),t(e.filter(g=>g.id!==f)),M({title:"Product deleted successfully"})}catch(g){M({title:"Error deleting product",description:g.message,variant:"destructive"})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Products"}),r.jsx("p",{className:"text-gray-500",children:"Manage your product catalog"})]}),r.jsx(V,{className:"bg-[#003D82]",asChild:!0,children:r.jsxs(re,{to:"/vendor/products/add",children:[r.jsx(Bt,{className:"mr-2 h-4 w-4"})," Add Product"]})})]}),r.jsx("div",{className:"flex items-center gap-4 bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(Et,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(H,{placeholder:"Search products...",className:"pl-9",value:a,onChange:f=>i(f.target.value)})]})}),r.jsx("div",{className:"space-y-4",children:s?r.jsx("div",{className:"bg-white border rounded-lg p-8 text-center text-gray-600",children:"Loading..."}):h.length===0?r.jsxs("div",{className:"bg-white border rounded-lg p-12 text-center text-gray-500",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-3",children:r.jsx(Ua,{className:"w-6 h-6 text-gray-400"})}),r.jsx("p",{className:"text-lg font-medium text-gray-900",children:"No products found"}),r.jsx("p",{className:"text-gray-500",children:"Add your first product to start selling."})]}):h.map(f=>{var x,w,y;const g=(x=f.images)==null?void 0:x[0];return r.jsx(ve,{className:"overflow-hidden hover:shadow-lg transition-all border-0 shadow-md",children:r.jsxs("div",{className:"flex flex-col lg:flex-row",children:[r.jsxs("div",{className:"w-full lg:w-56 h-56 bg-slate-100 flex-shrink-0 relative border-r flex items-center justify-center",children:[g?r.jsx("img",{src:g,className:"w-full h-full object-contain p-2",alt:f.name}):r.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:r.jsx(Xn,{className:"w-8 h-8"})}),r.jsx("div",{className:"absolute bottom-3 right-3",children:r.jsx(Me,{variant:f.status==="ACTIVE"?"default":"secondary",className:`text-xs py-0.5 px-2 ${f.status==="ACTIVE"?"bg-green-100 text-green-800":""}`,children:f.status||"DRAFT"})})]}),r.jsxs("div",{className:"flex-1 p-6 flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:f.name}),r.jsxs("div",{className:"text-lg font-semibold text-[#003D82] mb-2",children:[" ",f.price," / ",f.price_unit]}),r.jsx("div",{className:"text-sm text-gray-600 mb-4",children:f.category_path?r.jsx("span",{children:f.category_path.split(">").map((v,b,N)=>r.jsxs($e.Fragment,{children:[r.jsx("span",{children:v.trim()}),b<N.length-1&&r.jsx("span",{className:"mx-1",children:""})]},b))}):f.category_other||"Uncategorized"}),f.extra_micro_categories&&f.extra_micro_categories.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:f.extra_micro_categories.map((v,b)=>r.jsx(Me,{variant:"secondary",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:v.name||v},b))}),f.description&&r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:f.description.replace(/<[^>]*>/g,"")})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-slate-600 pt-3 border-t",children:[f.min_order_qty&&r.jsxs("div",{children:["Min Order: ",r.jsxs("span",{className:"font-medium",children:[f.min_order_qty," ",f.qty_unit]})]}),((y=(w=f.target_locations)==null?void 0:w.states)==null?void 0:y.length)>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(kt,{className:"w-3 h-3"}),f.target_locations.states.length," States, ",f.target_locations.cities.length," Cities"]})]})]}),r.jsxs("div",{className:"w-full lg:w-72 bg-slate-50 p-6 border-l flex flex-col justify-between",children:[f.specifications&&f.specifications.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-bold text-sm text-gray-700 mb-3 uppercase",children:"Specifications"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[f.specifications.slice(0,3).map((v,b)=>r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:v.key}),r.jsx("span",{className:"font-medium text-gray-900",children:v.value})]},b)),f.specifications.length>3&&r.jsxs("p",{className:"text-xs text-blue-600 cursor-pointer",children:["+",f.specifications.length-3," more"]})]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(V,{size:"sm",variant:"ghost",asChild:!0,className:"justify-start",title:"View product",children:r.jsxs(re,{to:`/p/${f.slug||f.id}`,target:"_blank",className:"text-blue-600 hover:text-blue-800",children:[r.jsx(Xn,{className:"w-4 h-4 mr-2"})," View Product"]})}),r.jsx(V,{size:"sm",variant:"ghost",onClick:()=>d(f.slug||f.id),className:"justify-start",title:"Copy shareable link",children:o===(f.slug||f.id)?r.jsxs(r.Fragment,{children:[r.jsx(os,{className:"w-4 h-4 mr-2 text-green-600"})," Copied"]}):r.jsxs(r.Fragment,{children:[r.jsx(S1,{className:"w-4 h-4 mr-2"})," Copy Link"]})}),r.jsx(V,{size:"sm",variant:"outline",asChild:!0,className:"justify-start",children:r.jsxs(re,{to:`/vendor/products/${f.id}/edit`,children:[r.jsx(O1,{className:"w-4 h-4 mr-2"})," Edit"]})}),r.jsxs(V,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50 justify-start",onClick:()=>p(f.id),children:[r.jsx(vr,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})]})},f.id)})})]})};var g$="Label",bk=m.forwardRef((e,t)=>r.jsx(Ee.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));bk.displayName=g$;var jk=bk;const x$=Ja("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),U=$e.forwardRef(({className:e,...t},s)=>r.jsx(jk,{ref:s,className:le(x$(),e),...t}));U.displayName=jk.displayName;function Db(e,[t,s]){return Math.min(s,Math.max(t,e))}function Rv(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var v$=[" ","Enter","ArrowUp","ArrowDown"],y$=[" ","Enter"],Cc="Select",[$h,Uh,w$]=ch(Cc),[To,jH]=ks(Cc,[w$,Ao]),zh=Ao(),[b$,ua]=To(Cc),[j$,N$]=To(Cc),Nk=e=>{const{__scopeSelect:t,children:s,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:p,required:f,form:g}=e,x=zh(t),[w,y]=m.useState(null),[v,b]=m.useState(null),[N,k]=m.useState(!1),T=Ph(d),[A=!1,_]=Fr({prop:n,defaultProp:a,onChange:i}),[C,I]=Fr({prop:o,defaultProp:l,onChange:c}),q=m.useRef(null),F=w?g||!!w.closest("form"):!0,[D,S]=m.useState(new Set),E=Array.from(D).map(O=>O.props.value).join(";");return r.jsx(bv,{...x,children:r.jsxs(b$,{required:f,scope:t,trigger:w,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:k,contentId:yr(),value:C,onValueChange:I,open:A,onOpenChange:_,dir:T,triggerPointerDownPosRef:q,disabled:p,children:[r.jsx($h.Provider,{scope:t,children:r.jsx(j$,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(O=>{S(P=>new Set(P).add(O))},[]),onNativeOptionRemove:m.useCallback(O=>{S(P=>{const R=new Set(P);return R.delete(O),R})},[]),children:s})}),F?r.jsxs(Gk,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:C,onChange:O=>I(O.target.value),disabled:p,form:g,children:[C===void 0?r.jsx("option",{value:""}):null,Array.from(D)]},E):null]})})};Nk.displayName=Cc;var _k="SelectTrigger",Sk=m.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:n=!1,...a}=e,i=zh(s),o=ua(_k,s),l=o.disabled||n,c=He(t,o.onTriggerChange),d=Uh(s),u=m.useRef("touch"),[h,p,f]=Yk(x=>{const w=d().filter(b=>!b.disabled),y=w.find(b=>b.value===o.value),v=Xk(w,x,y);v!==void 0&&o.onValueChange(v.value)}),g=x=>{l||(o.onOpenChange(!0),f()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return r.jsx(Ih,{asChild:!0,...i,children:r.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Kk(o.value)?"":void 0,...a,ref:c,onClick:fe(a.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&g(x)}),onPointerDown:fe(a.onPointerDown,x=>{u.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(g(x),x.preventDefault())}),onKeyDown:fe(a.onKeyDown,x=>{const w=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(w&&x.key===" ")&&v$.includes(x.key)&&(g(),x.preventDefault())})})})});Sk.displayName=_k;var Ck="SelectValue",kk=m.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:a,children:i,placeholder:o="",...l}=e,c=ua(Ck,s),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=He(t,c.onValueNodeChange);return Ot(()=>{d(u)},[d,u]),r.jsx(Ee.span,{...l,ref:h,style:{pointerEvents:"none"},children:Kk(c.value)?r.jsx(r.Fragment,{children:o}):i})});kk.displayName=Ck;var _$="SelectIcon",Ek=m.forwardRef((e,t)=>{const{__scopeSelect:s,children:n,...a}=e;return r.jsx(Ee.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});Ek.displayName=_$;var S$="SelectPortal",Pk=e=>r.jsx(_o,{asChild:!0,...e});Pk.displayName=S$;var Ha="SelectContent",Ak=m.forwardRef((e,t)=>{const s=ua(Ha,e.__scopeSelect),[n,a]=m.useState();if(Ot(()=>{a(new DocumentFragment)},[]),!s.open){const i=n;return i?Xa.createPortal(r.jsx(Tk,{scope:e.__scopeSelect,children:r.jsx($h.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(Dk,{...e,ref:t})});Ak.displayName=Ha;var cr=10,[Tk,ha]=To(Ha),C$="SelectContentImpl",Dk=m.forwardRef((e,t)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:g,hideWhenDetached:x,avoidCollisions:w,...y}=e,v=ua(Ha,s),[b,N]=m.useState(null),[k,T]=m.useState(null),A=He(t,te=>N(te)),[_,C]=m.useState(null),[I,q]=m.useState(null),F=Uh(s),[D,S]=m.useState(!1),E=m.useRef(!1);m.useEffect(()=>{if(b)return Lh(b)},[b]),Ah();const O=m.useCallback(te=>{const[ce,...ne]=F().map(we=>we.ref.current),[he]=ne.slice(-1),xe=document.activeElement;for(const we of te)if(we===xe||(we==null||we.scrollIntoView({block:"nearest"}),we===ce&&k&&(k.scrollTop=0),we===he&&k&&(k.scrollTop=k.scrollHeight),we==null||we.focus(),document.activeElement!==xe))return},[F,k]),P=m.useCallback(()=>O([_,b]),[O,_,b]);m.useEffect(()=>{D&&P()},[D,P]);const{onOpenChange:R,triggerPointerDownPosRef:L}=v;m.useEffect(()=>{if(b){let te={x:0,y:0};const ce=he=>{var xe,we;te={x:Math.abs(Math.round(he.pageX)-(((xe=L.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(he.pageY)-(((we=L.current)==null?void 0:we.y)??0))}},ne=he=>{te.x<=10&&te.y<=10?he.preventDefault():b.contains(he.target)||R(!1),document.removeEventListener("pointermove",ce),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ne,{capture:!0})}}},[b,R,L]),m.useEffect(()=>{const te=()=>R(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[R]);const[B,Q]=Yk(te=>{const ce=F().filter(xe=>!xe.disabled),ne=ce.find(xe=>xe.ref.current===document.activeElement),he=Xk(ce,te,ne);he&&setTimeout(()=>he.ref.current.focus())}),W=m.useCallback((te,ce,ne)=>{const he=!E.current&&!ne;(v.value!==void 0&&v.value===ce||he)&&(C(te),he&&(E.current=!0))},[v.value]),z=m.useCallback(()=>b==null?void 0:b.focus(),[b]),X=m.useCallback((te,ce,ne)=>{const he=!E.current&&!ne;(v.value!==void 0&&v.value===ce||he)&&q(te)},[v.value]),de=n==="popper"?eg:Rk,ue=de===eg?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:g,hideWhenDetached:x,avoidCollisions:w}:{};return r.jsx(Tk,{scope:s,content:b,viewport:k,onViewportChange:T,itemRefCallback:W,selectedItem:_,onItemLeave:z,itemTextRefCallback:X,focusSelectedItem:P,selectedItemText:I,position:n,isPositioned:D,searchRef:B,children:r.jsx(Vh,{as:mn,allowPinchZoom:!0,children:r.jsx(bc,{asChild:!0,trapped:v.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:fe(a,te=>{var ce;(ce=v.trigger)==null||ce.focus({preventScroll:!0}),te.preventDefault()}),children:r.jsx(No,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:r.jsx(de,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:te=>te.preventDefault(),...y,...ue,onPlaced:()=>S(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:fe(y.onKeyDown,te=>{const ce=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ce&&te.key.length===1&&Q(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let he=F().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(te.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const xe=te.target,we=he.indexOf(xe);he=he.slice(we+1)}setTimeout(()=>O(he)),te.preventDefault()}})})})})})})});Dk.displayName=C$;var k$="SelectItemAlignedPosition",Rk=m.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:n,...a}=e,i=ua(Ha,s),o=ha(Ha,s),[l,c]=m.useState(null),[d,u]=m.useState(null),h=He(t,A=>u(A)),p=Uh(s),f=m.useRef(!1),g=m.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:y,focusSelectedItem:v}=o,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&w&&y){const A=i.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),I=y.getBoundingClientRect();if(i.dir!=="rtl"){const xe=I.left-_.left,we=C.left-xe,Se=A.left-we,qe=A.width+Se,Fe=Math.max(qe,_.width),K=window.innerWidth-cr,ee=Db(we,[cr,Math.max(cr,K-Fe)]);l.style.minWidth=qe+"px",l.style.left=ee+"px"}else{const xe=_.right-I.right,we=window.innerWidth-C.right-xe,Se=window.innerWidth-A.right-we,qe=A.width+Se,Fe=Math.max(qe,_.width),K=window.innerWidth-cr,ee=Db(we,[cr,Math.max(cr,K-Fe)]);l.style.minWidth=qe+"px",l.style.right=ee+"px"}const q=p(),F=window.innerHeight-cr*2,D=x.scrollHeight,S=window.getComputedStyle(d),E=parseInt(S.borderTopWidth,10),O=parseInt(S.paddingTop,10),P=parseInt(S.borderBottomWidth,10),R=parseInt(S.paddingBottom,10),L=E+O+D+R+P,B=Math.min(w.offsetHeight*5,L),Q=window.getComputedStyle(x),W=parseInt(Q.paddingTop,10),z=parseInt(Q.paddingBottom,10),X=A.top+A.height/2-cr,de=F-X,ue=w.offsetHeight/2,te=w.offsetTop+ue,ce=E+O+te,ne=L-ce;if(ce<=X){const xe=q.length>0&&w===q[q.length-1].ref.current;l.style.bottom="0px";const we=d.clientHeight-x.offsetTop-x.offsetHeight,Se=Math.max(de,ue+(xe?z:0)+we+P),qe=ce+Se;l.style.height=qe+"px"}else{const xe=q.length>0&&w===q[0].ref.current;l.style.top="0px";const Se=Math.max(X,E+x.offsetTop+(xe?W:0)+ue)+ne;l.style.height=Se+"px",x.scrollTop=ce-X+x.offsetTop}l.style.margin=`${cr}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=F+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,i.trigger,i.valueNode,l,d,x,w,y,i.dir,n]);Ot(()=>b(),[b]);const[N,k]=m.useState();Ot(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const T=m.useCallback(A=>{A&&g.current===!0&&(b(),v==null||v(),g.current=!1)},[b,v]);return r.jsx(P$,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:T,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:r.jsx(Ee.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Rk.displayName=k$;var E$="SelectPopperPosition",eg=m.forwardRef((e,t)=>{const{__scopeSelect:s,align:n="start",collisionPadding:a=cr,...i}=e,o=zh(s);return r.jsx(jv,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eg.displayName=E$;var[P$,Iv]=To(Ha,{}),tg="SelectViewport",Ik=m.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:n,...a}=e,i=ha(tg,s),o=Iv(tg,s),l=He(t,i.onViewportChange),c=m.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx($h.Slot,{scope:s,children:r.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:fe(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const f=Math.abs(c.current-u.scrollTop);if(f>0){const g=window.innerHeight-cr*2,x=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),y=Math.max(x,w);if(y<g){const v=y+f,b=Math.min(g,v),N=v-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Ik.displayName=tg;var Ok="SelectGroup",[A$,T$]=To(Ok),D$=m.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,a=yr();return r.jsx(A$,{scope:s,id:a,children:r.jsx(Ee.div,{role:"group","aria-labelledby":a,...n,ref:t})})});D$.displayName=Ok;var Mk="SelectLabel",Lk=m.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,a=T$(Mk,s);return r.jsx(Ee.div,{id:a.id,...n,ref:t})});Lk.displayName=Mk;var Iu="SelectItem",[R$,Fk]=To(Iu),Vk=m.forwardRef((e,t)=>{const{__scopeSelect:s,value:n,disabled:a=!1,textValue:i,...o}=e,l=ua(Iu,s),c=ha(Iu,s),d=l.value===n,[u,h]=m.useState(i??""),[p,f]=m.useState(!1),g=He(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,a)}),x=yr(),w=m.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(R$,{scope:s,value:n,disabled:a,textId:x,isSelected:d,onItemTextChange:m.useCallback(v=>{h(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:r.jsx($h.ItemSlot,{scope:s,value:n,disabled:a,textValue:u,children:r.jsx(Ee.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:fe(o.onFocus,()=>f(!0)),onBlur:fe(o.onBlur,()=>f(!1)),onClick:fe(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:fe(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:fe(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:fe(o.onPointerMove,v=>{var b;w.current=v.pointerType,a?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:fe(o.onKeyDown,v=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&v.key===" "||(y$.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});Vk.displayName=Iu;var ll="SelectItemText",qk=m.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:a,...i}=e,o=ua(ll,s),l=ha(ll,s),c=Fk(ll,s),d=N$(ll,s),[u,h]=m.useState(null),p=He(t,y=>h(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),f=u==null?void 0:u.textContent,g=m.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=d;return Ot(()=>(x(g),()=>w(g)),[x,w,g]),r.jsxs(r.Fragment,{children:[r.jsx(Ee.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Xa.createPortal(i.children,o.valueNode):null]})});qk.displayName=ll;var Bk="SelectItemIndicator",$k=m.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return Fk(Bk,s).isSelected?r.jsx(Ee.span,{"aria-hidden":!0,...n,ref:t}):null});$k.displayName=Bk;var sg="SelectScrollUpButton",Uk=m.forwardRef((e,t)=>{const s=ha(sg,e.__scopeSelect),n=Iv(sg,e.__scopeSelect),[a,i]=m.useState(!1),o=He(t,n.onScrollButtonChange);return Ot(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?r.jsx(Hk,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Uk.displayName=sg;var rg="SelectScrollDownButton",zk=m.forwardRef((e,t)=>{const s=ha(rg,e.__scopeSelect),n=Iv(rg,e.__scopeSelect),[a,i]=m.useState(!1),o=He(t,n.onScrollButtonChange);return Ot(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?r.jsx(Hk,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});zk.displayName=rg;var Hk=m.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:n,...a}=e,i=ha("SelectScrollButton",s),o=m.useRef(null),l=Uh(s),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Ot(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(Ee.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:fe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:fe(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:fe(a.onPointerLeave,()=>{c()})})}),I$="SelectSeparator",Wk=m.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return r.jsx(Ee.div,{"aria-hidden":!0,...n,ref:t})});Wk.displayName=I$;var ng="SelectArrow",O$=m.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,a=zh(s),i=ua(ng,s),o=ha(ng,s);return i.open&&o.position==="popper"?r.jsx(Nv,{...a,...n,ref:t}):null});O$.displayName=ng;function Kk(e){return e===""||e===void 0}var Gk=m.forwardRef((e,t)=>{const{value:s,...n}=e,a=m.useRef(null),i=He(t,a),o=Rv(s);return m.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==s&&u){const h=new Event("change",{bubbles:!0});u.call(l,s),l.dispatchEvent(h)}},[o,s]),r.jsx(dh,{asChild:!0,children:r.jsx("select",{...n,ref:i,defaultValue:s})})});Gk.displayName="BubbleSelect";function Yk(e){const t=Ut(e),s=m.useRef(""),n=m.useRef(0),a=m.useCallback(o=>{const l=s.current+o;t(l),function c(d){s.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,a,i]}function Xk(e,t,s){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=s?e.indexOf(s):-1;let o=M$(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function M$(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var L$=Nk,Jk=Sk,F$=kk,V$=Ek,q$=Pk,Qk=Ak,B$=Ik,Zk=Lk,eE=Vk,$$=qk,U$=$k,tE=Uk,sE=zk,rE=Wk;const tt=L$,st=F$,Je=m.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(Jk,{ref:n,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,r.jsx(V$,{asChild:!0,children:r.jsx(io,{className:"h-4 w-4 opacity-50"})})]}));Je.displayName=Jk.displayName;const nE=m.forwardRef(({className:e,...t},s)=>r.jsx(tE,{ref:s,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(_I,{className:"h-4 w-4"})}));nE.displayName=tE.displayName;const aE=m.forwardRef(({className:e,...t},s)=>r.jsx(sE,{ref:s,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(io,{className:"h-4 w-4"})}));aE.displayName=sE.displayName;const Qe=m.forwardRef(({className:e,children:t,position:s="popper",...n},a)=>r.jsx(q$,{children:r.jsxs(Qk,{ref:a,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[r.jsx(nE,{}),r.jsx(B$,{className:le("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(aE,{})]})}));Qe.displayName=Qk.displayName;const z$=m.forwardRef(({className:e,...t},s)=>r.jsx(Zk,{ref:s,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));z$.displayName=Zk.displayName;const ye=m.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(eE,{ref:n,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(U$,{children:r.jsx(Sr,{className:"h-4 w-4"})})}),r.jsx($$,{children:t})]}));ye.displayName=eE.displayName;const H$=m.forwardRef(({className:e,...t},s)=>r.jsx(rE,{ref:s,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));H$.displayName=rE.displayName;var Ov="Tabs",[W$,NH]=ks(Ov,[Mh]),iE=Mh(),[K$,Mv]=W$(Ov),oE=m.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Ph(l),[h,p]=Fr({prop:n,onChange:a,defaultProp:i});return r.jsx(K$,{scope:s,baseId:yr(),value:h,onValueChange:p,orientation:o,dir:u,activationMode:c,children:r.jsx(Ee.div,{dir:u,"data-orientation":o,...d,ref:t})})});oE.displayName=Ov;var lE="TabsList",cE=m.forwardRef((e,t)=>{const{__scopeTabs:s,loop:n=!0,...a}=e,i=Mv(lE,s),o=iE(s);return r.jsx(pC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:r.jsx(Ee.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});cE.displayName=lE;var dE="TabsTrigger",uE=m.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,disabled:a=!1,...i}=e,o=Mv(dE,s),l=iE(s),c=pE(o.baseId,n),d=fE(o.baseId,n),u=n===o.value;return r.jsx(fC,{asChild:!0,...l,focusable:!a,active:u,children:r.jsx(Ee.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:fe(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:fe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:fe(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(n)})})})});uE.displayName=dE;var hE="TabsContent",mE=m.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,forceMount:a,children:i,...o}=e,l=Mv(hE,s),c=pE(l.baseId,n),d=fE(l.baseId,n),u=n===l.value,h=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),r.jsx(Us,{present:a||u,children:({present:p})=>r.jsx(Ee.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});mE.displayName=hE;function pE(e,t){return`${e}-trigger-${t}`}function fE(e,t){return`${e}-content-${t}`}var G$=oE,gE=cE,xE=uE,vE=mE;const oi=G$,ma=m.forwardRef(({className:e,...t},s)=>r.jsx(gE,{ref:s,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ma.displayName=gE.displayName;const Rt=m.forwardRef(({className:e,...t},s)=>r.jsx(xE,{ref:s,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Rt.displayName=xE.displayName;const vt=m.forwardRef(({className:e,...t},s)=>r.jsx(vE,{ref:s,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));vt.displayName=vE.displayName;const nr={getHeadCategories:async()=>{const{data:e,error:t}=await j.from("head_categories").select("id, name, slug, image_url, description").eq("is_active",!0).order("name");if(t)throw t;return e||[]},getSubCategories:async e=>{const{data:t}=await j.from("head_categories").select("id").eq("slug",e).single();if(!t)return[];const{data:s,error:n}=await j.from("sub_categories").select("id, name, slug, image_url, description").eq("head_category_id",t.id).eq("is_active",!0).order("name");if(n)throw n;return s||[]},getMicroCategories:async e=>{const{data:t}=await j.from("sub_categories").select("id").eq("slug",e).single();if(!t)return[];const{data:s,error:n}=await j.from("micro_categories").select("id, name, slug, description").eq("sub_category_id",t.id).eq("is_active",!0).order("name");if(n)throw n;return s||[]},searchMicroCategories:async e=>{if(!e||e.length<2)return[];let t=[];const{data:s,error:n}=await j.from("micro_categories").select(`
      id, name, slug, 
      sub_categories(id, name, slug, head_categories(id, name, slug))
    `).ilike("name",`%${e}%`).limit(10);if(!n&&s&&(t=s.map(o=>{var l,c,d,u,h,p,f,g,x;return{id:o.id,name:o.name,slug:o.slug,path:`${(c=(l=o.sub_categories)==null?void 0:l.head_categories)==null?void 0:c.name} > ${(d=o.sub_categories)==null?void 0:d.name} > ${o.name}`,head_id:(h=(u=o.sub_categories)==null?void 0:u.head_categories)==null?void 0:h.id,sub_id:(p=o.sub_categories)==null?void 0:p.id,sub_slug:(f=o.sub_categories)==null?void 0:f.slug,head_slug:(x=(g=o.sub_categories)==null?void 0:g.head_categories)==null?void 0:x.slug,type:"micro"}})),t.length<6){const{data:o,error:l}=await j.from("products").select("id, micro_category_id, status").ilike("name",`%${e}%`).or("status.eq.ACTIVE,status.is.null").limit(20);if(!l&&o){const c=Array.from(new Set((o||[]).map(d=>d.micro_category_id).filter(Boolean)));if(c.length>0){const{data:d,error:u}=await j.from("micro_categories").select(`
            id, name, slug,
            sub_categories(id, name, slug, head_categories(id, name, slug))
          `).in("id",c).limit(10);!u&&d&&(t=[...d.map(p=>{var f,g,x,w,y,v,b,N,k;return{id:p.id,name:p.name,slug:p.slug,path:`${(g=(f=p.sub_categories)==null?void 0:f.head_categories)==null?void 0:g.name} > ${(x=p.sub_categories)==null?void 0:x.name} > ${p.name}`,head_id:(y=(w=p.sub_categories)==null?void 0:w.head_categories)==null?void 0:y.id,sub_id:(v=p.sub_categories)==null?void 0:v.id,sub_slug:(b=p.sub_categories)==null?void 0:b.slug,head_slug:(k=(N=p.sub_categories)==null?void 0:N.head_categories)==null?void 0:k.slug,type:"micro"}}),...t])}}}if(t.length<5){const{data:o,error:l}=await j.from("sub_categories").select(`
        id, name, slug,
        head_categories(id, name, slug)
      `).ilike("name",`%${e}%`).limit(10);if(!l&&o){const c=o.map(d=>{var u,h,p;return{id:d.id,name:d.name,slug:d.slug,path:`${(u=d.head_categories)==null?void 0:u.name} > ${d.name}`,head_id:(h=d.head_categories)==null?void 0:h.id,sub_id:d.id,sub_slug:d.slug,head_slug:(p=d.head_categories)==null?void 0:p.slug,type:"sub"}});t=[...t,...c]}}const a=new Set,i=[];for(const o of t){const l=`${o.type}:${o.slug}`;a.has(l)||(a.add(l),i.push(o))}return i.slice(0,10)},searchProducts:async({q:e,stateId:t,cityId:s,sort:n="",page:a=1,limit:i=20})=>{const o=(a-1)*i,l=o+i-1;let c=j.from("products").select(`
      *,
      vendors!inner (
        id, company_name, city, state, state_id, city_id,
        seller_rating, kyc_status, verification_badge, trust_score
      )
    `,{count:"exact"}).eq("status","ACTIVE");e&&(c=c.ilike("name",`%${e}%`)),t&&(c=c.eq("vendors.state_id",t)),s&&(c=c.eq("vendors.city_id",s)),n==="price_asc"?c=c.order("price",{ascending:!0}):n==="price_desc"?c=c.order("price",{ascending:!1}):c=c.order("created_at",{ascending:!1}),c=c.range(o,l);const{data:d,count:u,error:h}=await c;if(h)throw h;return{data:d||[],count:u}},listProductsByMicro:async({microSlug:e,stateId:t,cityId:s,q:n,sort:a,page:i=1,limit:o=20})=>{const l=(i-1)*o,c=l+o-1;let d=j.from("products").select(`
      *,
      vendors!inner (
        id, company_name, city, state, state_id, city_id,
        seller_rating, kyc_status, verification_badge, trust_score
      )
    `,{count:"exact"}).eq("status","ACTIVE");if(e){const{data:f,error:g}=await j.from("micro_categories").select("id").eq("slug",e).single();if(g)throw g;f&&(d=d.eq("micro_category_id",f.id))}n&&(d=d.ilike("name",`%${n}%`)),t&&(d=d.eq("vendors.state_id",t)),s&&(d=d.eq("vendors.city_id",s)),a==="price_asc"?d=d.order("price",{ascending:!0}):a==="price_desc"?d=d.order("price",{ascending:!1}):d=d.order("created_at",{ascending:!1}),d=d.range(l,c);const{data:u,count:h,error:p}=await d;if(p)throw p;return{data:u||[],count:h}},getProductDetailBySlug:async e=>{const{data:t,error:s}=await j.from("products").select(`
        *,
        vendors (*)
      `).eq("slug",e).single();if(s)throw s;if(t&&t.micro_category_id){const{data:n}=await j.from("micro_categories").select(`
          id, name, slug,
          sub_categories (
            id, name, slug,
            head_categories (id, name, slug)
          )
        `).eq("id",t.micro_category_id).single();n&&(t.micro_categories=n)}return t},getStates:async()=>{const{data:e}=await j.from("states").select("id, name, slug").order("name");return e||[]},getCities:async e=>{if(!e)return[];const{data:t}=await j.from("cities").select("id, name, slug").eq("state_id",e).order("name");return t||[]}},Rb=({onSelect:e,defaultValue:t="",placeholder:s="Search category...",disabled:n=!1,onAutoSelect:a=null})=>{const[i,o]=m.useState(t),[l,c]=m.useState([]),[d,u]=m.useState(!1),[h,p]=m.useState(!1),[f,g]=m.useState(-1),x=m.useRef(null);m.useEffect(()=>{const v=b=>{x.current&&!x.current.contains(b.target)&&p(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),m.useEffect(()=>{const v=setTimeout(async()=>{if(i.length>=2){u(!0);try{const b=await nr.searchMicroCategories(i);c(b),b.length>0?p(!0):p(!1),g(-1)}catch(b){console.error(b),c([])}finally{u(!1)}}else c([]),p(!1)},300);return()=>clearTimeout(v)},[i]);const w=v=>{!h||l.length===0||(v.key==="ArrowDown"?(v.preventDefault(),g(b=>b<l.length-1?b+1:0)):v.key==="ArrowUp"?(v.preventDefault(),g(b=>b>0?b-1:l.length-1)):v.key==="Enter"?(v.preventDefault(),f>=0&&y(l[f])):v.key==="Escape"&&p(!1))},y=v=>{o(v.name),p(!1),e(v)};return r.jsxs("div",{className:"relative",ref:x,children:[r.jsxs("div",{className:"relative",children:[r.jsx(H,{value:i,onChange:v=>{o(v.target.value),v.target.value||e(null)},onKeyDown:w,placeholder:s,className:"pr-8",disabled:n}),r.jsx("div",{className:"absolute right-2 top-2.5 text-slate-400",children:d?r.jsx(pe,{className:"w-4 h-4 animate-spin"}):r.jsx(Et,{className:"w-4 h-4"})})]}),h&&l.length>0&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border rounded-md shadow-lg max-h-60 overflow-auto",children:l.map((v,b)=>r.jsxs("div",{className:le("px-4 py-2 cursor-pointer text-sm border-b last:border-0",b===f?"bg-blue-50 text-[#003D82]":"hover:bg-slate-50 text-slate-700"),onClick:()=>y(v),children:[r.jsxs("div",{className:"font-medium flex items-center gap-2",children:[v.name,v.type&&r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${v.type==="micro"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:v.type==="micro"?"Micro":"Sub"})]}),r.jsx("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:v.path.split(" > ").join("  ")})]},v.id))})]})},Y$=e=>e?e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""):"",yE=e=>{const t=Y$(e),s=Date.now().toString(36).substring(2,8);return`${t}-${s}`};var Lv="Switch",[X$,_H]=ks(Lv),[J$,Q$]=X$(Lv),wE=m.forwardRef((e,t)=>{const{__scopeSwitch:s,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[p,f]=m.useState(null),g=He(t,b=>f(b)),x=m.useRef(!1),w=p?u||!!p.closest("form"):!0,[y=!1,v]=Fr({prop:a,defaultProp:i,onChange:d});return r.jsxs(J$,{scope:s,checked:y,disabled:l,children:[r.jsx(Ee.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":NE(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:fe(e.onClick,b=>{v(N=>!N),w&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),w&&r.jsx(Z$,{control:p,bubbles:!x.current,name:n,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});wE.displayName=Lv;var bE="SwitchThumb",jE=m.forwardRef((e,t)=>{const{__scopeSwitch:s,...n}=e,a=Q$(bE,s);return r.jsx(Ee.span,{"data-state":NE(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});jE.displayName=bE;var Z$=e=>{const{control:t,checked:s,bubbles:n=!0,...a}=e,i=m.useRef(null),o=Rv(s),l=vv(t);return m.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==s&&h){const p=new Event("click",{bubbles:n});h.call(c,s),c.dispatchEvent(p)}},[o,s,n]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function NE(e){return e?"checked":"unchecked"}var _E=wE,eU=jE;const ec=m.forwardRef(({className:e,...t},s)=>r.jsx(_E,{className:le("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:r.jsx(eU,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ec.displayName=_E.displayName;const md=7,tU=["Piece","Nos","Unit","Set","Pair","Dozen","Pack","Packet","Box","Carton","Bundle","Bag","Bottle","Can","Jar","Kg","Gram","Ton","Quintal","Litre","ML","Meter","CM","MM","Inch","Foot","Sq Ft","Sq M","Cubic Ft","Cubic M","Roll","Sheet","Tray","Hour","Day","Month","Job/Service"],sU=({value:e,onChange:t,placeholder:s})=>r.jsx("textarea",{className:"w-full min-h-[150px] p-3 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:e||"",onChange:n=>t(n.target.value),placeholder:s}),rU=(...e)=>e.filter(Boolean).join(" "),Ib=()=>{var qe,Fe,K,ee,Ne,Ie;const{id:e}=Wr(),t=Ue(),[s,n]=lc(),a=s.get("step")||"basic",[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState(!1),[h,p]=m.useState([]),[f,g]=m.useState([]),[x,w]=m.useState(""),[y,v]=m.useState(!1),[b,N]=m.useState(0),[k,T]=m.useState(null),[A,_]=m.useState(!1),[C,I]=m.useState(""),[q,F]=m.useState(!1),[D,S]=m.useState({name:"",category_path:"",micro_category_id:null,sub_category_id:null,head_category_id:null,category_other:"",extra_micro_categories:[],min_order_qty:"",price_unit:"",description:"",price:"",status:"ACTIVE",images:[],video_url:"",pdf_url:"",specifications:[{key:"",value:""}],target_locations:{pan_india:!1,states:[],cities:[]}}),E=!!((qe=D.target_locations)!=null&&qe.pan_india),O=m.useRef(!1),P=async($,J,ae)=>{const ge=[],G=[];for(const Z of J){const Oe=Promise.resolve().then(()=>ae(Z));if(ge.push(Oe),$<=J.length){const ke=Oe.then(()=>G.splice(G.indexOf(ke),1));G.push(ke),G.length>=$&&await Promise.race(G)}}return Promise.all(ge)},R=async()=>{v(!0);try{let $=h;(!$||$.length===0)&&($=await je.getStates()||[],p($));const J=($||[]).filter(Z=>Z==null?void 0:Z.id).map(Z=>({id:Z.id,name:Z.name})),ae=[];await P(6,$||[],async Z=>{if(!(Z!=null&&Z.id))return;(await je.getCities(Z.id)||[]).forEach(ke=>ae.push(ke))});const ge=new Map;for(const Z of ae)Z!=null&&Z.id&&ge.set(String(Z.id),Z);const G=Array.from(ge.values()).map(Z=>({id:Z.id,name:Z.name}));S(Z=>({...Z,target_locations:{pan_india:!0,states:J,cities:G}})),w(""),g([]),_(!1),I(""),F(!1),M({title:"Pan India enabled",description:`All states (${J.length}) & all cities (${G.length}) selected.`}),O.current=!0}catch($){console.error($),M({title:"Pan India failed",description:"All states/cities load nahi ho paya. Please try again.",variant:"destructive"}),S(J=>({...J,target_locations:{...J.target_locations,pan_india:!1}})),O.current=!1}finally{v(!1)}},L=(((Fe=D.target_locations)==null?void 0:Fe.states)||[]).length,B=(((K=D.target_locations)==null?void 0:K.cities)||[]).length,Q=m.useMemo(()=>{var J,ae,ge,G,Z,Oe,ke,Xe,jt;let $=0;return((J=D.name)==null?void 0:J.length)>5&&($+=15),D.price&&($+=15),((ae=D.description)==null?void 0:ae.length)>50&&($+=20),((ge=D.images)==null?void 0:ge.length)>=3?$+=20:((G=D.images)==null?void 0:G.length)>0&&($+=10),(D.category_path||D.category_other)&&($+=10),((Z=D.target_locations)!=null&&Z.pan_india||(((ke=(Oe=D.target_locations)==null?void 0:Oe.states)==null?void 0:ke.length)||0)>0||(((jt=(Xe=D.target_locations)==null?void 0:Xe.cities)==null?void 0:jt.length)||0)>0)&&($+=10),D.pdf_url&&($+=5),D.video_url&&($+=5),Math.min($,100)},[D]);m.useEffect(()=>{W(),e&&X()},[e]);const W=async()=>{try{const $=await je.getStates();p($||[])}catch($){console.error($)}},z=async $=>{if($)try{const J=await je.getCities($);g(J||[])}catch(J){console.error(J)}},X=async()=>{var $,J,ae,ge;o(!0);try{const G=await je.products.get(e);if(G){S(Oe=>{var ke,Xe,jt;return{...Oe,...G,price_unit:G.price_unit||"",min_order_qty:G.min_order_qty||"",extra_micro_categories:G.extra_micro_categories||[],target_locations:{pan_india:((ke=G==null?void 0:G.target_locations)==null?void 0:ke.pan_india)||!1,states:((Xe=G==null?void 0:G.target_locations)==null?void 0:Xe.states)||[],cities:((jt=G==null?void 0:G.target_locations)==null?void 0:jt.cities)||[]}}});const Z=(ae=(J=($=G==null?void 0:G.target_locations)==null?void 0:$.states)==null?void 0:J.slice(-1))==null?void 0:ae[0];Z!=null&&Z.id&&(w(Z.id),z(Z.id)),O.current=!!((ge=G==null?void 0:G.target_locations)!=null&&ge.pan_india),F(!1)}}catch(G){console.error(G)}finally{o(!1)}},de=($,J)=>{const ae=(J||[]).filter(Boolean);ae.length&&(S(ge=>{const G=ge.target_locations[$]||[],Z=new Set(G.map(ke=>String(ke.id))),Oe=ae.filter(ke=>(ke==null?void 0:ke.id)&&!Z.has(String(ke.id))).map(ke=>({id:ke.id,name:ke.name}));return Oe.length?{...ge,target_locations:{...ge.target_locations,pan_india:!1,[$]:[...G,...Oe]}}:ge}),O.current=!1)},ue=($,J)=>de($,J?[J]:[]),te=($,J)=>{S(ae=>({...ae,target_locations:{...ae.target_locations,[$]:(ae.target_locations[$]||[]).filter(ge=>String(ge.id)!==String(J))}})),O.current=!1},ce=async $=>{var J;if(!$){O.current=!1,F(!1),S(ae=>({...ae,target_locations:{pan_india:!1,states:[],cities:[]}})),w(""),g([]),_(!1),I(""),M({title:"Pan India disabled",description:"Ab aap manually states/cities select kar sakte ho."});return}O.current&&((J=D.target_locations)!=null&&J.pan_india)||(S(ae=>({...ae,target_locations:{...ae.target_locations,pan_india:!0}})),await R())},ne=async()=>{var J;const $=((J=D.target_locations)==null?void 0:J.states)||[];if(!$.length){M({title:"Select at least 1 state",variant:"destructive"});return}v(!0);try{const ae=[];for(const G of $)(await je.getCities(G.id)||[]).forEach(Oe=>ae.push(Oe));const ge=new Map;for(const G of ae)G!=null&&G.id&&ge.set(String(G.id),G);de("cities",Array.from(ge.values())),M({title:"All cities added",description:"Selected states ki saari cities select ho gayi."})}catch(ae){console.error(ae),M({title:"Failed to load cities",variant:"destructive"})}finally{v(!1)}},he=async()=>{if(!(D.category_path||D.category_other||(D.name||"").length<3)){u(!0);try{const $=await je.products.matchCategory(D.name);if($){S(ae=>({...ae,micro_category_id:$.micro_category_id,sub_category_id:$.sub_category_id,head_category_id:$.head_category_id,category_path:$.path,category_other:""}));const J=$.matchScore||$.confidence||0;J>80?M({title:" Category Auto-detected!",description:`${$.path} (${J}% match)`}):J>50&&M({title:"Category Auto-detected",description:`${$.path} (${J}% match - Please verify)`})}else M({title:" No Category Match Found",description:"Please manually select a category from the dropdown",variant:"destructive"})}catch($){console.error($)}finally{u(!1)}}},xe=async $=>{const J=Array.from($.target.files||[]);if(J.length){if(D.images.length+J.length>md){M({title:`Max ${md} images allowed`,variant:"destructive"});return}c(!0);try{const ae=[];for(const ge of J){const G=await je.auth.uploadImage(ge,"product-images");ae.push(G)}S(ge=>({...ge,images:[...ge.images,...ae]}))}catch{M({title:"Upload Failed",variant:"destructive"})}finally{c(!1)}}},we=async $=>{if($.preventDefault(),!D.name||D.name.trim().length<2){M({title:"Product/Title Name is required",variant:"destructive"});return}o(!0);try{const J={...D};delete J.qty_unit,(!J.slug||J.slug.trim()==="")&&(J.slug=yE(D.name)),e?(await je.products.update(e,J),M({title:"Updated successfully"}),t("/vendor/products")):(await je.products.create(J),M({title:"Product created successfully!"}),setTimeout(()=>t("/vendor/products"),800))}catch(J){console.error("Save error:",J),M({title:"Error saving product",description:J.message,variant:"destructive"})}finally{o(!1)}},Se=async()=>{if(!C.trim()){M({title:"Please enter a city name",variant:"destructive"});return}if(!x){M({title:"Please select a state first",variant:"destructive"});return}try{const $=C.trim(),J=$.toLowerCase().replace(/\s+/g,"-"),ae=h.find(ke=>String(ke.id)===String(x)),ge=((ae==null?void 0:ae.slug)||(ae==null?void 0:ae.name)||"").toLowerCase().replace(/\s+/g,"-"),G=ge?`${J}-${ge}`:J,{data:Z,error:Oe}=await j.from("cities").insert([{name:$,slug:G,state_id:x}]).select().single();if(Oe)throw Oe;Z&&(ue("cities",Z),g(ke=>[...ke,Z]),I(""),_(!1),M({title:"City added successfully!"}))}catch($){console.error($),M({title:"Failed to add city",variant:"destructive"})}};return i&&!D?r.jsx("div",{className:"h-screen flex items-center justify-center",children:r.jsx(pe,{className:"w-8 h-8 animate-spin"})}):r.jsxs("div",{className:"max-w-[1400px] mx-auto p-4 space-y-4 pb-24",children:[r.jsxs("div",{className:"flex items-center justify-between bg-white border rounded-md px-4 py-3 shadow-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-slate-500",children:e?"Edit Product":"Add New Product"}),r.jsx("div",{className:"text-xl font-bold text-slate-900",children:D.name||"New Product"})]}),r.jsxs(V,{variant:"ghost",onClick:()=>t("/vendor/products"),children:[r.jsx(Vr,{className:"mr-2 h-4 w-4"})," Cancel"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[300px_1fr_280px] gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs(ve,{children:[r.jsx(De,{children:r.jsxs(Re,{className:"text-base",children:["Images (",D.images.length,"/",md,")"]})}),r.jsxs(_e,{className:"space-y-4",children:[r.jsx("div",{className:"aspect-square bg-slate-100 rounded-lg border overflow-hidden relative flex items-center justify-center",children:D.images[b]?r.jsx("img",{src:D.images[b],className:"w-full h-full object-contain",alt:"Product"}):r.jsx("div",{className:"text-slate-400",children:"No Image"})}),r.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[D.images.map(($,J)=>r.jsx("div",{className:rU("aspect-square border rounded cursor-pointer overflow-hidden",b===J?"ring-2 ring-blue-500":""),onClick:()=>N(J),children:r.jsx("img",{src:$,className:"w-full h-full object-cover",alt:""})},J)),D.images.length<md&&r.jsxs("label",{className:"aspect-square border-2 border-dashed rounded flex items-center justify-center cursor-pointer hover:bg-slate-50",children:[l?r.jsx(pe,{className:"animate-spin"}):r.jsx(Ur,{className:"text-slate-400"}),r.jsx("input",{type:"file",multiple:!0,className:"hidden",accept:"image/*",onChange:xe})]})]}),D.images.length>0&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"outline",className:"flex-1",type:"button",onClick:()=>{const $=[...D.images],J=$.splice(b,1)[0];$.unshift(J),S(ae=>({...ae,images:$})),N(0)},children:"Set Primary"}),r.jsx(V,{size:"sm",variant:"destructive",className:"flex-1",type:"button",onClick:()=>{const $=[...D.images];$.splice(b,1),S(J=>({...J,images:$})),N(0)},children:"Remove"})]})]})]}),r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{className:"text-sm",children:"Additional Media"})}),r.jsxs(_e,{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs",children:"Video URL (YouTube)"}),r.jsx(H,{value:D.video_url,onChange:$=>S(J=>({...J,video_url:$.target.value})),placeholder:"https://..."})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs",children:"Brochure (PDF URL)"}),r.jsx(H,{value:D.pdf_url,onChange:$=>S(J=>({...J,pdf_url:$.target.value})),placeholder:"https://..."})]})]})]})]}),r.jsx("form",{onSubmit:we,className:"space-y-6",children:r.jsxs(oi,{value:a,onValueChange:$=>n({step:$}),children:[r.jsxs(ma,{className:"w-full grid grid-cols-2",children:[r.jsx(Rt,{value:"basic",children:"Basic Details"}),r.jsx(Rt,{value:"specs",children:"Specifications & Location"})]}),r.jsx(vt,{value:"basic",className:"space-y-4 mt-4",children:r.jsx(ve,{children:r.jsxs(_e,{className:"p-6 space-y-5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Product/Title Name *"}),r.jsxs("div",{className:"relative",children:[r.jsx(H,{value:D.name,onChange:$=>S(J=>({...J,name:$.target.value})),onBlur:he,required:!0}),d&&r.jsx(pe,{className:"absolute right-3 top-2.5 w-4 h-4 animate-spin text-blue-500"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Category"}),D.category_path?r.jsxs("div",{className:"flex justify-between items-center p-2 bg-blue-50 border border-blue-100 rounded text-sm text-blue-700",children:[r.jsx("span",{children:D.category_path}),r.jsx(V,{size:"sm",variant:"ghost",type:"button",onClick:()=>S($=>({...$,category_path:"",micro_category_id:null,sub_category_id:null,head_category_id:null})),children:"Change"})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rb,{onSelect:$=>{$&&S(J=>({...J,category_path:$.path,micro_category_id:$.id,sub_category_id:$.sub_id,head_category_id:$.head_id,category_other:""}))}}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Or"}),r.jsx(H,{placeholder:"Type custom category if not found",className:"h-8 text-sm",value:D.category_other,onChange:$=>S(J=>({...J,category_other:$.target.value}))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Add Keywords (Max 2)"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Rb,{onSelect:T,placeholder:"Search keyword...",disabled:D.extra_micro_categories.length>=2}),r.jsx(V,{type:"button",onClick:()=>{k&&D.extra_micro_categories.length<2&&(S($=>({...$,extra_micro_categories:[...$.extra_micro_categories,k]})),T(null))},children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:D.extra_micro_categories.map(($,J)=>r.jsxs("div",{className:"bg-slate-100 px-3 py-1 rounded-full text-xs flex items-center gap-2",children:[$.name,r.jsx(yt,{className:"w-3 h-3 cursor-pointer",onClick:()=>{const ae=[...D.extra_micro_categories];ae.splice(J,1),S(ge=>({...ge,extra_micro_categories:ae}))}})]},J))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Quantity"}),r.jsx(H,{type:"number",value:D.min_order_qty,onChange:$=>S(J=>({...J,min_order_qty:$.target.value})),placeholder:"e.g. 10"}),r.jsx("p",{className:"text-[11px] text-slate-500",children:"Minimum order quantity (optional)"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Unit"}),r.jsxs(tt,{value:D.price_unit||"",onValueChange:$=>S(J=>({...J,price_unit:$})),children:[r.jsx(Je,{children:r.jsx(st,{placeholder:"Select unit"})}),r.jsx(Qe,{className:"max-h-60",children:tU.map($=>r.jsx(ye,{value:$,children:$},$))})]}),r.jsx("p",{className:"text-[11px] text-slate-500",children:"IndiaMART style: Piece / Nos / Kg / Litre / Meter etc."})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Description"}),r.jsx(sU,{value:D.description,onChange:$=>S(J=>({...J,description:$})),placeholder:"Write product/service details in simple words..."})]}),r.jsx("div",{className:"flex justify-end pt-2",children:r.jsx(V,{type:"button",onClick:()=>n({step:"specs"}),children:"Next: Specifications "})})]})})}),r.jsxs(vt,{value:"specs",className:"space-y-4 mt-4",children:[r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{className:"text-base",children:"Pricing (Optional)"})}),r.jsxs(_e,{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Price ()"}),r.jsx(H,{type:"number",value:D.price,onChange:$=>S(J=>({...J,price:$.target.value})),placeholder:"e.g. 500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Per Unit"}),r.jsx(H,{value:D.price_unit||"",readOnly:!0,className:"bg-slate-50",placeholder:"Select unit from Basic tab"})]})]}),r.jsx("p",{className:"text-xs text-slate-500",children:"Agar exact price nahi hai, blank chhod sakte ho."})]})]}),r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{className:"text-base",children:"Specifications"})}),r.jsxs(_e,{className:"space-y-4",children:[D.specifications.map(($,J)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{placeholder:"Attribute (e.g. Color)",value:$.key,onChange:ae=>{const ge=[...D.specifications];ge[J].key=ae.target.value,S(G=>({...G,specifications:ge}))}}),r.jsx(H,{placeholder:"Value (e.g. Red)",value:$.value,onChange:ae=>{const ge=[...D.specifications];ge[J].value=ae.target.value,S(G=>({...G,specifications:ge}))}}),J>0&&r.jsx(V,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const ae=[...D.specifications];ae.splice(J,1),S(ge=>({...ge,specifications:ae}))},children:r.jsx(yt,{className:"w-4 h-4"})})]},J)),r.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:()=>S($=>({...$,specifications:[...$.specifications,{key:"",value:""}]})),children:[r.jsx(Bt,{className:"w-4 h-4 mr-2"})," Add Row"]})]})]}),r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{className:"text-base",children:"Where you can deliver / provide service"})}),r.jsxs(_e,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3 bg-slate-50",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium flex items-center gap-2",children:["Pan India",y?r.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-slate-500",children:[r.jsx(pe,{className:"w-3 h-3 animate-spin"})," Loading..."]}):null]}),r.jsx("div",{className:"text-xs text-slate-500",children:"Enable karo to pure India me delivery/service available maana jayega."})]}),r.jsx(ec,{checked:E,onCheckedChange:ce,disabled:y})]}),E?r.jsxs("div",{className:"rounded-md border bg-white p-4",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900",children:" Pan India Enabled"}),r.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Aapka product/service ",r.jsx("b",{children:"All India"})," ke liye available hai."]}),r.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["Selected: ",r.jsx("b",{children:L})," States, ",r.jsx("b",{children:B})," Cities"]})]}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>F($=>!$),children:q?"Hide details":"View details"})]}),q&&r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"rounded-md border p-3 bg-slate-50",children:[r.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-2",children:"States (scroll)"}),r.jsx("div",{className:"max-h-40 overflow-auto flex flex-wrap gap-2",children:(D.target_locations.states||[]).map($=>r.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:$.name},$.id))})]}),r.jsxs("div",{className:"rounded-md border p-3 bg-slate-50",children:[r.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Cities (scroll)"}),r.jsx("div",{className:"max-h-40 overflow-auto flex flex-wrap gap-2",children:(D.target_locations.cities||[]).map($=>r.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:$.name},$.id))})]})]})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Select multiple states"}),r.jsxs(tt,{onValueChange:$=>{const J=h.find(ae=>String(ae.id)===String($));ue("states",J),w($),z($)},children:[r.jsx(Je,{children:r.jsx(st,{placeholder:"Add State"})}),r.jsx(Qe,{className:"max-h-60",children:h.map($=>r.jsx(ye,{value:String($.id),children:$.name},$.id))})]}),r.jsx("div",{className:"mt-2 rounded-md border bg-slate-50 p-2 max-h-32 overflow-auto",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[(D.target_locations.states||[]).map($=>r.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs flex items-center gap-1",children:[$.name,r.jsx(yt,{className:"w-3 h-3 cursor-pointer",onClick:()=>te("states",$.id)})]},$.id)),!(D.target_locations.states||[]).length&&r.jsx("span",{className:"text-xs text-slate-400",children:"No states selected"})]})})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Select multiple cities of that state"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(tt,{disabled:!x,onValueChange:$=>{if($==="OTHER"){_(!0);return}const J=f.find(ae=>String(ae.id)===String($));ue("cities",J)},children:[r.jsx(Je,{children:r.jsx(st,{placeholder:x?"Add City":"Select state first"})}),r.jsxs(Qe,{className:"max-h-60",children:[f.map($=>r.jsx(ye,{value:String($.id),children:$.name},$.id)),r.jsx(ye,{value:"OTHER",children:"+ Add Other City"})]})]}),A&&r.jsx("div",{className:"border rounded-md p-3 bg-blue-50",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{className:"text-sm",children:"Enter city name"}),r.jsx(H,{placeholder:"e.g. Bengaluru, Pune",value:C,onChange:$=>I($.target.value),onKeyDown:$=>$.key==="Enter"&&Se()}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{type:"button",size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",onClick:Se,children:"Add City"}),r.jsx(V,{type:"button",size:"sm",variant:"outline",onClick:()=>{_(!1),I("")},children:"Cancel"})]})]})}),r.jsxs(V,{type:"button",variant:"outline",size:"sm",disabled:y||!(D.target_locations.states||[]).length,onClick:ne,className:"w-full",children:[y?r.jsx(pe,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Select All Cities (Selected States)"]})]}),r.jsx("div",{className:"mt-2 rounded-md border bg-slate-50 p-2 max-h-32 overflow-auto",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[(D.target_locations.cities||[]).map($=>r.jsxs("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-xs flex items-center gap-1",children:[$.name,r.jsx(yt,{className:"w-3 h-3 cursor-pointer",onClick:()=>te("cities",$.id)})]},$.id)),!(D.target_locations.cities||[]).length&&r.jsx("span",{className:"text-xs text-slate-400",children:"No cities selected"})]})})]})]})]})]}),r.jsxs("div",{className:"flex justify-between pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>n({step:"basic"}),children:"Back"}),r.jsx(V,{type:"submit",className:"bg-[#003D82]",children:i?"Saving...":"Save Product"})]})]})]})}),r.jsx("div",{className:"space-y-4",children:r.jsxs(ve,{children:[r.jsx(De,{className:"pb-2",children:r.jsx(Re,{className:"text-sm",children:"Product Score"})}),r.jsxs(_e,{children:[r.jsxs("div",{className:"text-3xl font-bold text-emerald-600 mb-2",children:[Q,"%"]}),r.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2 overflow-hidden mb-4",children:r.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-500",style:{width:`${Q}%`}})}),r.jsxs("div",{className:"text-xs text-slate-500 space-y-1",children:[r.jsxs("div",{className:D.name.length>5?"text-emerald-600":"",children:[" Name Length (",D.name.length,"/5 chars)"]}),r.jsx("div",{className:D.price?"text-emerald-600":"",children:" Price Set (optional)"}),r.jsxs("div",{className:D.images.length>=3?"text-emerald-600":"",children:[" 3+ Images (",D.images.length,")"]}),r.jsx("div",{className:D.category_path?"text-emerald-600":"",children:" Category Selected"}),r.jsx("div",{className:(ee=D.target_locations)!=null&&ee.pan_india||(((Ne=D.target_locations)==null?void 0:Ne.states)||[]).length||(((Ie=D.target_locations)==null?void 0:Ie.cities)||[]).length?"text-emerald-600":"",children:" Location Selected"})]})]})]})})]})]})},tp=async()=>{const{data:{user:e}}=await j.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t}=await j.from("vendors").select("id").eq("user_id",e.id).single();if(!(t!=null&&t.id))throw new Error("Vendor profile not found");return t.id},Xi={list:async(e={})=>{let t=j.from("leads").select("*");e.status&&(t=t.eq("status",e.status)),e.vendorId&&(t=t.eq("vendor_id",e.vendorId)),e.category&&(t=t.eq("category",e.category));const{data:s,error:n}=await t.order("created_at",{ascending:!1}).limit(e.limit||100);if(n)throw n;return s||[]},listActive:async()=>{const{data:e,error:t}=await j.from("leads").select("*").eq("status","AVAILABLE").order("created_at",{ascending:!1}).limit(100);if(t)throw t;return e||[]},listByVendor:async e=>{const{data:t,error:s}=await j.from("leads").select("*").eq("vendor_id",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]},get:async e=>{const{data:t,error:s}=await j.from("leads").select("*").eq("id",e).single();if(s)throw s;return t},create:async e=>{const{data:t,error:s}=await j.from("leads").insert([{...e,status:e.status||"AVAILABLE",created_at:new Date().toISOString()}]).select().single();if(s)throw s;return t},update:async(e,t)=>{const{data:s,error:n}=await j.from("leads").update(t).eq("id",e).select().single();if(n)throw n;return s},updateStatus:async(e,t)=>{if(!["AVAILABLE","PENDING","CONVERTED","CLOSED"].includes(t))throw new Error(`Invalid status: ${t}`);const{data:n,error:a}=await j.from("leads").update({status:t}).eq("id",e).select().single();if(a)throw a;return n},delete:async e=>{const{error:t}=await j.from("leads").delete().eq("id",e);if(t)throw t},contacts:{list:async e=>{const{data:t,error:s}=await j.from("lead_contacts").select("*").eq("lead_id",e).order("contact_date",{ascending:!1});if(s)throw s;return t||[]},getByVendor:async(e,t)=>{const{data:s,error:n}=await j.from("lead_contacts").select("*").eq("vendor_id",e).eq("lead_id",t).order("contact_date",{ascending:!1});if(n)throw n;return s||[]},create:async(e,t,s)=>{const{data:n,error:a}=await j.from("lead_contacts").insert([{lead_id:e,vendor_id:t,contact_type:s.contact_type,contact_date:s.contact_date||new Date().toISOString(),notes:s.notes||"",status:s.status||"PENDING",created_at:new Date().toISOString()}]).select().single();if(a)throw a;return n},update:async(e,t)=>{const{data:s,error:n}=await j.from("lead_contacts").update(t).eq("id",e).select().single();if(n)throw n;return s},updateStatus:async(e,t)=>{if(!["PENDING","CONNECTED","NO_RESPONSE","CONVERTED"].includes(t))throw new Error(`Invalid status: ${t}`);const{data:n,error:a}=await j.from("lead_contacts").update({status:t}).eq("id",e).select().single();if(a)throw a;return n},delete:async e=>{const{error:t}=await j.from("lead_contacts").delete().eq("id",e);if(t)throw t},getStats:async e=>{const{count:t}=await j.from("lead_contacts").select("*",{count:"exact",head:!0}).eq("lead_id",e),{count:s}=await j.from("lead_contacts").select("*",{count:"exact",head:!0}).eq("lead_id",e).eq("status","CONVERTED"),{count:n}=await j.from("lead_contacts").select("*",{count:"exact",head:!0}).eq("lead_id",e).eq("status","NO_RESPONSE");return{total:t||0,converted:s||0,noResponse:n||0}}},purchases:{list:async e=>{const{data:t,error:s}=await j.from("lead_purchases").select("*").eq("vendor_id",e).order("purchase_date",{ascending:!1});if(s)throw s;if(t&&t.length>0)for(let n=0;n<t.length;n++){const{data:a}=await j.from("leads").select("*").eq("id",t[n].lead_id).single();t[n].lead=a,t[n].leads=a}return t||[]},get:async e=>{const{data:t,error:s}=await j.from("lead_purchases").select("*").eq("id",e).single();if(s)throw s;if(t){const{data:n}=await j.from("leads").select("*").eq("id",t.lead_id).single();t.lead=n,t.leads=n}return t},create:async(e,t,s)=>{const{count:n}=await j.from("lead_purchases").select("*",{count:"exact",head:!0}).eq("lead_id",t);if(n>=5)throw new Error("This lead has reached maximum 5 vendors limit");const{data:a,error:i}=await j.from("lead_purchases").insert([{vendor_id:e,lead_id:t,amount:s||0,payment_status:"COMPLETED",purchase_date:new Date().toISOString()}]).select().single();if(i)throw i;return a},delete:async e=>{const{error:t}=await j.from("lead_purchases").delete().eq("id",e);if(t)throw t},getStats:async e=>{const{count:t}=await j.from("lead_purchases").select("*",{count:"exact",head:!0}).eq("vendor_id",e),{data:s}=await j.from("lead_purchases").select("amount").eq("vendor_id",e),n=(s==null?void 0:s.reduce((a,i)=>a+(i.amount||0),0))||0;return{totalPurchases:t||0,totalSpent:n}}},marketplace:{listAvailable:async()=>{const e=await tp(),{data:t,error:s}=await j.from("leads").select("*").eq("status","AVAILABLE").is("vendor_id",null).order("created_at",{ascending:!1}).limit(100);if(s)throw s;const{data:n,error:a}=await j.from("lead_purchases").select("lead_id").eq("vendor_id",e);if(a)throw a;const i=new Set((n||[]).map(o=>o.lead_id));return(t||[]).filter(o=>!i.has(o.id))},listDirect:async()=>{const e=await tp(),{data:t,error:s}=await j.from("leads").select("*").eq("vendor_id",e).eq("status","AVAILABLE").order("created_at",{ascending:!1});if(s)throw s;return t||[]},getMyLeads:async()=>{const e=await tp(),{data:t}=await j.from("lead_purchases").select("*").eq("vendor_id",e),s=t?await Promise.all(t.map(async i=>({...await Xi.get(i.lead_id),source:"Purchased",purchase_date:i.purchase_date}))):[],{data:n}=await j.from("leads").select("*").eq("vendor_id",e),a=(n||[]).map(i=>({...i,source:"Direct",purchase_date:i.created_at}));return[...s,...a].sort((i,o)=>new Date(o.created_at||0)-new Date(i.created_at||0))}}},Ou={maskPhone:e=>{if(!e)return"";const t=e.toString().replace(/\D/g,"");if(t.length<4)return e;const s=t.substring(0,2),n=t.substring(t.length-2);return s+"x".repeat(t.length-4)+n},maskPhoneWithCode:e=>{if(!e)return"";const t=e.toString().trim();if(t.startsWith("+")){const s=t.substring(0,t.length-10),n=t.substring(s.length);return s+Ou.maskPhone(n)}return Ou.maskPhone(t)},unmask:e=>e},Ko=({icon:e,label:t,value:s,color:n="blue"})=>{const a={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",purple:"bg-purple-50 text-purple-600 border-purple-200",orange:"bg-orange-50 text-orange-600 border-orange-200",pink:"bg-pink-50 text-pink-600 border-pink-200",cyan:"bg-cyan-50 text-cyan-600 border-cyan-200"};return r.jsxs("div",{className:`p-4 rounded-lg border ${a[n]}`,children:[r.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:t}),r.jsx(e,{className:"w-4 h-4 flex-shrink-0"})]}),r.jsx("div",{className:"text-2xl font-bold",children:s})]})},nU=({stats:e,loading:t})=>e?r.jsx("div",{className:"space-y-4",children:r.jsxs(ve,{className:"border shadow-sm sticky top-6",children:[r.jsx(De,{className:"pb-3",children:r.jsxs(Re,{className:"text-lg flex items-center gap-2",children:[r.jsx(ca,{className:"w-5 h-5 text-[#003D82]"}),"Lead Statistics"]})}),r.jsxs(_e,{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Purchased by Period"}),r.jsx(Ko,{icon:Oa,label:"Today",value:e.daily||0,color:"blue"}),r.jsx(Ko,{icon:Oa,label:"This Week",value:e.weekly||0,color:"green"}),r.jsx(Ko,{icon:Oa,label:"This Year",value:e.yearly||0,color:"purple"})]}),r.jsx("div",{className:"border-t my-3"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Lead Sources"}),r.jsx(Ko,{icon:II,label:"Direct Leads",value:e.direct||0,color:"orange"}),r.jsx(Ko,{icon:Jn,label:"Total Purchased",value:e.totalPurchased||0,color:"cyan"})]}),r.jsx("div",{className:"border-t my-3"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Investment"}),r.jsxs("div",{className:"p-4 rounded-lg border bg-pink-50 text-pink-600 border-pink-200",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Total Spent"}),r.jsx(mh,{className:"w-4 h-4 flex-shrink-0"})]}),r.jsxs("div",{className:"text-2xl font-bold",children:["",e.totalAmount||0]}),r.jsxs("p",{className:"text-xs mt-2 text-pink-500",children:["Avg: ",e.totalPurchased?(e.totalAmount/e.totalPurchased).toFixed(0):0," per lead"]})]})]}),r.jsx("div",{className:"border-t my-3"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Performance"}),r.jsxs("div",{className:"p-4 rounded-lg border bg-gray-50 text-gray-600 border-gray-200",children:[r.jsx("div",{className:"text-sm font-medium mb-2",children:"Conversion Rate"}),r.jsxs("div",{className:"text-2xl font-bold text-[#003D82]",children:[e.conversionRate,"%"]}),r.jsxs("p",{className:"text-xs mt-2 text-gray-500",children:[e.converted," converted from ",e.totalPurchased," leads"]})]})]})]})]})}):null,La=e=>{try{const t=e?new Date(e):null;return t&&!Number.isNaN(t.getTime())?t:null}catch{return null}},aU=e=>{const t=((e==null?void 0:e.city)||"").toString().trim(),s=((e==null?void 0:e.state)||(e==null?void 0:e.state_name)||"").toString().trim();if(t||s)return{city:t,state:s};const a=((e==null?void 0:e.location)||"").toString().split(",").map(i=>i.trim()).filter(Boolean);return a.length>=2?{city:a[0],state:a.slice(1).join(", ")}:a.length===1?{city:a[0],state:""}:{city:"",state:""}},ja=e=>{const t=(e==null?void 0:e.title)||(e==null?void 0:e.product_name)||(e==null?void 0:e.service_name)||(e==null?void 0:e.requirement_title)||"Untitled Lead",{city:s,state:n}=aU(e),a=((e==null?void 0:e.location)||"").toString().trim()||[s,n].filter(Boolean).join(", ")||"India",i=(e==null?void 0:e.category)||(e==null?void 0:e.category_name)||(e==null?void 0:e.categoryTitle)||(e==null?void 0:e.head_category)||"",o=(e==null?void 0:e.product)||(e==null?void 0:e.product_name)||(e==null?void 0:e.service_name)||(e==null?void 0:e.service)||(e==null?void 0:e.sub_category)||"",l=La(e==null?void 0:e.created_at)||La(e==null?void 0:e.createdAt)||La(e==null?void 0:e.date)||null,c=(e==null?void 0:e.is_recommended)===!0||(e==null?void 0:e.recommended)===!0||(e==null?void 0:e.isRecommended)===!0;return{title:t,location:a,city:s,state:n,category:i,product:o,createdAt:l,isRecommended:c}},xi=(e,t=8)=>[...e.entries()].sort((s,n)=>n[1]-s[1]).slice(0,t).map(([s,n])=>({label:s,count:n})),Ws=e=>Object.values(e||{}).some(Boolean),Ks=e=>Object.keys(e||{}).filter(t=>e[t]),iU=()=>{var E,O;const e=Ue(),[t,s]=m.useState("marketplace"),[n,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(""),[d,u]=m.useState({recommendedOnly:!1,indiaOnly:!0,cities:{},states:{},categories:{},products:{},sort:"recent"}),[h,p]=m.useState({fromDate:"",toDate:"",categories:{},locations:{},source:"all",sort:"recent_bought"}),[f,g]=m.useState(null),[x,w]=m.useState({});m.useEffect(()=>{v(),y()},[t]);const y=async()=>{try{const P=await je.dashboard.getStats();g({totalPurchased:0,totalContacted:0,converted:0})}catch(P){console.error("Failed to load stats:",P)}},v=async()=>{o(!0);try{if(t==="my_leads"){let L=await Xi.marketplace.getMyLeads()||[];h.source==="purchased"?L=L.filter(B=>B.source==="Purchased"):h.source==="direct"&&(L=L.filter(B=>B.source==="Direct")),a(L);return}const P=await Xi.marketplace.listAvailable();a(P)}catch(P){console.error(P),M({title:"Failed to load leads",variant:"destructive"}),a([])}finally{o(!1)}},b=async P=>{w(R=>({...R,[P]:!0}));try{if(!n.find(B=>B.id===P))throw new Error("Lead not found");const{leadsMarketplaceApi:L}=await Qn(()=>import("./leadsMarketplaceApi-7ee4d417.js"),[]);await L.purchaseLead(P),M({title:"Lead purchased successfully!"}),a(B=>(B||[]).filter(Q=>(Q==null?void 0:Q.id)!==P)),await y()}catch(R){M({title:"Failed to purchase lead",description:(R==null?void 0:R.message)||"Something went wrong",variant:"destructive"})}finally{w(R=>({...R,[P]:!1}))}},N=m.useMemo(()=>(n||[]).map(P=>{const R=(P==null?void 0:P.leads)||P,L=(P==null?void 0:P.purchase_date)||(P==null?void 0:P.purchaseDate)||(P==null?void 0:P.purchased_at)||null;return{__raw:P,__lead:R,__purchaseDate:L}}),[n]),k=m.useMemo(()=>{const P=new Map,R=new Map,L=new Map,B=new Map;return N.forEach(({__lead:Q})=>{const W=ja(Q);W.city&&P.set(W.city,(P.get(W.city)||0)+1),W.state&&R.set(W.state,(R.get(W.state)||0)+1),W.category&&L.set(W.category,(L.get(W.category)||0)+1),W.product&&B.set(W.product,(B.get(W.product)||0)+1)}),{topCities:xi(P,6),topStates:xi(R,6),topCategories:xi(L,6),topProducts:xi(B,6)}},[N]),T=m.useMemo(()=>{const P=new Map,R=new Map;return N.forEach(({__lead:L})=>{const B=ja(L);B.category&&P.set(B.category,(P.get(B.category)||0)+1),B.location&&R.set(B.location,(R.get(B.location)||0)+1)}),{topCategories:xi(P,10),topLocations:xi(R,10)}},[N]),A=(P,R,L)=>{P(B=>{var Q;return{...B,[R]:{...B[R]||{},[L]:!((Q=B==null?void 0:B[R])!=null&&Q[L])}}})},_=()=>{u({recommendedOnly:!1,indiaOnly:!0,cities:{},states:{},categories:{},products:{},sort:"recent"}),c("")},C=()=>{p({fromDate:"",toDate:"",categories:{},locations:{},source:"all",sort:"recent_bought"})},I=m.useMemo(()=>{const P=(l||"").toLowerCase().trim(),R=Ks(d.cities),L=Ks(d.states),B=Ks(d.categories),Q=Ks(d.products),W=R.length>0,z=L.length>0,X=B.length>0,de=Q.length>0;let ue=N.filter(({__lead:te})=>{const ce=ja(te);return!(P&&![ce.title,ce.location,ce.city,ce.state,ce.category,ce.product].filter(Boolean).join(" ").toLowerCase().includes(P)||d.recommendedOnly&&!ce.isRecommended||W&&!R.includes(ce.city)||z&&!L.includes(ce.state)||X&&!B.includes(ce.category)||de&&!Q.includes(ce.product))});return ue=ue.sort((te,ce)=>{var Se,qe,Fe,K;const ne=ja(te.__lead),he=ja(ce.__lead),xe=((qe=(Se=ne.createdAt)==null?void 0:Se.getTime)==null?void 0:qe.call(Se))||0,we=((K=(Fe=he.createdAt)==null?void 0:Fe.getTime)==null?void 0:K.call(Fe))||0;if(d.sort==="relevant"){const ee=ne.isRecommended?1:0,Ne=he.isRecommended?1:0;return Ne!==ee?Ne-ee:we-xe}return we-xe}),ue},[N,l,d]),q=m.useMemo(()=>{const P=Ks(h.categories),R=Ks(h.locations),L=P.length>0,B=R.length>0,Q=h.fromDate?new Date(`${h.fromDate}T00:00:00`):null,W=h.toDate?new Date(`${h.toDate}T23:59:59`):null;let z=N.filter(({__lead:X,__purchaseDate:de})=>{const ue=ja(X),te=La(de);return!(Q&&(!te||te<Q)||W&&(!te||te>W)||L&&!P.includes(ue.category)||B&&!R.includes(ue.location))});return z=z.sort((X,de)=>{var ce,ne,he,xe;const ue=((ne=(ce=La(X.__purchaseDate))==null?void 0:ce.getTime)==null?void 0:ne.call(ce))||0;return(((xe=(he=La(de.__purchaseDate))==null?void 0:he.getTime)==null?void 0:xe.call(he))||0)-ue}),z},[N,h]),F=(d.recommendedOnly?1:0)+(Ws(d.cities)?1:0)+(Ws(d.states)?1:0)+(Ws(d.categories)?1:0)+(Ws(d.products)?1:0)+(d.sort!=="recent"?1:0)+(l!=null&&l.trim()?1:0),D=(h.fromDate?1:0)+(h.toDate?1:0)+(Ws(h.categories)?1:0)+(Ws(h.locations)?1:0),S=P=>{P&&e(`/vendor/leads/${P}`)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Buy Leads"}),r.jsx("p",{className:"text-gray-500",children:"Access verified buyer requirements"})]}),f&&r.jsxs("div",{className:"flex gap-6 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-500",children:"Purchased"}),r.jsx("p",{className:"text-lg font-bold text-[#003D82]",children:f.totalPurchased})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-500",children:"Contacted"}),r.jsx("p",{className:"text-lg font-bold text-[#003D82]",children:f.totalContacted})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-500",children:"Converted"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:f.converted})]})]})]}),r.jsxs(oi,{value:t,onValueChange:s,className:"w-full",children:[r.jsxs(ma,{className:"grid w-full grid-cols-2 max-w-[400px]",children:[r.jsx(Rt,{value:"marketplace",children:"Marketplace"}),r.jsx(Rt,{value:"my_leads",children:"My Leads"})]}),r.jsx(ve,{className:"mt-4 border bg-white",children:r.jsx(_e,{className:"p-4",children:t==="marketplace"?r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:items-start",children:[r.jsxs("div",{className:"relative w-full lg:max-w-sm",children:[r.jsx(Et,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(H,{placeholder:"Search product / location...",className:"pl-9",value:l,onChange:P=>c(P.target.value)})]}),r.jsxs("div",{className:"grid w-full grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"rounded-md border bg-gray-50 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-800",children:"Location"}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[r.jsx(gx,{className:"h-3.5 w-3.5"}),Ws(d.cities)||Ws(d.states)?r.jsxs("span",{className:"font-medium text-gray-800",children:[Ks(d.cities).length+Ks(d.states).length," selected"]}):r.jsx("span",{children:"All"})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-3 mb-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:d.recommendedOnly,onChange:()=>u(P=>({...P,recommendedOnly:!P.recommendedOnly}))}),r.jsx("span",{children:"Recommended"})]}),r.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:d.indiaOnly,onChange:()=>u(P=>({...P,indiaOnly:!P.indiaOnly}))}),r.jsx("span",{children:"India"})]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:(k.topCities||[]).map(({label:P,count:R})=>r.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:!!d.cities[P],onChange:()=>A(u,"cities",P)}),r.jsx("span",{className:"truncate",children:P}),r.jsx("span",{className:"ml-auto text-[11px] text-gray-500",children:R})]},P))}),!!((E=k.topStates)!=null&&E.length)&&r.jsxs("div",{className:"mt-3 pt-3 border-t",children:[r.jsx("div",{className:"text-[11px] font-semibold text-gray-600 mb-2",children:"Nearby / States"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:(k.topStates||[]).map(({label:P,count:R})=>r.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:!!d.states[P],onChange:()=>A(u,"states",P)}),r.jsx("span",{className:"truncate",children:P}),r.jsx("span",{className:"ml-auto text-[11px] text-gray-500",children:R})]},P))})]})]}),r.jsxs("div",{className:"rounded-md border bg-gray-50 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-800",children:"Categories / Product"}),r.jsx("div",{className:"text-xs text-gray-600",children:Ws(d.categories)||Ws(d.products)?r.jsxs("span",{className:"font-medium text-gray-800",children:[Ks(d.categories).length+Ks(d.products).length," selected"]}):r.jsx("span",{children:"All"})})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:(k.topProducts||[]).map(({label:P,count:R})=>r.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:!!d.products[P],onChange:()=>A(u,"products",P)}),r.jsx("span",{className:"truncate",children:P}),r.jsx("span",{className:"ml-auto text-[11px] text-gray-500",children:R})]},P))}),!!((O=k.topCategories)!=null&&O.length)&&r.jsxs("div",{className:"mt-3 pt-3 border-t",children:[r.jsx("div",{className:"text-[11px] font-semibold text-gray-600 mb-2",children:"Categories"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:(k.topCategories||[]).map(({label:P,count:R})=>r.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:!!d.categories[P],onChange:()=>A(u,"categories",P)}),r.jsx("span",{className:"truncate",children:P}),r.jsx("span",{className:"ml-auto text-[11px] text-gray-500",children:R})]},P))})]})]}),r.jsxs("div",{className:"rounded-md border bg-gray-50 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-800",children:"Sort"}),F>0&&r.jsxs(Me,{variant:"outline",className:"text-xs",children:[F," filter",F>1?"s":""]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[r.jsx("input",{type:"radio",name:"sort",checked:d.sort==="relevant",onChange:()=>u(P=>({...P,sort:"relevant"}))}),r.jsx("span",{children:"Relevant (Recommended first)"})]}),r.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[r.jsx("input",{type:"radio",name:"sort",checked:d.sort==="recent",onChange:()=>u(P=>({...P,sort:"recent"}))}),r.jsx("span",{children:"Recent"})]}),r.jsx("div",{className:"pt-2 mt-2 border-t flex gap-2",children:r.jsxs(V,{variant:"outline",className:"w-full",onClick:_,children:[r.jsx(yt,{className:"h-4 w-4 mr-2"}),"Clear"]})})]})]})]})]}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"rounded-md border bg-gray-50 p-3",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx("div",{className:"font-semibold text-sm text-gray-800",children:"Source"})}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[r.jsx("input",{type:"radio",name:"source",checked:h.source==="all",onChange:()=>p(P=>({...P,source:"all"}))}),r.jsx("span",{children:"All"})]}),r.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[r.jsx("input",{type:"radio",name:"source",checked:h.source==="purchased",onChange:()=>p(P=>({...P,source:"purchased"}))}),r.jsx("span",{children:"Purchased"})]}),r.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[r.jsx("input",{type:"radio",name:"source",checked:h.source==="direct",onChange:()=>p(P=>({...P,source:"direct"}))}),r.jsx("span",{children:"Direct Leads"})]})]})]}),r.jsxs("div",{className:"rounded-md border bg-gray-50 p-3",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-800 mb-2",children:"Date wise"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[11px] text-gray-600 mb-1",children:"From"}),r.jsx(H,{type:"date",value:h.fromDate,onChange:P=>p(R=>({...R,fromDate:P.target.value}))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-[11px] text-gray-600 mb-1",children:"To"}),r.jsx(H,{type:"date",value:h.toDate,onChange:P=>p(R=>({...R,toDate:P.target.value}))})]})]})]}),r.jsxs("div",{className:"rounded-md border bg-gray-50 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-800",children:"Category"}),r.jsx("div",{className:"text-xs text-gray-600",children:Ws(h.categories)?`${Ks(h.categories).length} selected`:"All"})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:(T.topCategories||[]).map(({label:P,count:R})=>r.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:!!h.categories[P],onChange:()=>A(p,"categories",P)}),r.jsx("span",{className:"truncate",children:P}),r.jsx("span",{className:"ml-auto text-[11px] text-gray-500",children:R})]},P))})]}),r.jsxs("div",{className:"rounded-md border bg-gray-50 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-800",children:"Location"}),r.jsx("div",{className:"text-xs text-gray-600",children:Ws(h.locations)?`${Ks(h.locations).length} selected`:"All"})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:(T.topLocations||[]).map(({label:P,count:R})=>r.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:!!h.locations[P],onChange:()=>A(p,"locations",P)}),r.jsx("span",{className:"truncate",children:P}),r.jsx("span",{className:"ml-auto text-[11px] text-gray-500",children:R})]},P))})]}),r.jsxs("div",{className:"rounded-md border bg-gray-50 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-800",children:"Recent Bought Leads"}),D>0&&r.jsxs(Me,{variant:"outline",className:"text-xs",children:[D," filter",D>1?"s":""]})]}),r.jsx("div",{className:"text-xs text-gray-600 mb-3",children:"Sorted by latest purchase date"}),r.jsxs(V,{variant:"outline",className:"w-full",onClick:C,children:[r.jsx(yt,{className:"h-4 w-4 mr-2"}),"Clear"]})]})]})})}),r.jsx(vt,{value:"marketplace",className:"space-y-4",children:i?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):I.length===0?r.jsx("div",{className:"p-8 text-center border rounded bg-white",children:"No new leads available"}):I.map(({__lead:P})=>r.jsx(Ob,{lead:P,purchased:!1,onBuy:b,isPurchasing:x[P.id],onView:S},P.id))}),r.jsx(vt,{value:"my_leads",className:"",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 space-y-4",children:i?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):q.length===0?r.jsx("div",{className:"p-8 text-center border rounded bg-white",children:"You haven't purchased any leads yet."}):q.map(({__raw:P,__lead:R,__purchaseDate:L})=>r.jsx(Ob,{lead:R,source:(P==null?void 0:P.source)||"Purchased",purchaseDate:L,onView:S},(P==null?void 0:P.id)||(R==null?void 0:R.id)))}),r.jsx("div",{className:"lg:col-span-1",children:r.jsx(nU,{stats:f,loading:i})})]})})]})]})},Ob=({lead:e,purchased:t,source:s,onBuy:n,isPurchasing:a,purchaseDate:i,onView:o})=>{var x,w;const l=ja(e),c=l.title,d=l.location,u=t||s==="Purchased",h=s==="Direct",p=La(u||h?i:(e==null?void 0:e.created_at)||(e==null?void 0:e.createdAt))||l.createdAt,f=p?p.toLocaleDateString():"",g=y=>y?Ou.maskPhoneWithCode(y):"N/A";return r.jsx(ve,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>o==null?void 0:o(e==null?void 0:e.id),children:r.jsx(_e,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[r.jsxs("div",{className:"space-y-2 flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"font-semibold text-lg text-[#003D82] truncate",children:c}),r.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[l.product?r.jsx(Me,{variant:"outline",className:"text-xs",children:l.product}):null,l.category?r.jsx(Me,{variant:"outline",className:"text-xs",children:l.category}):null,l.isRecommended&&!u&&!h?r.jsx(Me,{className:"text-xs bg-[#fff3c4] text-[#7a5b00] hover:bg-[#ffeaa0] border border-[#ffe08a]",children:"Recommended"}):null]})]}),r.jsx(Me,{variant:u||h?"success":"outline",children:h?"Direct Lead":u?"Purchased":"Fresh Lead"})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(kt,{className:"h-4 w-4"})," ",d]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Oa,{className:"h-4 w-4"})," ",f]}),(e==null?void 0:e.quantity)&&r.jsxs("div",{className:"font-medium",children:["Qty: ",e.quantity," ",e.unit||"units"]}),(e==null?void 0:e.budget)&&r.jsxs("div",{className:"font-medium",children:["Budget: ",((w=(x=e.budget)==null?void 0:x.toLocaleString)==null?void 0:w.call(x))||e.budget]})]}),u||h||e!=null&&e.buyer_name&&(e!=null&&e.buyer_email)?r.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-100 rounded-md space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-green-800",children:"Buyer Details:"}),r.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-green-700",children:[r.jsx("span",{className:"font-medium",children:(e==null?void 0:e.buyer_name)||"N/A"}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Br,{className:"h-3 w-3"})," ",g(e==null?void 0:e.buyer_phone)]}),(e==null?void 0:e.buyer_email)&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(sr,{className:"h-3 w-3"})," ",e.buyer_email]})]})]}):r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-500 bg-gray-50 p-2 rounded w-fit",children:[r.jsx(Za,{className:"h-3 w-3"})," Buyer details locked"]})]}),r.jsxs("div",{className:"flex flex-col justify-center items-end gap-2 min-w-[160px]",children:[!u&&!h&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Price"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:"50"})]}),r.jsxs(V,{onClick:y=>{y.stopPropagation(),n==null||n(e.id)},disabled:a,className:"w-full bg-[#00A699] hover:bg-[#00857A]",children:[r.jsx(Jn,{className:"w-4 h-4 mr-2"})," ",a?"Buying...":"Buy Now"]})]}),r.jsx(V,{variant:"outline",className:"w-full",onClick:y=>{y.stopPropagation(),o==null||o(e==null?void 0:e.id)},children:"View Details"})]})]})})})},oU=e=>{try{const t=e?new Date(e):null;return t&&!Number.isNaN(t.getTime())?t:null}catch{return null}},lU=e=>{if(!e)return"";try{return e.toLocaleString(void 0,{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e.toLocaleDateString()}},cU=e=>{const t=Number(String(e||"").replace(/[^\d.]/g,""));return!Number.isFinite(t)||t<=0?null:t.toLocaleString("en-IN")},dU=e=>{const t=(e==null?void 0:e.quantity)||(e==null?void 0:e.qty)||(e==null?void 0:e.min_order_qty)||(e==null?void 0:e.minOrderQty)||"",s=String(t||"").trim(),n=(e==null?void 0:e.unit)||(e==null?void 0:e.qty_unit)||(e==null?void 0:e.qtyUnit)||(e==null?void 0:e.price_unit)||(e==null?void 0:e.priceUnit)||"";if(!s&&!n)return{qty:null,unit:null};const a=s.split(" ").filter(Boolean),i=a[0],o=Number(String(i).replace(/[^\d.]/g,""));return Number.isFinite(o)&&a.length>1?{qty:String(o),unit:a.slice(1).join(" ")}:Number.isFinite(o)?{qty:String(o),unit:n?String(n):null}:{qty:s||null,unit:n?String(n):null}},uU=e=>(e==null?void 0:e.message)||(e==null?void 0:e.description)||(e==null?void 0:e.details)||(e==null?void 0:e.requirement_details)||"",hU=e=>{const t=(e==null?void 0:e.buyer_name)||(e==null?void 0:e.buyerName)||(e==null?void 0:e.client_name)||(e==null?void 0:e.clientName)||(e==null?void 0:e.name)||null,s=(e==null?void 0:e.buyer_phone)||(e==null?void 0:e.buyerPhone)||(e==null?void 0:e.phone)||null,n=(e==null?void 0:e.buyer_email)||(e==null?void 0:e.buyerEmail)||(e==null?void 0:e.email)||null;return{name:t,phone:s,email:n}},mU=()=>{var g;const{id:e}=Wr(),t=Ue(),[s,n]=m.useState(null),[a,i]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState(!1),u=async()=>{i(!0);try{const{data:{user:x}}=await j.auth.getUser();if(!x){M({title:"Not authenticated",variant:"destructive"}),t("/vendor/leads");return}const{data:w}=await j.from("vendors").select("id").eq("user_id",x.id).single();if(!(w!=null&&w.id)){M({title:"Vendor profile not found",variant:"destructive"}),t("/vendor/leads");return}const y=await Xi.get(e);if(!y){M({title:"Lead not found",variant:"destructive"}),t("/vendor/leads");return}let v=!1,b="Marketplace",N=null;if(y.vendor_id===w.id)b="Direct",N=y.created_at;else{const T=(await Xi.purchases.list(w.id)).find(A=>A.lead_id===e);T&&(b="Purchased",v=!0,N=T.purchase_date)}n({...y,__source:b,__purchaseDate:N}),d(v)}catch(x){console.error(x),M({title:"Failed to load lead detail",description:(x==null?void 0:x.message)||"Something went wrong",variant:"destructive"}),i(!1)}finally{i(!1)}};m.useEffect(()=>{u()},[e]);const h=m.useMemo(()=>{const x=oU((s==null?void 0:s.created_at)||(s==null?void 0:s.createdAt)),w=lU(x),y=(s==null?void 0:s.title)||(s==null?void 0:s.product_name)||(s==null?void 0:s.productName)||"Untitled Lead",v=(s==null?void 0:s.product_name)||(s==null?void 0:s.productName)||(s==null?void 0:s.product_interest)||(s==null?void 0:s.productInterest)||null,b=(s==null?void 0:s.category)||(s==null?void 0:s.category_name)||(s==null?void 0:s.categoryName)||null,N=(s==null?void 0:s.location)||[s==null?void 0:s.city,s==null?void 0:s.state].filter(Boolean).join(", ")||"India",k=dU(s),T=cU(s==null?void 0:s.budget)||(s!=null&&s.budget?String(s.budget):null),A=uU(s),_=hU(s);return{postedOn:w,title:y,product:v,category:b,location:N,qtyUnit:k,budgetPretty:T,desc:A,buyer:_}},[s]),p=async()=>{if(s!=null&&s.id){l(!0);try{await Xi.purchases.create(void 0,s.id,s.price||50),M({title:"Lead Purchased Successfully!",description:"Contact details are now visible."}),d(!0),await u()}catch(x){M({title:"Purchase Failed",description:(x==null?void 0:x.message)||"Something went wrong",variant:"destructive"})}finally{l(!1)}}};if(a)return r.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading details..."});if(!s)return null;const f=(s==null?void 0:s.price)??50;return r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs(V,{variant:"ghost",onClick:()=>t("/vendor/leads"),className:"pl-0 hover:pl-2 transition-all",children:[r.jsx(Vr,{className:"mr-2 h-4 w-4"})," Back to Leads"]}),r.jsxs(ve,{className:"border bg-white",children:[r.jsx(De,{className:"pb-3",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[h.category?r.jsx(Me,{variant:"outline",children:h.category}):r.jsx(Me,{variant:"outline",children:"General"}),h.product?r.jsx(Me,{variant:"secondary",children:h.product}):null,r.jsx(Me,{variant:c?"success":(s==null?void 0:s.__source)==="Direct"?"secondary":"outline",children:(s==null?void 0:s.__source)||(c?"Purchased":"Fresh Lead")})]}),r.jsx(Re,{className:"text-2xl text-[#003D82] truncate",children:h.title}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-4 text-sm text-gray-600",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-4 w-4"})," ",h.location]}),r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Oa,{className:"h-4 w-4"})," Posted: ",h.postedOn]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Lead ID"}),r.jsxs("div",{className:"font-mono font-semibold text-gray-900",children:["#",String(s.id||"").slice(0,8)]}),!c&&r.jsxs("div",{className:"mt-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Price"}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["",f]}),r.jsxs(V,{className:"mt-2 bg-[#00A699] hover:bg-[#00857A]",onClick:p,disabled:o,children:[r.jsx(Jn,{className:"h-4 w-4 mr-2"}),o?"Processing...":"Buy & Unlock"]})]})]})]})}),r.jsx(_e,{className:"pt-0",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"rounded-lg border bg-gray-50 p-4",children:[r.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[r.jsx(Ua,{className:"h-4 w-4"})," Quantity"]}),r.jsx("div",{className:"mt-1 font-semibold text-gray-900",children:h.qtyUnit.qty?r.jsxs(r.Fragment,{children:[h.qtyUnit.qty,h.qtyUnit.unit?` ${h.qtyUnit.unit}`:""]}):"Not specified"})]}),r.jsxs("div",{className:"rounded-lg border bg-gray-50 p-4",children:[r.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[r.jsx(LI,{className:"h-4 w-4"})," Budget"]}),r.jsx("div",{className:"mt-1 font-semibold text-gray-900",children:h.budgetPretty?`${h.budgetPretty}`:s!=null&&s.budget?String(s.budget):"Negotiable"})]}),r.jsxs("div",{className:"rounded-lg border bg-gray-50 p-4",children:[r.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[r.jsx(Qt,{className:"h-4 w-4"})," Lead Type"]}),r.jsx("div",{className:"mt-1 font-semibold text-gray-900",children:s!=null&&s.status?String(s.status).toUpperCase():"AVAILABLE"})]})]})})]}),r.jsxs(ve,{className:"border bg-white",children:[r.jsx(De,{className:"pb-2",children:r.jsx(Re,{className:"text-lg",children:"Requirement Details"})}),r.jsx(_e,{children:r.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:(g=h.desc)!=null&&g.trim()?h.desc.trim():"No description provided by buyer."})})]}),r.jsxs(ve,{className:"border bg-white",children:[r.jsx(De,{className:"pb-2",children:r.jsx(Re,{className:"text-lg",children:"Buyer Information"})}),r.jsx(_e,{children:c||(s==null?void 0:s.__source)==="Direct"?r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ti,{className:"h-5 w-5 text-green-700"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-green-700",children:"Buyer Name"}),r.jsx("div",{className:"font-semibold text-green-900",children:h.buyer.name||"Buyer"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx(Br,{className:"h-5 w-5 text-green-700"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-green-700",children:"Phone"}),r.jsx("div",{className:"font-semibold text-green-900",children:h.buyer.phone||"N/A"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx(sr,{className:"h-5 w-5 text-green-700"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-green-700",children:"Email"}),r.jsx("div",{className:"font-semibold text-green-900",children:h.buyer.email||"N/A"})]})]})]}),r.jsxs("div",{className:"pt-3 border-t border-green-200 flex flex-wrap gap-2",children:[h.buyer.phone?r.jsx(V,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>window.location.href=`tel:${h.buyer.phone}`,children:"Call Now"}):null,h.buyer.email?r.jsx(V,{size:"sm",variant:"outline",className:"border-green-600 text-green-700 hover:bg-green-100",onClick:()=>window.location.href=`mailto:${h.buyer.email}`,children:"Send Email"}):null]})]}):r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center space-y-4",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:r.jsx(Za,{className:"h-6 w-6 text-gray-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Contact details are locked"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Purchase this lead to view buyer phone number and email."})]}),r.jsxs("div",{className:"flex items-center justify-center gap-4",children:[r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Price"}),r.jsxs("p",{className:"text-2xl font-bold text-[#003D82]",children:["",f]})]}),r.jsxs(V,{size:"lg",className:"bg-[#00A699] hover:bg-[#00857A]",onClick:p,disabled:o,children:[r.jsx(Jn,{className:"h-4 w-4 mr-2"}),o?"Processing...":"Unlock Contact Details"]})]})]})})]})]})},pU=()=>{const e=Ue(),[t,s]=m.useState("received"),[n,a]=m.useState([]),[i,o]=m.useState(!0);m.useEffect(()=>{l()},[t]);const l=async()=>{o(!0);try{const c=await je.proposals.list(t);a(c||[])}catch(c){console.error(c)}finally{o(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Proposals"}),r.jsx("p",{className:"text-gray-500",children:"Manage your sent and received quotations"})]}),r.jsxs(V,{className:"bg-[#003D82]",onClick:()=>e("/vendor/proposals/send"),children:[r.jsx(Bt,{className:"mr-2 h-4 w-4"})," Send Quotation"]})]}),r.jsxs(oi,{value:t,onValueChange:s,className:"w-full",children:[r.jsxs(ma,{className:"grid w-full grid-cols-2 max-w-[400px]",children:[r.jsx(Rt,{value:"received",children:"Received Requests"}),r.jsx(Rt,{value:"sent",children:"Sent Quotations"})]}),r.jsx(vt,{value:"received",className:"space-y-4 mt-6",children:i?r.jsx("div",{className:"flex justify-center p-8",children:r.jsx(pe,{className:"animate-spin"})}):n.length===0?r.jsx("div",{className:"text-center p-8 border rounded bg-white text-gray-500",children:"No proposals found."}):n.map(c=>{var d;return r.jsx(ve,{className:"hover:shadow-md transition-shadow",children:r.jsx(_e,{className:"p-6",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg text-[#003D82] mb-1",children:c.title}),r.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:["Requested by ",r.jsx("span",{className:"font-medium text-gray-800",children:(d=c.buyers)==null?void 0:d.full_name})," on ",new Date(c.created_at).toLocaleDateString()]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Me,{variant:"secondary",children:c.status}),c.budget&&r.jsxs(Me,{variant:"outline",children:["Budget: ",c.budget]})]})]}),r.jsx(V,{children:"View Details"})]})})},c.id)})}),r.jsx(vt,{value:"sent",className:"space-y-4 mt-6",children:i?r.jsx("div",{className:"flex justify-center p-8",children:r.jsx(pe,{className:"animate-spin"})}):n.length===0?r.jsx("div",{className:"text-center p-8 border rounded bg-white text-gray-500",children:"No sent quotations yet. Create quotations to send to buyers."}):n.map(c=>{var d;return r.jsx(ve,{className:"hover:shadow-md transition-shadow",children:r.jsx(_e,{className:"p-6",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg text-[#003D82] mb-1",children:c.title}),r.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:["Sent to ",r.jsx("span",{className:"font-medium text-gray-800",children:((d=c.buyers)==null?void 0:d.full_name)||"Customer"})," on ",new Date(c.created_at).toLocaleDateString()]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Me,{variant:"secondary",children:c.status||"PENDING"}),c.quotation_amount&&r.jsxs(Me,{variant:"outline",children:["",c.quotation_amount]})]})]}),r.jsx(V,{children:"View Details"})]})})},c.id)})})]})]})},fU={sendQuotation:async e=>{const t=await je.auth.me();if(!(t!=null&&t.id))throw new Error("Vendor not found");try{const s={quotation_title:e.quotation_title,quotation_amount:e.quotation_amount,quantity:e.quantity||null,unit:e.unit||"pieces",validity_days:e.validity_days||30,delivery_days:e.delivery_days||null,terms_conditions:e.terms_conditions||"",buyer_email:e.buyer_email,buyer_id:e.buyer_id||null,vendor_id:t.id,vendor_name:t.owner_name,vendor_company:t.company_name,vendor_phone:t.phone,vendor_email:t.email};return await gU(s)}catch(s){throw console.error("Error sending quotation:",s),s}},getSentQuotations:async(e={})=>{const t=await je.auth.me();if(!(t!=null&&t.id))throw new Error("Vendor not found");let s=j.from("proposals").select("*").eq("vendor_id",t.id).eq("status","SENT").order("created_at",{ascending:!1});e.limit&&(s=s.limit(e.limit));const{data:n,error:a}=await s;if(a)throw a;return n||[]},getReceivedQuotations:async e=>{if(!e)throw new Error("Buyer ID required");const{data:t,error:s}=await j.from("proposals").select(`
        id, title, budget, quantity, description, status, created_at,
        vendors:vendor_id(id, company_name, owner_name, phone, email)
      `).eq("buyer_id",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]},getUnregisteredQuotations:async e=>{if(!e)throw new Error("Email required");const{data:t,error:s}=await j.from("quotation_unregistered").select(`
        id, quotation_id, created_at,
        proposals(*)
      `).eq("email",e);if(s)throw s;return(t||[]).map(n=>({...n.proposals,unregisteredId:n.id}))},updateQuotationStatus:async(e,t)=>{const{data:s,error:n}=await j.from("proposals").update({status:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return s}};async function gU(e){try{const t="/.netlify/functions/quotation/send";console.log("Sending quotation to:",t);const s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){let n="Failed to send quotation";try{n=(await s.json()).error||n}catch{n=`Server error: ${s.status} ${s.statusText}`}throw new Error(n)}return await s.json()}catch(t){throw console.error("Netlify quotation function error:",t),t}}const xU=()=>{const e=Ue(),{user:t}=fc(),[s,n]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState([]),[c,d]=m.useState([]);m.useEffect(()=>{t||e("/vendor/login")},[t,e]);const[u,h]=m.useState({product_id:"",buyer_id:"",buyer_email:"",quotation_title:"",quotation_amount:"",quantity:"",unit:"pieces",validity_days:30,terms_conditions:"",delivery_days:"",status:"SENT"});m.useEffect(()=>{p()},[]);const p=async()=>{n(!0);try{const g=await je.products.list();l(Array.isArray(g)?g:[]);try{const x=await je.leads.getMyLeads(),w=Array.isArray(x)?x:(x==null?void 0:x.data)||[],y=new Map;w.forEach(v=>{v.buyer_email&&!y.has(v.buyer_email)&&y.set(v.buyer_email,{id:v.id,email:v.buyer_email,buyer_name:v.buyer_name,company_name:v.company_name,phone:v.buyer_phone})}),d(Array.from(y.values()))}catch(x){console.warn("Could not load buyers:",x),d([])}}catch{M({title:"Error loading data",variant:"destructive"})}finally{n(!1)}},f=async g=>{if(g.preventDefault(),!u.buyer_email||!u.quotation_title||!u.quotation_amount){M({title:"Please fill required fields",description:"Buyer Email, Title, and Amount are required",variant:"destructive"});return}i(!0);try{const x=await fU.sendQuotation({quotation_title:u.quotation_title,quotation_amount:u.quotation_amount,quantity:u.quantity||null,unit:u.unit,validity_days:u.validity_days,delivery_days:u.delivery_days||null,terms_conditions:u.terms_conditions||"",buyer_id:u.buyer_id||null,buyer_email:u.buyer_email.toLowerCase().trim()});M({title:" Quotation Sent!",description:`Quotation sent to ${u.buyer_email} with email notification`}),h({product_id:"",buyer_id:"",buyer_email:"",quotation_title:"",quotation_amount:"",quantity:"",unit:"pieces",validity_days:30,terms_conditions:"",delivery_days:"",status:"SENT"}),setTimeout(()=>e("/vendor/proposals?tab=sent"),1e3)}catch(x){M({title:"Error sending quotation",description:x.message,variant:"destructive"})}finally{i(!1)}};return s?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx(pe,{className:"w-6 h-6 animate-spin text-blue-600"})}):r.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[r.jsxs(V,{variant:"ghost",onClick:()=>e("/vendor/proposals"),className:"mb-4",children:[r.jsx(Vr,{className:"mr-2 h-4 w-4"})," Back to Proposals"]}),r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{className:"text-2xl",children:"Send Quotation"})}),r.jsx(_e,{children:r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"buyer",children:"Select from Previous Leads (Optional)"}),r.jsxs(tt,{value:u.buyer_id,onValueChange:g=>{if(g){const x=c.find(w=>w.id===g);h(w=>({...w,buyer_id:g,buyer_email:(x==null?void 0:x.email)||""}))}},children:[r.jsx(Je,{id:"buyer",children:r.jsx(st,{placeholder:"Choose from previous leads"})}),r.jsx(Qe,{children:c.length>0?c.map(g=>r.jsxs(ye,{value:g.id,children:[g.buyer_name||"Unknown"," - ",g.email]},g.id)):r.jsx(ye,{disabled:!0,value:"no-buyers",children:"No previous leads found"})})]}),r.jsx("p",{className:"text-xs text-slate-500",children:"Buyers from your purchased leads appear here"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"buyer-email",children:"Buyer Email *"}),r.jsx(H,{id:"buyer-email",type:"email",value:u.buyer_email,onChange:g=>h(x=>({...x,buyer_email:g.target.value})),placeholder:"buyer@example.com",required:!0}),r.jsx("p",{className:"text-xs text-slate-500",children:"Email address to send quotation"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"product",children:"Product/Service *"}),r.jsxs(tt,{value:u.product_id,onValueChange:g=>{const x=o.find(w=>w.id===g);h(w=>({...w,product_id:g,quotation_title:(x==null?void 0:x.name)||""}))},children:[r.jsx(Je,{id:"product",children:r.jsx(st,{placeholder:"Select a product"})}),r.jsx(Qe,{children:o.map(g=>r.jsxs(ye,{value:g.id,children:[g.name," (",g.price,"/",g.price_unit,")"]},g.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"title",children:"Quotation Title *"}),r.jsx(H,{id:"title",value:u.quotation_title,onChange:g=>h(x=>({...x,quotation_title:g.target.value})),placeholder:"e.g., Land Surveying Services Quote",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"amount",children:"Amount () *"}),r.jsx(H,{id:"amount",type:"number",value:u.quotation_amount,onChange:g=>h(x=>({...x,quotation_amount:g.target.value})),placeholder:"0",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"quantity",children:"Quantity"}),r.jsx(H,{id:"quantity",type:"number",value:u.quantity,onChange:g=>h(x=>({...x,quantity:g.target.value})),placeholder:"0"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"unit",children:"Unit"}),r.jsxs(tt,{value:u.unit,onValueChange:g=>h(x=>({...x,unit:g})),children:[r.jsx(Je,{id:"unit",children:r.jsx(st,{})}),r.jsxs(Qe,{children:[r.jsx(ye,{value:"pieces",children:"Pieces"}),r.jsx(ye,{value:"kg",children:"Kg"}),r.jsx(ye,{value:"m",children:"Meter"}),r.jsx(ye,{value:"sqft",children:"Sq Ft"}),r.jsx(ye,{value:"hour",children:"Hour"}),r.jsx(ye,{value:"day",children:"Day"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"validity",children:"Validity (Days)"}),r.jsx(H,{id:"validity",type:"number",value:u.validity_days,onChange:g=>h(x=>({...x,validity_days:g.target.value})),placeholder:"30"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"delivery",children:"Delivery (Days)"}),r.jsx(H,{id:"delivery",type:"number",value:u.delivery_days,onChange:g=>h(x=>({...x,delivery_days:g.target.value})),placeholder:"7"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"terms",children:"Terms & Conditions"}),r.jsx("textarea",{id:"terms",className:"w-full min-h-[120px] p-3 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.terms_conditions,onChange:g=>h(x=>({...x,terms_conditions:g.target.value})),placeholder:"Payment terms, delivery terms, warranty, etc."})]}),r.jsxs("div",{className:"flex gap-4 justify-end pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>e("/vendor/proposals"),children:"Cancel"}),r.jsx(V,{type:"submit",className:"bg-[#003D82]",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Quotation"})]})]})})]})]})},vU=()=>{const[e,t]=m.useState(!0),[s,n]=m.useState(!1),[a,i]=m.useState({preferred_micro_categories:[],preferred_states:[],preferred_cities:[],min_budget:0,max_budget:999999,auto_lead_filter:!0}),[o,l]=m.useState([]),[c,d]=m.useState([]),[u,h]=m.useState([]),[p,f]=m.useState(""),[g,x]=m.useState(""),[w,y]=m.useState(""),v=6,b=6,N=5;m.useEffect(()=>{k()},[]);const k=async()=>{var D;t(!0);try{const{data:S,error:E}=await j.from("states").select("id, name").eq("is_active",!0).order("name");if(E)throw E;l(S||[]),console.log("States loaded:",S);try{const{data:O,error:P}=await j.from("head_categories").select("id, name").eq("is_active",!0).order("name");P?(console.error("Error loading head categories:",P),h([])):(h(O||[]),console.log("Head categories loaded:",O))}catch(O){console.error("Error loading head categories:",O),h([])}try{const O=await je.preferences.get();if(console.log("Preferences loaded:",O),i(O),((D=O.preferred_states)==null?void 0:D.length)>0)try{const P=await je.locations.getCities(O.preferred_states[0]);d(P||[]),console.log("Cities loaded for state:",O.preferred_states[0])}catch(P){console.error("Error loading cities:",P)}else if(S&&S.length>0)try{const P=await je.locations.getCities(S[0].id);d(P||[]),f(S[0].id),console.log("Auto-loaded cities for first state")}catch(P){console.error("Error auto-loading cities:",P)}}catch(O){console.error("Error loading preferences:",O),i({preferred_micro_categories:[],preferred_states:[],preferred_cities:[],min_budget:0,max_budget:999999,auto_lead_filter:!0})}}catch(S){console.error("Error loading preferences data:",S),M({title:"Error loading preferences",description:(S==null?void 0:S.message)||"Something went wrong",variant:"destructive"})}finally{t(!1)}},T=async()=>{if(p){if(a.preferred_states.includes(p)){M({title:"Already added",variant:"destructive"});return}if(a.preferred_states.length>=v){M({title:`Maximum ${v} states allowed`,variant:"destructive"});return}try{const D=await je.locations.getCities(p);d(D||[])}catch(D){console.error("Error loading cities:",D)}i(D=>({...D,preferred_states:[...D.preferred_states,p]})),f("")}},A=async()=>{if(w){if(a.preferred_cities.includes(w)){M({title:"Already added",variant:"destructive"});return}if(a.preferred_cities.length>=b){M({title:`Maximum ${b} cities allowed`,variant:"destructive"});return}i(D=>({...D,preferred_cities:[...D.preferred_cities,w]})),y("")}},_=async()=>{if(g){if(a.preferred_micro_categories.includes(g)){M({title:"Already added",variant:"destructive"});return}if(a.preferred_micro_categories.length>=N){M({title:`Maximum ${N} categories allowed`,variant:"destructive"});return}i(D=>({...D,preferred_micro_categories:[...D.preferred_micro_categories,g]})),x("")}},C=D=>{i(S=>({...S,preferred_states:S.preferred_states.filter(E=>E!==D)}))},I=D=>{i(S=>({...S,preferred_cities:S.preferred_cities.filter(E=>E!==D)}))},q=D=>{i(S=>({...S,preferred_micro_categories:S.preferred_micro_categories.filter(E=>E!==D)}))},F=async()=>{n(!0);try{await je.preferences.update(a),M({title:"Preferences Updated",className:"bg-green-50 text-green-900 border-green-200"})}catch(D){console.error(D),M({title:"Update Failed",description:D==null?void 0:D.message,variant:"destructive"})}finally{n(!1)}};return e?r.jsx("div",{className:"flex justify-center p-8",children:r.jsx(pe,{className:"animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx(ve,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:["Preferred States (Max ",v,")"]}),r.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Select up to ",v," states where you operate or want to receive leads from"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:p,onChange:D=>{f(D.target.value),D.target.value&&je.locations.getCities(D.target.value).then(S=>{d(S||[])}).catch(S=>console.error("Error loading cities:",S))},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900",disabled:a.preferred_states.length>=v,children:[r.jsx("option",{value:"",children:"Select a state"}),o&&o.length>0?o.map(D=>r.jsx("option",{value:D.id,children:D.name},D.id)):r.jsx("option",{disabled:!0,children:"No states available"})]}),r.jsx(V,{onClick:T,variant:"outline",disabled:!p||a.preferred_states.length>=v,children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.preferred_states.map(D=>{var E;const S=((E=o.find(O=>O.id===D))==null?void 0:E.name)||D;return r.jsxs(Me,{variant:"secondary",className:"flex items-center gap-2 px-3 py-1",children:[S,r.jsx(yt,{className:"w-3 h-3 cursor-pointer",onClick:()=>C(D)})]},D)})})]})}),r.jsx(ve,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:["Preferred Cities (Max ",b,")"]}),r.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Select up to ",b," cities for more targeted leads"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:w,onChange:D=>y(D.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900",disabled:a.preferred_cities.length>=b||c.length===0,children:[r.jsx("option",{value:"",children:"Select a city"}),c&&c.length>0?c.map(D=>r.jsx("option",{value:D.id,children:D.name},D.id)):r.jsx("option",{disabled:!0,children:"No cities available - select a state first"})]}),r.jsx(V,{onClick:A,variant:"outline",disabled:!w||a.preferred_cities.length>=b,children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.preferred_cities.map(D=>{var E;const S=((E=c.find(O=>O.id===D))==null?void 0:E.name)||D;return r.jsxs(Me,{variant:"secondary",className:"flex items-center gap-2 px-3 py-1",children:[S,r.jsx(yt,{className:"w-3 h-3 cursor-pointer",onClick:()=>I(D)})]},D)})})]})}),r.jsx(ve,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:["Product Categories (Max ",N,")"]}),r.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Select up to ",N," main categories your business deals in"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:g,onChange:D=>x(D.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900",disabled:a.preferred_micro_categories.length>=N,children:[r.jsx("option",{value:"",children:"Select a category"}),u&&u.length>0?u.map(D=>r.jsx("option",{value:D.id,children:D.name},D.id)):r.jsx("option",{disabled:!0,children:"No categories available"})]}),r.jsx(V,{onClick:_,variant:"outline",disabled:!g||a.preferred_micro_categories.length>=N,children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.preferred_micro_categories.map(D=>{var E;const S=((E=u.find(O=>O.id===D))==null?void 0:E.name)||D;return r.jsxs(Me,{variant:"secondary",className:"flex items-center gap-2 px-3 py-1",children:[S,r.jsx(yt,{className:"w-3 h-3 cursor-pointer",onClick:()=>q(D)})]},D)})})]})}),r.jsx(ve,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Budget Range ()"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Minimum Budget"}),r.jsx(H,{type:"number",value:a.min_budget,onChange:D=>i(S=>({...S,min_budget:parseInt(D.target.value)||0})),placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Maximum Budget"}),r.jsx(H,{type:"number",value:a.max_budget,onChange:D=>i(S=>({...S,max_budget:parseInt(D.target.value)||999999})),placeholder:"999999"})]})]})]})}),r.jsx(ve,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Auto Lead Filter"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Automatically filter leads based on your preferences"})]}),r.jsx("label",{className:"flex items-center gap-2 cursor-pointer",children:r.jsx("input",{type:"checkbox",checked:a.auto_lead_filter,onChange:D=>i(S=>({...S,auto_lead_filter:D.target.checked})),className:"w-5 h-5"})})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(V,{onClick:F,disabled:s,className:"bg-[#003D82] hover:bg-[#003D82]/90 flex items-center gap-2",children:[s?r.jsx(pe,{className:"w-4 h-4 animate-spin"}):r.jsx(ph,{className:"w-4 h-4"}),s?"Saving...":"Save Preferences"]})})]})},yU=()=>{const[e]=lc(),t=Ue(),s=e.get("tab")||"primary",[n,a]=m.useState(s),[i,o]=m.useState(!0),[l,c]=m.useState({}),[d,u]=m.useState({}),[h,p]=m.useState(null),[f,g]=m.useState(!1),[x,w]=m.useState({}),[y,v]=m.useState([]),[b,N]=m.useState([]),[k,T]=m.useState(null),[A,_]=m.useState(!0);m.useEffect(()=>{const S=e.get("tab");S&&S!==n&&a(S)},[e,n]);const C=m.useCallback(async()=>{o(!0);try{const[S,E,O,P]=await Promise.all([je.auth.me(),je.banking.list(),je.documents.list(),je.subscriptions.getCurrent()]),R=S||{},L={...R,companyName:R.companyName||R.company_name,ownerName:R.ownerName||R.owner_name,gstNumber:R.gstNumber||R.gst_number,panNumber:R.panNumber||R.pan_number,aadharNumber:R.aadharNumber||R.aadhar_number,secondaryEmail:R.secondaryEmail||R.secondary_email,secondaryPhone:R.secondaryPhone||R.secondary_phone,landlineNumber:R.landlineNumber||R.landline_number,websiteUrl:R.websiteUrl||R.website_url,primaryBusinessType:R.primaryBusinessType||R.primary_business_type,annualTurnover:R.annualTurnover||R.annual_turnover,cinNumber:R.cinNumber||R.cin_number,llpinNumber:R.llpinNumber||R.llpin_number,iecCode:R.iecCode||R.iec_code,yearOfEstablishment:R.yearOfEstablishment??R.year_of_establishment,ownerDesignation:R.ownerDesignation||R.owner_designation};c(L),u(L),v(E||[]),N(O||[]),T(P||null)}catch(S){console.error(S),M({title:"Error loading profile",description:(S==null?void 0:S.message)||"Something went wrong",variant:"destructive"})}finally{o(!1),_(!1)}},[]);m.useEffect(()=>{C()},[C]);const I=async()=>{g(!0);try{const{app_metadata:S,user_metadata:E,aud:O,id:P,created_at:R,confirmed_at:L,email_confirmed_at:B,last_sign_in_at:Q,phone_confirmed_at:W,identities:z,factors:X,role:de,...ue}=d;await je.auth.updateProfile(ue),c(te=>({...te,...ue})),u(te=>({...te,...ue})),p(null),window.dispatchEvent(new Event("vendor_profile_updated")),M({title:"Profile Updated Successfully",className:"bg-green-50 text-green-900 border-green-200"})}catch(S){console.error(S),M({title:"Update Failed",description:(S==null?void 0:S.message)||"Please try again",variant:"destructive"})}finally{g(!1)}},q=async(S,E)=>{var P;const O=(P=S.target.files)==null?void 0:P[0];if(O){w(R=>({...R,[E]:!0}));try{const R=await je.auth.uploadImage(O,"avatars"),L={[E]:R};await je.auth.updateProfile(L),c(B=>({...B,...L})),u(B=>({...B,...L})),window.dispatchEvent(new Event("vendor_profile_updated")),M({title:"Image Uploaded"})}catch(R){console.error("Image upload error:",R),M({title:"Upload Failed",description:(R==null?void 0:R.message)||"Please check your connection and try again",variant:"destructive"})}finally{w(R=>({...R,[E]:!1}));try{S.target.value=""}catch{}}}};if(i)return r.jsx("div",{className:"h-screen flex items-center justify-center",children:r.jsx(pe,{className:"w-8 h-8 animate-spin text-[#003D82]"})});const F=l.companyName||l.company_name||"My Company",D=l.ownerName||l.owner_name||"";return r.jsxs("div",{className:"bg-slate-50 min-h-screen pb-12 font-sans text-slate-900",children:[r.jsx("style",{children:`
        html { overflow-y: auto; }
        body { overflow-y: scroll; scrollbar-gutter: stable; }
        ::-webkit-scrollbar { width: 0 !important; }
        ::-webkit-scrollbar-track { background: transparent !important; }
        ::-webkit-scrollbar-thumb { background: transparent !important; }
        * { scrollbar-width: none !important; }
      `}),r.jsxs("div",{className:"max-w-[1400px] mx-auto p-4 md:p-6 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[r.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[r.jsxs(ve,{className:"border-t-4 border-t-[#003D82] shadow-sm sticky top-6",children:[r.jsxs("div",{className:"p-6 text-center border-b border-slate-100",children:[r.jsxs("div",{className:"relative inline-block group",children:[r.jsx("div",{className:"w-24 h-24 mx-auto bg-white rounded-full border-4 border-slate-100 shadow-sm overflow-hidden flex items-center justify-center",children:l.profile_image?r.jsx("img",{src:l.profile_image,className:"w-full h-full object-cover",alt:"Logo"}):r.jsx("span",{className:"text-3xl font-bold text-slate-300",children:(F==null?void 0:F[0])||"M"})}),r.jsxs("label",{className:"absolute bottom-0 right-0 p-1.5 bg-[#003D82] rounded-full cursor-pointer hover:bg-blue-800 transition-colors shadow-sm",children:[x.profile_image?r.jsx(pe,{className:"w-3.5 h-3.5 text-white animate-spin"}):r.jsx(bI,{className:"w-3.5 h-3.5 text-white"}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:S=>q(S,"profile_image"),disabled:!!x.profile_image})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("h2",{className:"text-lg font-bold text-slate-900 leading-tight flex items-center justify-center gap-2",children:[F,r.jsx(D1,{className:"w-3 h-3 text-slate-400 cursor-pointer hover:text-[#003D82]",onClick:()=>{a("primary"),p("primary"),t("?tab=primary",{replace:!0})}})]}),r.jsx("p",{className:"text-sm text-slate-500 font-medium mt-1",children:D})]})]}),r.jsxs("div",{className:"p-5 space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[r.jsx(kt,{className:"w-4 h-4 text-slate-400 mt-0.5 shrink-0"}),r.jsxs("span",{className:"text-slate-600 leading-relaxed",children:[l.address||"Add Address"," ",r.jsx("br",{}),l.city||"City",", ",l.state||"State"," - ",l.pincode||"Pincode"]})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx(Br,{className:"w-4 h-4 text-slate-400 shrink-0"}),r.jsx("span",{className:"text-slate-600",children:l.phone||"Add Phone"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx(sr,{className:"w-4 h-4 text-slate-400 shrink-0"}),r.jsx("span",{className:"text-slate-600 truncate",children:l.email||""})]}),r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("p",{className:"text-xs text-blue-600 font-semibold mb-1",children:"Your Vendor ID"}),r.jsx("p",{className:"text-sm font-bold text-blue-900",children:l.vendorId||l.vendor_id||"Generating..."})]})]})]}),r.jsx(ve,{className:"shadow-sm",children:r.jsxs("div",{className:"p-5",children:[r.jsx("p",{className:"text-xs text-slate-500 font-semibold mb-3",children:"Subscription Status"}),r.jsx(wk,{subscription:k,loading:A})]})})]}),r.jsx("div",{className:"lg:col-span-9",children:r.jsxs(oi,{value:n,onValueChange:S=>{a(S),t(`?tab=${S}`,{replace:!0})},className:"w-full",children:[r.jsx("div",{className:"bg-white rounded-t-lg border-b border-slate-200 shadow-sm",children:r.jsx(ma,{className:"w-full justify-start bg-transparent h-auto p-0 overflow-x-auto scrollbar-hide",children:[{label:"Primary Details",value:"primary"},{label:"Additional Details",value:"additional"},{label:"Bank Details",value:"bank"},{label:"Business Preferences",value:"preferences"},{label:"KYC Documents",value:"kyc"}].map(S=>r.jsx(Rt,{value:S.value,className:"data-[state=active]:border-b-2 data-[state=active]:border-[#003D82] data-[state=active]:text-[#003D82] rounded-none px-4 py-3.5 h-auto text-slate-600 font-medium whitespace-nowrap text-sm",children:S.label},S.value))})}),r.jsxs("div",{className:"bg-white rounded-b-lg border border-t-0 border-slate-200 shadow-sm min-h-[500px]",children:[r.jsxs(vt,{value:"primary",className:"m-0 p-6",children:[r.jsx(Mb,{title:"Primary Details",editing:h==="primary",onEdit:()=>p("primary"),onCancel:()=>{u(l),p(null)},onSave:I,saving:f}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Company Name"}),r.jsx(H,{disabled:h!=="primary",value:d.companyName||d.company_name||"",onChange:S=>u({...d,companyName:S.target.value,company_name:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Owner Name"}),r.jsx(H,{disabled:h!=="primary",value:d.ownerName||d.owner_name||"",onChange:S=>u({...d,ownerName:S.target.value,owner_name:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Email (Read-only)"}),r.jsx(H,{disabled:!0,value:d.email||"",className:"h-9 bg-slate-50"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Mobile"}),r.jsx(H,{disabled:h!=="primary",value:d.phone||"",onChange:S=>u({...d,phone:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Secondary Email"}),r.jsx(H,{disabled:h!=="primary",placeholder:"secondary@example.com",value:d.secondaryEmail||d.secondary_email||"",onChange:S=>u({...d,secondaryEmail:S.target.value,secondary_email:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Second Phone Number"}),r.jsx(H,{disabled:h!=="primary",placeholder:"Alternate mobile",value:d.secondaryPhone||d.secondary_phone||"",onChange:S=>u({...d,secondaryPhone:S.target.value,secondary_phone:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1 md:col-span-2",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Landline Number"}),r.jsx(H,{disabled:h!=="primary",placeholder:"Landline (optional)",value:d.landlineNumber||d.landline_number||"",onChange:S=>u({...d,landlineNumber:S.target.value,landline_number:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"col-span-full",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Address"}),r.jsx(H,{disabled:h!=="primary",value:d.address||"",onChange:S=>u({...d,address:S.target.value}),className:"h-9 mb-4"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(H,{placeholder:"City",disabled:h!=="primary",value:d.city||"",onChange:S=>u({...d,city:S.target.value}),className:"h-9"}),r.jsx(H,{placeholder:"State",disabled:h!=="primary",value:d.state||"",onChange:S=>u({...d,state:S.target.value}),className:"h-9"}),r.jsx(H,{placeholder:"Pincode",disabled:h!=="primary",value:d.pincode||"",onChange:S=>u({...d,pincode:S.target.value}),className:"h-9"})]})]})]})]}),r.jsxs(vt,{value:"additional",className:"m-0 p-6",children:[r.jsx(Mb,{title:"Business & Statutory Details",editing:h==="additional",onEdit:()=>p("additional"),onCancel:()=>{u(l),p(null)},onSave:I,saving:f}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 mt-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"GST Number"}),r.jsx(H,{disabled:h!=="additional",value:d.gstNumber||d.gst_number||"",onChange:S=>u({...d,gstNumber:S.target.value,gst_number:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"PAN Number"}),r.jsx(H,{disabled:h!=="additional",value:d.panNumber||d.pan_number||"",onChange:S=>u({...d,panNumber:S.target.value,pan_number:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Aadhar Number"}),r.jsx(H,{disabled:h!=="additional",value:d.aadharNumber||d.aadhar_number||"",onChange:S=>u({...d,aadharNumber:S.target.value,aadhar_number:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Website URL"}),r.jsx(H,{disabled:h!=="additional",placeholder:"https://example.com",value:d.websiteUrl||d.website_url||"",onChange:S=>u({...d,websiteUrl:S.target.value,website_url:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Business Type"}),r.jsx(H,{disabled:h!=="additional",value:d.primaryBusinessType||d.primary_business_type||"",onChange:S=>u({...d,primaryBusinessType:S.target.value,primary_business_type:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Annual Turnover"}),r.jsx(H,{disabled:h!=="additional",value:d.annualTurnover||d.annual_turnover||"",onChange:S=>u({...d,annualTurnover:S.target.value,annual_turnover:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"CIN/LLPIN Number"}),r.jsx(H,{disabled:h!=="additional",placeholder:"CIN (if company)",value:d.cinNumber||d.cin_number||"",onChange:S=>u({...d,cinNumber:S.target.value,cin_number:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"TAN Number"}),r.jsx(H,{disabled:h!=="additional",placeholder:"TAN Number",value:d.tanNumber||d.tan_number||"",onChange:S=>u({...d,tanNumber:S.target.value,tan_number:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Import Export Code (IEC)"}),r.jsx(H,{disabled:h!=="additional",placeholder:"IEC Code",value:d.iecCode||d.iec_code||"",onChange:S=>u({...d,iecCode:S.target.value,iec_code:S.target.value}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Year of Establishment"}),r.jsx(H,{disabled:h!=="additional",type:"number",placeholder:"e.g. 2015",value:d.yearOfEstablishment??d.year_of_establishment??"",onChange:S=>u({...d,yearOfEstablishment:S.target.value===""?null:Number(S.target.value),year_of_establishment:S.target.value===""?null:Number(S.target.value)}),className:"h-9"})]}),r.jsxs("div",{className:"space-y-1 md:col-span-2",children:[r.jsx(U,{className:"text-xs text-slate-500",children:"Designation of Owner"}),r.jsx(H,{disabled:h!=="additional",placeholder:"e.g. Proprietor / Director / CEO",value:d.ownerDesignation||d.owner_designation||"",onChange:S=>u({...d,ownerDesignation:S.target.value,owner_designation:S.target.value}),className:"h-9"})]})]})]}),r.jsx(vt,{value:"bank",className:"m-0 p-6",children:r.jsx(wU,{banks:y,onRefresh:C})}),r.jsx(vt,{value:"preferences",className:"m-0 p-6",children:r.jsx(vU,{})}),r.jsx(vt,{value:"kyc",className:"m-0 p-6",children:r.jsx(bU,{documents:b,onRefresh:C,kycStatus:l.kyc_status})})]})]})})]})]})},Mb=({title:e,editing:t,onEdit:s,onCancel:n,onSave:a,saving:i})=>r.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[r.jsx("h3",{className:"font-bold text-lg text-slate-900",children:e}),r.jsx("div",{className:"flex gap-2",children:t?r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"sm",variant:"ghost",onClick:n,disabled:i,children:"Cancel"}),r.jsxs(V,{size:"sm",className:"bg-[#003D82]",onClick:a,disabled:i,children:[i?r.jsx(pe,{className:"w-3 h-3 animate-spin mr-1"}):r.jsx(ph,{className:"w-3 h-3 mr-1"}),"Save"]})]}):r.jsxs(V,{size:"sm",variant:"ghost",className:"text-[#003D82] h-8 text-xs font-semibold hover:bg-blue-50",onClick:s,children:[r.jsx(D1,{className:"w-3.5 h-3.5 mr-1"})," Edit"]})})]}),wU=({banks:e,onRefresh:t})=>{const s=()=>`temp-${Math.random().toString(36).substr(2,9)}`,[n,a]=m.useState(e.length>0?e:[{id:s()}]),[i,o]=m.useState(!1),l=(h,p,f)=>{const g=[...n];g[h]={...g[h],[p]:f},a(g)},c=()=>{const h=`temp-${Math.random().toString(36).substr(2,9)}`;a([...n,{id:h}])},d=async h=>{const p=n[h];if(p.id&&!p.id.startsWith("temp-")){if(!window.confirm("Delete this bank account?"))return;try{await je.banking.delete(p.id),await t(),M({title:"Bank Deleted"})}catch(x){M({title:"Delete failed",description:(x==null?void 0:x.message)||"",variant:"destructive"});return}}const f=n.filter((x,w)=>w!==h),g=`temp-${Math.random().toString(36).substr(2,9)}`;a(f.length>0?f:[{id:g}])},u=async()=>{var h;o(!0);try{for(const p of n)(h=p.id)!=null&&h.startsWith("temp-")&&p.account_number&&p.ifsc_code&&await je.banking.add(p);await t(),M({title:"Bank accounts saved"})}catch(p){M({title:"Error saving banks",description:(p==null?void 0:p.message)||"",variant:"destructive"})}finally{o(!1)}};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[r.jsx("h3",{className:"font-bold text-lg text-slate-900",children:"Bank Accounts"}),r.jsxs(V,{size:"sm",variant:"ghost",className:"text-[#003D82] h-8 text-xs font-semibold hover:bg-blue-50",onClick:c,children:[r.jsx(Bt,{className:"w-3.5 h-3.5 mr-1"})," Add Another"]})]}),r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-3",style:{scrollbarWidth:"thin",scrollbarColor:"#cbd5e1 #f1f5f9"},children:n.map((h,p)=>r.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border animate-in fade-in",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("h4",{className:"text-sm font-bold",children:["Bank Account ",p+1]}),r.jsx(vr,{className:"w-4 h-4 text-slate-400 hover:text-red-500 cursor-pointer",onClick:()=>d(p)})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsx(H,{placeholder:"Account Number",className:"h-9 bg-white",value:h.account_number||"",onChange:f=>l(p,"account_number",f.target.value)}),r.jsx(H,{placeholder:"IFSC Code",className:"h-9 bg-white",value:h.ifsc_code||"",onChange:f=>l(p,"ifsc_code",f.target.value)}),r.jsx(H,{placeholder:"Bank Name",className:"h-9 bg-white",value:h.bank_name||"",onChange:f=>l(p,"bank_name",f.target.value)}),r.jsx(H,{placeholder:"Branch Name",className:"h-9 bg-white",value:h.branch_name||"",onChange:f=>l(p,"branch_name",f.target.value)}),r.jsx(H,{placeholder:"Account Holder Name",className:"h-9 bg-white md:col-span-2",value:h.account_holder||"",onChange:f=>l(p,"account_holder",f.target.value)})]})]},h.id))}),r.jsx("div",{className:"flex justify-end gap-2 mt-4",children:r.jsxs(V,{className:"bg-[#003D82]",onClick:u,disabled:i,children:[i?r.jsx(pe,{className:"w-4 h-4 animate-spin mr-2"}):null,"Save Bank Details"]})})]})},bU=({documents:e,onRefresh:t,kycStatus:s})=>{const[n,a]=m.useState(null),[i,o]=m.useState(!1),l=async(u,h)=>{var g;const p=(g=u.target.files)==null?void 0:g[0];if(!p)return;const f=10*1024*1024;if(p.size>f){M({title:"File too large",description:"Please upload a file smaller than 10MB",variant:"destructive"});return}a(h);try{await je.documents.upload(p,h),await t(),M({title:"Document uploaded successfully"})}catch(x){console.error("Document upload error:",x),M({title:"Upload failed",description:(x==null?void 0:x.message)||"Please check your internet connection and try again",variant:"destructive"})}finally{a(null);try{u.target.value=""}catch{}}},c=async u=>{if(window.confirm("Delete this document?"))try{await je.documents.delete(u),await t(),M({title:"Document Deleted"})}catch(h){M({title:"Delete failed",description:(h==null?void 0:h.message)||"",variant:"destructive"})}},d=[{id:"GST",label:"GST Certificate"},{id:"PAN",label:"PAN Card"},{id:"AADHAR",label:"Aadhar Card"},{id:"BANK",label:"Bank Passbook/Cheque Copy"}];return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"font-bold text-lg",children:"KYC Documents"}),r.jsx(Me,{children:s||"PENDING"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(u=>{const h=e.find(p=>p.document_type===u.id);return r.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between bg-white",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${h?"bg-green-100 text-green-600":"bg-slate-100 text-slate-400"}`,children:h?r.jsx(Sr,{className:"w-5 h-5"}):r.jsx(Qt,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-sm text-slate-700",children:u.label}),r.jsx("p",{className:"text-[10px] text-slate-400",children:h?`Uploaded ${new Date(h.uploaded_at).toLocaleDateString()}`:"Pending Upload"})]})]}),h?r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"ghost",size:"icon",asChild:!0,children:r.jsx("a",{href:h.document_url,target:"_blank",rel:"noreferrer",children:r.jsx(fx,{className:"w-4 h-4"})})}),r.jsx(V,{variant:"ghost",size:"icon",className:"text-red-400",onClick:()=>c(h.id),children:r.jsx(vr,{className:"w-4 h-4"})})]}):r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("div",{className:`px-3 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-600 text-xs font-semibold rounded ${n===u.id?"opacity-50":""}`,children:n===u.id?"Uploading...":"Upload"}),r.jsx("input",{type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:p=>l(p,u.id),disabled:!!n})]})]},u.id)})}),r.jsx("div",{className:"mt-8 flex justify-end border-t pt-4",children:r.jsx(V,{className:"bg-[#003D82] px-8",disabled:i||s==="SUBMITTED"||s==="VERIFIED",onClick:async()=>{o(!0);try{await je.kyc.submit(),await t(),M({title:"KYC Submitted"})}catch(u){M({title:"Submit failed",description:(u==null?void 0:u.message)||"",variant:"destructive"})}finally{o(!1)}},children:i?r.jsxs(r.Fragment,{children:[r.jsx(pe,{className:"w-4 h-4 animate-spin mr-2"}),"Submitting..."]}):s==="SUBMITTED"?"Verification In Progress":"Submit for Verification"})})]})},jU=()=>{const e=Ue(),[t,s]=m.useState({newPassword:"",confirmPassword:""}),[n,a]=m.useState(!1),[i,o]=m.useState(null),[l,c]=m.useState(!1);m.useEffect(()=>{(async()=>{try{const{data:{user:p}}=await j.auth.getUser();if(p){const{data:f}=await j.from("vendors").select("vendor_id").eq("user_id",p.id).single();o(f==null?void 0:f.vendor_id)}}catch(p){console.error("Error fetching vendor ID:",p)}})()},[]);const d=()=>{i&&(navigator.clipboard.writeText(i),c(!0),setTimeout(()=>c(!1),2e3),M({title:"Vendor ID copied to clipboard"}))},u=async h=>{if(h.preventDefault(),t.newPassword!==t.confirmPassword){M({title:"Passwords do not match",variant:"destructive"});return}a(!0);try{await je.auth.updatePassword(t.newPassword),M({title:"Password Updated",description:"Your password has been changed. You have been logged out from all sessions for security."}),await je.auth.logout(),e("/auth/login")}catch(p){M({title:"Update Failed",description:p.message,variant:"destructive"})}finally{a(!1)}};return r.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Account Settings"}),i&&r.jsx(ve,{className:"border-2 border-blue-200 bg-blue-50",children:r.jsx(_e,{className:"pt-6",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(U,{className:"text-sm font-semibold text-slate-700",children:"Your Vendor ID"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Use this ID for all support requests and transactions"})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-white p-4 rounded-lg border border-blue-100",children:[r.jsx("code",{className:"text-lg font-bold text-blue-700 flex-1 break-all",children:i}),r.jsx(V,{size:"sm",variant:"outline",onClick:d,className:"bg-white hover:bg-blue-50 shrink-0",children:l?r.jsx(Sr,{className:"w-4 h-4 text-green-600"}):r.jsx(S1,{className:"w-4 h-4"})})]}),r.jsx("p",{className:"text-xs text-slate-600",children:"This ID never changes and can be used to identify your account."})]})})}),r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{children:"Change Password"})}),r.jsx(_e,{children:r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"New Password"}),r.jsx(H,{type:"password",required:!0,minLength:6,value:t.newPassword,onChange:h=>s({...t,newPassword:h.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Confirm New Password"}),r.jsx(H,{type:"password",required:!0,minLength:6,value:t.confirmPassword,onChange:h=>s({...t,confirmPassword:h.target.value})})]}),r.jsxs(V,{type:"submit",className:"w-full bg-[#003D82]",disabled:n,children:[n&&r.jsx(pe,{className:"w-4 h-4 animate-spin mr-2"}),"Update Password & Logout All Devices"]})]})})]})]})};var Fv="Dialog",[SE,CE]=ks(Fv),[NU,Cr]=SE(Fv),kE=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d=!1,u]=Fr({prop:n,defaultProp:a,onChange:i});return r.jsx(NU,{scope:t,triggerRef:l,contentRef:c,contentId:yr(),titleId:yr(),descriptionId:yr(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:o,children:s})};kE.displayName=Fv;var EE="DialogTrigger",PE=m.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=Cr(EE,s),i=He(t,a.triggerRef);return r.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Bv(a.open),...n,ref:i,onClick:fe(e.onClick,a.onOpenToggle)})});PE.displayName=EE;var Vv="DialogPortal",[_U,AE]=SE(Vv,{forceMount:void 0}),TE=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:a}=e,i=Cr(Vv,t);return r.jsx(_U,{scope:t,forceMount:s,children:m.Children.map(n,o=>r.jsx(Us,{present:s||i.open,children:r.jsx(_o,{asChild:!0,container:a,children:o})}))})};TE.displayName=Vv;var Mu="DialogOverlay",DE=m.forwardRef((e,t)=>{const s=AE(Mu,e.__scopeDialog),{forceMount:n=s.forceMount,...a}=e,i=Cr(Mu,e.__scopeDialog);return i.modal?r.jsx(Us,{present:n||i.open,children:r.jsx(SU,{...a,ref:t})}):null});DE.displayName=Mu;var SU=m.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=Cr(Mu,s);return r.jsx(Vh,{as:mn,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(Ee.div,{"data-state":Bv(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Wa="DialogContent",RE=m.forwardRef((e,t)=>{const s=AE(Wa,e.__scopeDialog),{forceMount:n=s.forceMount,...a}=e,i=Cr(Wa,e.__scopeDialog);return r.jsx(Us,{present:n||i.open,children:i.modal?r.jsx(CU,{...a,ref:t}):r.jsx(kU,{...a,ref:t})})});RE.displayName=Wa;var CU=m.forwardRef((e,t)=>{const s=Cr(Wa,e.__scopeDialog),n=m.useRef(null),a=He(t,s.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return Lh(i)},[]),r.jsx(IE,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:fe(e.onFocusOutside,i=>i.preventDefault())})}),kU=m.forwardRef((e,t)=>{const s=Cr(Wa,e.__scopeDialog),n=m.useRef(!1),a=m.useRef(!1);return r.jsx(IE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),IE=m.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Cr(Wa,s),c=m.useRef(null),d=He(t,c);return Ah(),r.jsxs(r.Fragment,{children:[r.jsx(bc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(No,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Bv(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(PU,{titleId:l.titleId}),r.jsx(TU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),qv="DialogTitle",OE=m.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=Cr(qv,s);return r.jsx(Ee.h2,{id:a.titleId,...n,ref:t})});OE.displayName=qv;var ME="DialogDescription",LE=m.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=Cr(ME,s);return r.jsx(Ee.p,{id:a.descriptionId,...n,ref:t})});LE.displayName=ME;var FE="DialogClose",VE=m.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,a=Cr(FE,s);return r.jsx(Ee.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,()=>a.onOpenChange(!1))})});VE.displayName=FE;function Bv(e){return e?"open":"closed"}var qE="DialogTitleWarning",[EU,BE]=E5(qE,{contentName:Wa,titleName:qv,docsSlug:"dialog"}),PU=({titleId:e})=>{const t=BE(qE),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},AU="DialogDescriptionWarning",TU=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BE(AU).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},$v=kE,Uv=PE,Hh=TE,kc=DE,Ec=RE,Pc=OE,Ac=LE,Wh=VE;const qs=$v,Tc=Uv,DU=Hh,$E=m.forwardRef(({className:e,...t},s)=>r.jsx(kc,{ref:s,className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));$E.displayName=kc.displayName;const _s=m.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(DU,{children:[r.jsx($E,{}),r.jsxs(Ec,{ref:n,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,r.jsxs(Wh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(yt,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_s.displayName=Ec.displayName;const Ss=({className:e,...t})=>r.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ss.displayName="DialogHeader";const xn=({className:e,...t})=>r.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xn.displayName="DialogFooter";const Cs=m.forwardRef(({className:e,...t},s)=>r.jsx(Pc,{ref:s,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));Cs.displayName=Pc.displayName;const Lu=m.forwardRef(({className:e,...t},s)=>r.jsx(Ac,{ref:s,className:le("text-sm text-muted-foreground",e),...t}));Lu.displayName=Ac.displayName;const vi=(...e)=>e.filter(Boolean).join(" "),Lb=e=>Number(e||0).toLocaleString("en-IN"),RU=e=>{switch((e||"").toLowerCase()){case"green":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"blue":return"bg-blue-50 text-blue-700 border-blue-200";case"purple":return"bg-purple-50 text-purple-700 border-purple-200";case"gold":return"bg-amber-50 text-amber-800 border-amber-200";case"diamond":return"bg-slate-50 text-slate-800 border-slate-200";case"slate":return"bg-slate-50 text-slate-700 border-slate-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},Fb=e=>{const t=(e||"").toLowerCase();return t.includes("trial")?r.jsx(br,{className:"w-5 h-5"}):t.includes("starter")?r.jsx(vx,{className:"w-5 h-5"}):t.includes("verified")?r.jsx($r,{className:"w-5 h-5"}):t.includes("boost")?r.jsx(R1,{className:"w-5 h-5"}):t.includes("silver")?r.jsx(j1,{className:"w-5 h-5"}):t.includes("gold")?r.jsx(px,{className:"w-5 h-5"}):t.includes("dimond")||t.includes("diamond")?r.jsx(RI,{className:"w-5 h-5"}):r.jsx(br,{className:"w-5 h-5"})},IU=()=>{var q,F,D;const{user:e}=fc(),[t,s]=m.useState([]),[n,a]=m.useState(null),[i,o]=m.useState(null),[l,c]=m.useState(!0),[d,u]=m.useState(null),[h,p]=m.useState(!1),[f,g]=m.useState(null),x=m.useMemo(()=>{if(!(t!=null&&t.length))return null;const S=t.filter(E=>Number(E.price||0)>0).sort((E,O)=>Number(E.price)-Number(O.price));return S.length>=2?S[Math.max(0,S.length-2)].id:S.length===1?S[0].id:t[0].id},[t]),w=S=>{var z,X,de,ue,te,ce,ne,he,xe,we,Se,qe,Fe,K,ee,Ne,Ie,$,J,ae,ge;const E=S==null?void 0:S.features;if(Array.isArray(E))return{badge:{label:S.name,variant:"neutral"},highlights:E.map(String),visibility:[],leads:[],support:[],analytics:[],coverage:[]};if(!E||typeof E!="object")return{badge:{label:S.name,variant:"neutral"},highlights:[],visibility:[],leads:[],support:[],analytics:[],coverage:[]};const O=E.badge||{label:S.name,variant:"neutral"},P=[],R=[],L=[],B=[],Q=[];typeof E.states_limit=="number"&&Q.push(`Up to ${E.states_limit} states`),typeof E.cities_limit=="number"&&Q.push(`Up to ${E.cities_limit} cities`),(z=E.listing)!=null&&z.highlight&&P.push("Highlighted listing"),(X=E.listing)!=null&&X.featured&&P.push("Featured listing"),(de=E.listing)!=null&&de.homepage_featured&&P.push("Homepage featured"),(ue=E.listing)!=null&&ue.category_top_ranking&&P.push("Category top ranking"),(te=E.listing)!=null&&te.home_category_boost&&P.push("Category boost"),typeof((ce=E.listing)==null?void 0:ce.top_slots)=="number"&&E.listing.top_slots>0&&P.push(`${E.listing.top_slots} top slots`),(ne=E.verification)!=null&&ne.trust_seal&&P.push("Trust seal"),(he=E.listing)!=null&&he.profile_verified_tick&&P.push("Verified tick on profile"),(xe=E.leads)!=null&&xe.priority_leads&&R.push("Priority leads"),(we=E.leads)!=null&&we.exclusive_leads&&R.push("Exclusive leads"),(Se=E.leads)!=null&&Se.early_access_leads&&R.push("Early access leads"),(qe=E.leads)!=null&&qe.rfq_access&&R.push("RFQ access"),(Fe=E.leads)!=null&&Fe.direct_call_whatsapp&&R.push("Direct call/WhatsApp"),(K=E.support)!=null&&K.level&&L.push(`${String(E.support.level).toUpperCase()} support`),(ee=E.support)!=null&&ee.response_sla_hours&&L.push(`SLA ${E.support.response_sla_hours} hrs`),(Ne=E.support)!=null&&Ne.account_manager&&L.push("Dedicated account manager"),(Ie=E.analytics)!=null&&Ie.enabled&&B.push("Analytics dashboard"),($=E.analytics)!=null&&$.export_csv&&B.push("Export reports (CSV)"),(J=E.analytics)!=null&&J.campaign_insights&&B.push("Campaign insights"),(ae=E.analytics)!=null&&ae.competitor_insights&&B.push("Competitor insights");const W=[];return O!=null&&O.label&&W.push(`Badge: ${O.label}`),(ge=E.verification)!=null&&ge.kyc_required&&W.push("KYC required"),{badge:O,highlights:W,visibility:P,leads:R,support:L,analytics:B,coverage:Q}};m.useEffect(()=>{e&&!d&&(async()=>{try{const{data:{user:E}}=await j.auth.getUser();if(!E)return;const{data:O,error:P}=await j.from("vendors").select("id").eq("user_id",E.id).maybeSingle();if(P)throw P;u((O==null?void 0:O.id)||null)}catch(E){console.error("Error fetching vendor ID:",E)}})()},[e,d]),m.useEffect(()=>{d&&y()},[d]);const y=async()=>{c(!0);try{const{data:S,error:E}=await j.from("vendor_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(E)throw E;s(S||[]);const{data:O,error:P}=await j.from("vendor_plan_subscriptions").select("*, plan:vendor_plans(id,name,price)").eq("vendor_id",d).eq("status","ACTIVE").order("created_at",{ascending:!1}).limit(1);if(P)throw P;const R=O&&O.length>0?O[0]:null;a(R);const{data:L,error:B}=await j.from("vendor_lead_quota").select("*").eq("vendor_id",d).maybeSingle();if(B)throw B;o(L)}catch(S){console.error("Error loading subscription data:",S)}finally{c(!1)}},v=async S=>{if(!d){M({title:"Error",description:"Vendor ID not found",variant:"destructive"});return}M({title:"Processing...",description:`Subscribing to ${S.name}`});try{n&&n.id&&await j.from("vendor_plan_subscriptions").update({status:"INACTIVE"}).eq("id",n.id);const E=new Date,O=new Date(E.getTime()+365*24*60*60*1e3);await j.from("vendor_plan_subscriptions").insert({vendor_id:d,plan_id:S.id,start_date:E.toISOString(),end_date:O.toISOString(),status:"ACTIVE",plan_duration_days:365,auto_renewal_enabled:!1,renewal_notification_sent:!1}),M({title:"Success!",description:"Plan activated."}),p(!1),setTimeout(()=>y(),500)}catch(E){console.error("Subscription error:",E),M({title:"Error",description:E.message,variant:"destructive"}),setTimeout(()=>y(),500)}},b=S=>!S||S.status!=="ACTIVE"?!1:new Date(S.end_date)>new Date,N=S=>{if(!(S!=null&&S.end_date))return 0;const E=new Date(S.end_date),P=Math.ceil((E-new Date)/(1e3*60*60*24));return Math.max(0,P)},k=async()=>{if(!d){M({title:"Error",description:"Vendor ID not found",variant:"destructive"});return}if(!b(n)){M({title:"No Active Subscription",description:"Please subscribe to a plan to purchase additional leads.",variant:"destructive"});return}if(window.confirm("Buy 10 additional leads for 1500?"))try{await j.from("vendor_additional_leads").insert({vendor_id:d,leads_purchased:10,leads_remaining:10,amount_paid:1500}),M({title:"Leads Purchased",description:"10 leads added to your account."}),y()}catch(S){M({title:"Error",description:S.message,variant:"destructive"})}},T=S=>{g(S),p(!0)},A=S=>{const E=w(S),O=[{title:"Visibility",icon:r.jsx(br,{className:"w-4 h-4"}),items:E.visibility},{title:"Leads",icon:r.jsx(R1,{className:"w-4 h-4"}),items:E.leads},{title:"Support",icon:r.jsx(k1,{className:"w-4 h-4"}),items:E.support},{title:"Analytics",icon:r.jsx(hx,{className:"w-4 h-4"}),items:E.analytics},{title:"Coverage",icon:r.jsx(kt,{className:"w-4 h-4"}),items:E.coverage}].filter(R=>(R.items||[]).length>0),P=O.flatMap(R=>R.items.map(L=>({group:R.title,text:L})));return{meta:E,groups:O,keyBenefits:P}};if(l)return r.jsx("div",{className:"flex items-center justify-center min-h-[420px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(vx,{className:"w-12 h-12 text-slate-300 mx-auto mb-2 animate-pulse"}),r.jsx("p",{className:"text-slate-500",children:"Loading subscription plans..."})]})});const _=f?A(f):null,C=f&&(n==null?void 0:n.plan_id)===f.id,I=f&&f.id===x;return r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"rounded-2xl border bg-white p-6 md:p-8 shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:"Subscription Plans"}),r.jsx("p",{className:"text-slate-600 mt-1",children:"Choose a plan to get more visibility, more leads, and premium support."})]}),r.jsxs("div",{className:"flex gap-2 items-center flex-col sm:flex-row",children:[n&&r.jsxs("div",{className:vi("px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2 whitespace-nowrap",b(n)?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-red-50 text-red-700 border border-red-200"),children:[r.jsx(px,{className:"w-4 h-4"}),b(n)?r.jsxs("span",{children:[N(n)," days left"]}):r.jsx("span",{children:"Plan Expired"})]}),r.jsxs(V,{variant:"outline",onClick:k,disabled:!b(n),className:vi("bg-white",!b(n)&&"opacity-50 cursor-not-allowed"),title:b(n)?"":"Please subscribe to a plan first",children:[r.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Buy Leads"]})]})]}),i&&r.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-3",children:[{label:"Daily",used:i.daily_used,limit:i.daily_limit},{label:"Weekly",used:i.weekly_used,limit:i.weekly_limit},{label:"Yearly",used:i.yearly_used,limit:i.yearly_limit}].map(S=>r.jsxs("div",{className:"rounded-xl border bg-gradient-to-b from-slate-50 to-white p-4",children:[r.jsxs("div",{className:"text-xs text-slate-500 uppercase",children:[S.label," Usage"]}),r.jsxs("div",{className:"mt-1 text-xl font-bold text-slate-900",children:[S.used," ",r.jsxs("span",{className:"text-slate-400 text-sm",children:["/ ",S.limit]})]}),r.jsx("div",{className:"mt-2 h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-slate-900/80",style:{width:`${Math.min(100,Number(S.used||0)/Math.max(1,Number(S.limit||0))*100)}%`}})})]},S.label))})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:t.map(S=>{const E=(n==null?void 0:n.plan_id)===S.id,O=S.id===x,{meta:P,keyBenefits:R}=A(S),L=P.badge||{},B=L.label||S.name,Q=L.variant||"neutral",W=R.slice(0,3),z=Math.max(0,R.length-W.length);return r.jsxs(ve,{role:"button",tabIndex:0,onClick:()=>T(S),onKeyDown:X=>{(X.key==="Enter"||X.key===" ")&&T(S)},className:vi("relative overflow-hidden rounded-2xl transition-all cursor-pointer outline-none","bg-white border shadow-sm hover:shadow-md hover:-translate-y-[1px]",O&&!E?"border-blue-300 ring-1 ring-blue-100":"",E?"border-emerald-300 ring-2 ring-emerald-200 shadow-md":""),children:[r.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-slate-200 via-slate-300 to-slate-200"}),O&&!E&&r.jsx("div",{className:"absolute top-3 right-3 text-[11px] px-2.5 py-1 rounded-full border bg-blue-50 text-blue-700 border-blue-200 font-semibold",children:"MOST POPULAR"}),E&&r.jsx("div",{className:"absolute top-3 right-3 text-[11px] px-2.5 py-1 rounded-full border bg-emerald-50 text-emerald-700 border-emerald-200 font-semibold",children:"CURRENT PLAN"}),r.jsxs(De,{className:"pb-2",children:[r.jsx("div",{className:"flex items-start justify-between gap-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl border bg-slate-50 flex items-center justify-center text-slate-900",children:Fb(S.name)}),r.jsxs("div",{children:[r.jsx(Re,{className:"text-base",children:S.name}),r.jsx("div",{className:vi("mt-1 inline-flex items-center gap-2 text-[11px] px-2 py-1 rounded-full border font-medium",RU(Q)),children:B})]})]})}),r.jsx("div",{className:"mt-3 flex items-end justify-between",children:r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-extrabold text-slate-900",children:["",Lb(S.price),r.jsx("span",{className:"text-xs font-medium text-slate-500",children:"/year"})]}),r.jsx("div",{className:"text-[12px] text-slate-500 mt-1",children:"Tap card to view full details"})]})})]}),r.jsxs(_e,{className:"space-y-3",children:[r.jsxs("div",{className:"rounded-xl border bg-slate-50 px-3 py-3",children:[r.jsx("div",{className:"text-[11px] font-semibold text-slate-700 mb-2",children:"Lead Limits"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[r.jsxs("div",{className:"rounded-lg bg-white border px-2 py-2",children:[r.jsx("div",{className:"text-[10px] text-slate-500",children:"Daily"}),r.jsx("div",{className:"text-sm font-bold text-slate-900",children:S.daily_limit})]}),r.jsxs("div",{className:"rounded-lg bg-white border px-2 py-2",children:[r.jsx("div",{className:"text-[10px] text-slate-500",children:"Weekly"}),r.jsx("div",{className:"text-sm font-bold text-slate-900",children:S.weekly_limit})]}),r.jsxs("div",{className:"rounded-lg bg-white border px-2 py-2",children:[r.jsx("div",{className:"text-[10px] text-slate-500",children:"Yearly"}),r.jsx("div",{className:"text-sm font-bold text-slate-900",children:S.yearly_limit})]})]})]}),(P.highlights||[]).length>0&&r.jsxs("div",{className:"flex flex-wrap gap-2",children:[P.highlights.slice(0,2).map((X,de)=>r.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full border bg-white text-slate-700",children:X},de)),P.highlights.length>2&&r.jsxs("span",{className:"text-[11px] px-2 py-1 rounded-full border bg-white text-slate-500",children:["+",P.highlights.length-2," more"]})]}),r.jsxs("div",{className:"space-y-2",children:[W.map((X,de)=>r.jsxs("div",{className:"flex gap-2 text-sm text-slate-700",children:[r.jsx(Hi,{className:"w-4 h-4 text-emerald-600 mt-[2px]"}),r.jsx("span",{children:X.text})]},de)),z>0&&r.jsxs("div",{className:"text-xs text-slate-500 pl-6",children:["+ ",z," more benefits"]})]})]}),r.jsx(Sc,{className:"pt-1",children:r.jsx(V,{className:vi("w-full rounded-xl h-10 font-semibold",E?"bg-white text-slate-900 border border-slate-200 hover:bg-slate-50":""),variant:E?"outline":"default",disabled:E,onClick:X=>{X.stopPropagation(),E||v(S)},children:E?"Active Plan":"Upgrade"})})]},S.id)})}),r.jsx(qs,{open:h,onOpenChange:p,children:r.jsx(_s,{className:"max-w-3xl",children:f?r.jsxs(r.Fragment,{children:[r.jsxs(Ss,{children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-11 h-11 rounded-xl border bg-slate-50 flex items-center justify-center text-slate-900",children:Fb(f.name)}),r.jsxs("div",{children:[r.jsx(Cs,{className:"text-xl",children:f.name}),r.jsx(Lu,{className:"mt-1",children:"Full plan details  Price & benefits"})]})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2",children:[I&&!C&&r.jsx("div",{className:"text-[11px] px-2.5 py-1 rounded-full border bg-blue-50 text-blue-700 border-blue-200 font-semibold",children:"MOST POPULAR"}),C&&r.jsx("div",{className:"text-[11px] px-2.5 py-1 rounded-full border bg-emerald-50 text-emerald-700 border-emerald-200 font-semibold",children:"CURRENT PLAN"})]})]}),r.jsx("div",{className:"mt-4 flex items-end justify-between",children:r.jsxs("div",{className:"text-3xl font-extrabold text-slate-900",children:["",Lb(f.price),r.jsx("span",{className:"text-sm font-medium text-slate-500",children:"/year"})]})})]}),r.jsxs("div",{className:"mt-4 max-h-[60vh] overflow-y-auto pr-2 space-y-4",children:[r.jsxs("div",{className:"rounded-xl border bg-slate-50 p-4",children:[r.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Lead Limits"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[r.jsxs("div",{className:"rounded-lg bg-white border p-2",children:[r.jsx("div",{className:"text-[11px] text-slate-500",children:"Daily"}),r.jsx("div",{className:"text-sm font-bold text-slate-900",children:f.daily_limit})]}),r.jsxs("div",{className:"rounded-lg bg-white border p-2",children:[r.jsx("div",{className:"text-[11px] text-slate-500",children:"Weekly"}),r.jsx("div",{className:"text-sm font-bold text-slate-900",children:f.weekly_limit})]}),r.jsxs("div",{className:"rounded-lg bg-white border p-2",children:[r.jsx("div",{className:"text-[11px] text-slate-500",children:"Yearly"}),r.jsx("div",{className:"text-sm font-bold text-slate-900",children:f.yearly_limit})]})]})]}),((F=(q=_==null?void 0:_.meta)==null?void 0:q.highlights)==null?void 0:F.length)>0&&r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Highlights"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:_.meta.highlights.map((S,E)=>r.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full border bg-white text-slate-700",children:S},E))})]}),r.jsx("div",{className:"space-y-3",children:(D=_==null?void 0:_.groups)==null?void 0:D.map(S=>r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[r.jsx("span",{className:"text-slate-600",children:S.icon}),S.title]}),r.jsx("div",{className:"mt-3 space-y-2",children:S.items.map((E,O)=>r.jsxs("div",{className:"flex gap-2 text-sm text-slate-700",children:[r.jsx(Hi,{className:"w-4 h-4 text-emerald-600 mt-[2px]"}),r.jsx("span",{children:E})]},O))})]},S.title))})]}),r.jsx(xn,{className:"mt-4",children:r.jsx(V,{className:vi("w-full rounded-xl h-11 font-semibold",C?"bg-white text-slate-900 border border-slate-200 hover:bg-slate-50":""),variant:C?"outline":"default",disabled:C,onClick:()=>v(f),children:C?"Active Plan":"Upgrade"})})]}):null})})]})},Gr=m.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));Gr.displayName="Textarea";const OU=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!0),[a,i]=m.useState(!1),[o,l]=m.useState({subject:"",category:"",description:"",priority:"Medium"}),[c,d]=m.useState(!1);m.useEffect(()=>{u()},[]);const u=async()=>{try{const p=await je.support.getTickets();t(p||[])}catch(p){console.error(p)}finally{n(!1)}},h=async()=>{if(!o.subject||!o.description||!o.category){M({title:"Please fill all fields",variant:"destructive"});return}d(!0);try{await je.support.createTicket(o),i(!1),l({subject:"",category:"",description:"",priority:"Medium"}),u(),M({title:"Ticket Created"})}catch{M({title:"Error creating ticket",variant:"destructive"})}finally{d(!1)}};return r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Support Tickets"}),r.jsxs(qs,{open:a,onOpenChange:i,children:[r.jsx(Tc,{asChild:!0,children:r.jsxs(V,{className:"bg-[#003D82]",children:[r.jsx(_1,{className:"mr-2 h-4 w-4"})," New Ticket"]})}),r.jsxs(_s,{children:[r.jsx(Ss,{children:r.jsx(Cs,{children:"Create Support Ticket"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Subject"}),r.jsx(H,{value:o.subject,onChange:p=>l({...o,subject:p.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Category"}),r.jsxs(tt,{onValueChange:p=>l({...o,category:p}),children:[r.jsx(Je,{children:r.jsx(st,{placeholder:"Select"})}),r.jsxs(Qe,{children:[r.jsx(ye,{value:"Technical",children:"Technical Issue"}),r.jsx(ye,{value:"Billing",children:"Billing & Payments"}),r.jsx(ye,{value:"Account",children:"Account Management"}),r.jsx(ye,{value:"Other",children:"Other"})]})]})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Priority will be set by our support team based on urgency."}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Description"}),r.jsx(Gr,{value:o.description,onChange:p=>l({...o,description:p.target.value})})]}),r.jsxs(V,{className:"w-full bg-[#003D82]",onClick:h,disabled:c,children:[c?r.jsx(pe,{className:"animate-spin mr-2 h-4 w-4"}):null," Submit Ticket"]})]})]})]})]}),r.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 shadow-sm overflow-hidden",children:s?r.jsx("div",{className:"p-8 text-center",children:r.jsx(pe,{className:"animate-spin mx-auto h-8 w-8 text-gray-400"})}):e.length===0?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"No tickets found."}):r.jsx("div",{className:"divide-y divide-neutral-100",children:e.map(p=>r.jsx(re,{to:`/vendor/support/${p.id}`,className:"block hover:bg-neutral-50 p-4 transition-colors",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-full text-blue-600",children:r.jsx(T1,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-neutral-900",children:p.subject}),r.jsxs("p",{className:"text-xs text-neutral-500",children:["ID: #",p.ticket_display_id||p.id.slice(0,8),"  ",new Date(p.created_at).toLocaleDateString()]})]})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsx(Me,{variant:p.status==="OPEN"?"warning":p.status==="CLOSED"?"secondary":"default",children:p.status})})]})},p.id))})})]})},Vb=async()=>{const{data:{user:e}}=await j.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:s}=await j.from("vendors").select("id").eq("user_id",e.id).single();if(s||!t)throw new Error("Vendor not found");return t.id},sp={upload:async(e,t)=>{const s=await Vb();if(!s)throw new Error("No vendor found");const n=e.name.split(".").pop(),a=`kyc/${s}/${t}_${Date.now()}.${n}`,{error:i}=await j.storage.from("objects").upload(a,e);if(i)throw i;const{data:o}=j.storage.from("objects").getPublicUrl(a),{data:l,error:c}=await j.from("vendor_documents").insert([{vendor_id:s,document_type:t,document_url:o.publicUrl,original_name:e.name,verification_status:"PENDING"}]).select().single();if(c)throw c;return l},list:async()=>{const e=await Vb();if(!e)return[];const{data:t,error:s}=await j.from("vendor_documents").select("*").eq("vendor_id",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]},delete:async e=>{const{error:t}=await j.from("vendor_documents").delete().eq("id",e);if(t)throw t}},MU=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!1),[a,i]=m.useState(!0);m.useEffect(()=>{o()},[]);const o=async()=>{try{const h=await sp.list();t(h||[])}catch(h){console.error("Error loading documents:",h),M({title:"Failed to load documents",description:h.message,variant:"destructive"})}finally{i(!1)}},l=async(h,p)=>{const f=h.target.files[0];if(f){n(!0);try{await sp.upload(f,p),M({title:"Upload successful"}),o()}catch(g){console.error("Upload error:",g),M({title:"Upload failed",description:g.message,variant:"destructive"})}finally{n(!1)}}},c=async h=>{if(window.confirm("Are you sure?"))try{await sp.delete(h),t(e.filter(p=>p.id!==h)),M({title:"Deleted successfully"})}catch(p){console.error("Delete error:",p),M({title:"Delete failed",description:p.message,variant:"destructive"})}},d=e.filter(h=>["gst","pan","aadhar","bank_statement"].includes(h.document_type)),u=e.filter(h=>!["gst","pan","aadhar","bank_statement"].includes(h.document_type));return a?r.jsx("div",{children:"Loading documents..."}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Documents & KYC"}),r.jsxs(oi,{defaultValue:"kyc",className:"space-y-6",children:[r.jsxs(ma,{children:[r.jsx(Rt,{value:"kyc",children:"KYC Documents"}),r.jsx(Rt,{value:"other",children:"Other Documents"})]}),r.jsx(vt,{value:"kyc",className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:["gst","pan","aadhar","bank_statement"].map(h=>r.jsx(ve,{className:"border-dashed border-2 hover:border-blue-500 transition-colors",children:r.jsxs(_e,{className:"p-6 flex flex-col items-center text-center space-y-4",children:[r.jsx("div",{className:"bg-blue-50 p-3 rounded-full",children:r.jsx(Qt,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h3",{className:"font-semibold capitalize",children:h.replace("_"," ")}),d.find(p=>p.document_type===h)?r.jsxs("div",{className:"w-full space-y-2",children:[r.jsx(Me,{variant:"success",className:"w-full justify-center",children:"Uploaded"}),r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsx(V,{size:"sm",variant:"outline",asChild:!0,children:r.jsx("a",{href:d.find(p=>p.document_type===h).document_url,target:"_blank",rel:"noreferrer",children:r.jsx(Xn,{className:"w-3 h-3"})})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>c(d.find(p=>p.document_type===h).id),children:r.jsx(vr,{className:"w-3 h-3"})})]})]}):r.jsxs(V,{className:"w-full relative",disabled:s,children:[s?r.jsx(pe,{className:"w-3 h-3 animate-spin mr-2"}):r.jsx(Ur,{className:"w-3 h-3 mr-2"}),"Upload",r.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:p=>l(p,h)})]})]})},h))})}),r.jsxs(vt,{value:"other",className:"space-y-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs(V,{className:"relative bg-[#003D82]",disabled:s,children:[s?r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Upload General Document",r.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.png",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:h=>l(h,"general"),disabled:s})]})}),r.jsxs("div",{className:"space-y-2",children:[u.map(h=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-gray-100 p-2 rounded",children:r.jsx(Qt,{className:"h-5 w-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:h.original_name||"Document"}),r.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(h.uploaded_at).toLocaleDateString(),"  ",h.document_type]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",asChild:!0,children:r.jsx("a",{href:h.document_url,target:"_blank",rel:"noreferrer",children:r.jsx(PI,{className:"w-4 h-4"})})}),r.jsx(V,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>c(h.id),children:r.jsx(vr,{className:"h-4 w-4"})})]})]},h.id)),u.length===0&&r.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:r.jsx("p",{className:"text-gray-500",children:"No additional documents uploaded."})})]})]})]})]})},UE=6,rp=2,np=()=>typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),zv="/.netlify/functions/otp";function LU(){let e="";for(let t=0;t<UE;t++)e+=Math.floor(Math.random()*10);return e}function FU(e){return!!e&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}async function zE(e){if(!FU(e))throw new Error("Invalid email format");const t=LU(),s=new Date(Date.now()+rp*60*1e3).toISOString();await j.from("auth_otps").delete().eq("email",e).eq("used",!1);const{error:n}=await j.from("auth_otps").insert([{email:e,otp_code:t,expires_at:s,used:!1}]);if(n)throw new Error("Failed to generate OTP");const a=`
${"=".repeat(60)}
[LOCAL DEVELOPMENT - OTP CODE]
Email: ${e}
OTP Code: ${t}
Expires in: ${rp} minutes
${"=".repeat(60)}
`;return console.warn(a),console.log(a),{success:!0,message:`OTP Code: ${t}

Check browser console for the code.
This OTP is also saved in database.`,expiresIn:rp*60,otp:t,email:e}}async function VU(e,t){if(!e||!t)throw new Error("Email and OTP code are required");const{data:s,error:n}=await j.from("auth_otps").select("*").eq("email",e).eq("otp_code",String(t)).eq("used",!1).gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(n)throw new Error("Verification failed");if(!s)throw new Error("Invalid or expired OTP code");return await j.from("auth_otps").update({used:!0}).eq("id",s.id),{success:!0,message:"OTP verified successfully",email:e}}async function qU(e){return zE(e)}async function BU(e){const t=await fetch(`${zv}/request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok){const s=await t.json().catch(()=>({}));throw new Error(s.error||"Failed to send OTP")}return await t.json()}async function $U(e,t){const s=await fetch(`${zv}/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp_code:t})});if(!s.ok){const n=await s.json().catch(()=>({}));throw new Error(n.error||"Invalid or expired OTP code")}return await s.json()}async function UU(e){const t=await fetch(`${zv}/resend`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok){const s=await t.json().catch(()=>({}));throw new Error(s.error||"Failed to resend OTP")}return await t.json()}const Dr={generateOtp:()=>{let e="";for(let t=0;t<UE;t++)e+=Math.floor(Math.random()*10);return e},requestOtp:async e=>{try{if(!e)throw new Error("Email is required");return np()?await zE(e):await BU(e)}catch(t){throw console.error("Request OTP Error:",t),t}},verifyOtp:async(e,t)=>{try{if(!e||!t)throw new Error("Email and OTP code are required");return np()?await VU(e,t):await $U(e,t)}catch(s){throw console.error("Verify OTP Error:",s),s}},resendOtp:async e=>{try{if(!e)throw new Error("Email is required");return np()?await qU(e):await UU(e)}catch(t){throw console.error("Resend OTP Error:",t),t}},createAuthUser:async(e,t,s={})=>{try{if(!e||!t)throw new Error("Email and password are required");const{data:n,error:a}=await j.auth.signUp({email:e,password:t,options:{data:{...s,role:s.role||"VENDOR",email_verified:!0}}});if(a)throw a;return n}catch(n){throw console.error("Create Auth User Error:",n),n}}},_r=({className:e="h-12",showTagline:t=!0,variant:s="dark"})=>r.jsxs(re,{to:"/",className:`flex items-center gap-3 group ${e}`,children:[r.jsx("div",{className:"relative flex-shrink-0",children:r.jsx("img",{src:"https://eimager.com/images/itm.png",alt:"IndianTradeMART Logo",className:"h-12 w-12 object-contain"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("h1",{className:`text-xl md:text-2xl font-bold tracking-tight leading-none ${s==="light"?"text-white":"text-[#8B6F47]"}`,children:["INDIAN TRADE ",r.jsx("span",{className:s==="light"?"text-green-400":"text-[#059669]",children:"MART"})]}),t&&r.jsx("span",{className:`text-[10px] md:text-xs uppercase tracking-widest font-medium ${s==="light"?"text-gray-300":"text-gray-500"}`,children:"Connect & Grow"})]})]}),zU=({currentStep:e})=>r.jsx("div",{className:"flex justify-center mb-8",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${e>=1?"bg-[#003D82] text-white":"bg-gray-200 text-gray-500"}`,children:"1"}),r.jsx("div",{className:`w-12 h-1 ${e>=2?"bg-[#003D82]":"bg-gray-200"}`}),r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${e>=2?"bg-[#003D82] text-white":"bg-gray-200 text-gray-500"}`,children:"2"}),r.jsx("div",{className:`w-12 h-1 ${e>=3?"bg-[#003D82]":"bg-gray-200"}`}),r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${e>=3?"bg-[#003D82] text-white":"bg-gray-200 text-gray-500"}`,children:"3"})]})}),HU=()=>{const e=Ue(),[t,s]=m.useState(1),[n,a]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState(120),[d,u]=m.useState([]),[h,p]=m.useState([]),[f,g]=m.useState({companyName:"",gstNumber:"",address:"",ownerName:"",email:"",phone:"",password:"",confirmPassword:"",stateId:"",cityId:"",stateName:"",cityName:"",otp:""});m.useEffect(()=>{x()},[]),m.useEffect(()=>{if(t===3&&l>0){const T=setInterval(()=>c(A=>A-1),1e3);return()=>clearInterval(T)}},[t,l]);const x=async()=>{try{const T=await je.getStates();u(T||[])}catch(T){console.error(T),M({title:"Error",description:"Failed to load states",variant:"destructive"})}},w=async T=>{const A=d.find(_=>_.id===T);if(g(_=>({..._,stateId:T,stateName:(A==null?void 0:A.name)||"",cityId:"",cityName:""})),p([]),T){o(!0);try{const _=await je.getCities(T);p(_||[])}catch(_){console.error(_),M({title:"Error",description:"Failed to load cities",variant:"destructive"})}finally{o(!1)}}},y=T=>{const A=h.find(_=>_.id===T);g(_=>({..._,cityId:T,cityName:(A==null?void 0:A.name)||""}))},v=T=>{if(T.preventDefault(),!f.companyName||!f.gstNumber){M({title:"Missing Fields",description:"Company Name and GST Number are required",variant:"destructive"});return}if(!f.stateId||!f.cityId){M({title:"Missing Location",description:"Please select both State and City",variant:"destructive"});return}s(2)},b=async T=>{if(T.preventDefault(),f.password!==f.confirmPassword){M({title:"Password Mismatch",description:"Passwords do not match",variant:"destructive"});return}if(f.password.length<8){M({title:"Weak Password",description:"Password must be at least 8 characters",variant:"destructive"});return}if(f.phone.length!==10){M({title:"Invalid Phone",description:"Phone number must be 10 digits",variant:"destructive"});return}a(!0);try{await Dr.requestOtp(f.email),s(3),c(120),M({title:"OTP Sent",description:"A 6-digit code has been sent to your email. It will expire in 2 minutes."})}catch(A){M({title:"Registration Failed",description:A.message,variant:"destructive"})}finally{a(!1)}},N=async T=>{if(T.preventDefault(),f.otp.length!==6){M({title:"Invalid OTP",description:"Please enter a valid 6-digit code.",variant:"destructive"});return}a(!0);try{await Dr.verifyOtp(f.email,f.otp);const A=await Dr.createAuthUser(f.email,f.password,{full_name:f.ownerName});if(!(A!=null&&A.user))throw new Error("Failed to create auth user");await je.registerVendor({userId:A.user.id,...f});try{const{error:_}=await j.from("vendors").update({is_verified:!0,verified_at:new Date().toISOString(),is_active:!0}).eq("user_id",A.user.id);_&&console.warn("Verify error:",_)}catch(_){console.warn("Verification update error:",_)}A.session&&await j.auth.setSession(A.session),M({title:"Registration Successful!",description:"Your account is verified. Redirecting to dashboard...",className:"bg-green-50 border-green-200"}),setTimeout(()=>e("/vendor/dashboard"),500)}catch(A){console.error("OTP Verification Error:",A),M({title:"Verification Failed",description:A.message||"Invalid or expired OTP code. Please try again.",variant:"destructive"})}finally{a(!1)}},k=async()=>{try{await Dr.resendOtp(f.email),c(120),g(T=>({...T,otp:""})),M({title:"OTP Resent",description:"A new 6-digit code has been sent to your email."})}catch(T){console.error("Resend OTP Error:",T),M({title:"Error",description:T.message||"Failed to resend OTP. Please try again.",variant:"destructive"})}};return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs(ve,{className:"w-full max-w-lg shadow-lg",children:[r.jsxs(De,{className:"text-center space-y-2",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{type:"button",onClick:()=>e("/"),className:"inline-flex items-center justify-center hover:opacity-90 transition","aria-label":"Go to home",children:r.jsx(_r,{className:"h-12 w-auto"})})}),r.jsx(Re,{className:"text-2xl font-bold text-[#003D82]",children:"Vendor Registration"}),r.jsx(Rs,{children:"Join India's leading B2B marketplace"})]}),r.jsxs(_e,{children:[r.jsx(zU,{currentStep:t}),t===1&&r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Company Name *"}),r.jsx(H,{value:f.companyName,onChange:T=>g({...f,companyName:T.target.value}),placeholder:"e.g. Acme Industries",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"GST Number *"}),r.jsx(H,{value:f.gstNumber,onChange:T=>g({...f,gstNumber:T.target.value.toUpperCase()}),placeholder:"22AAAAA0000A1Z5",maxLength:15,required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Registered Address (Optional)"}),r.jsx(H,{value:f.address,onChange:T=>g({...f,address:T.target.value}),placeholder:"Street address"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"State *"}),r.jsxs(tt,{onValueChange:w,value:f.stateId,required:!0,children:[r.jsx(Je,{children:r.jsx(st,{placeholder:"Select State"})}),r.jsx(Qe,{className:"max-h-[200px]",children:d.map(T=>r.jsx(ye,{value:T.id,children:T.name},T.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"City *"}),r.jsxs(tt,{onValueChange:y,value:f.cityId,disabled:!f.stateId||i,required:!0,children:[r.jsx(Je,{children:r.jsx(st,{placeholder:i?"Loading...":"Select City"})}),r.jsx(Qe,{className:"max-h-[200px]",children:h.map(T=>r.jsx(ye,{value:T.id,children:T.name},T.id))})]})]})]}),r.jsxs(V,{type:"submit",className:"w-full bg-[#003D82]",children:["Next ",r.jsx(Qa,{className:"ml-2 w-4 h-4"})]}),r.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Already registered?"," ",r.jsx(re,{to:"/vendor/login",className:"text-[#003D82] font-semibold",children:"Login here"})]})]}),t===2&&r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Owner Name *"}),r.jsx(H,{required:!0,value:f.ownerName,onChange:T=>g({...f,ownerName:T.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Mobile Number *"}),r.jsx(H,{required:!0,type:"tel",maxLength:10,value:f.phone,onChange:T=>g({...f,phone:T.target.value.replace(/\D/g,"")})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Email Address *"}),r.jsx(H,{required:!0,type:"email",value:f.email,onChange:T=>g({...f,email:T.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Password *"}),r.jsx(H,{required:!0,type:"password",value:f.password,onChange:T=>g({...f,password:T.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Confirm Password *"}),r.jsx(H,{required:!0,type:"password",value:f.confirmPassword,onChange:T=>g({...f,confirmPassword:T.target.value})})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(V,{type:"button",variant:"outline",onClick:()=>s(1),className:"w-1/3",children:[r.jsx(Vr,{className:"mr-2 w-4 h-4"})," Back"]}),r.jsxs(V,{type:"submit",className:"w-2/3 bg-[#003D82]",disabled:n,children:[n?r.jsx(pe,{className:"animate-spin mr-2"}):null," Register"]})]})]}),t===3&&r.jsxs("form",{onSubmit:N,className:"space-y-6 text-center",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-[#003D82] mb-4",children:r.jsx(os,{className:"w-6 h-6"})}),r.jsx("h3",{className:"text-lg font-semibold",children:"Verify Your Email"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["We've sent a ",r.jsx("b",{children:"6-digit"})," code to ",r.jsx("span",{className:"font-bold text-gray-800",children:f.email})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(H,{value:f.otp,onChange:T=>g({...f,otp:T.target.value.replace(/\D/g,"").slice(0,6)}),className:"text-center text-2xl tracking-[0.5em] h-14",placeholder:"000000",maxLength:6,inputMode:"numeric",autoComplete:"one-time-code"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 px-2",children:[r.jsxs("span",{children:["Expires in ",Math.floor(l/60),":",(l%60).toString().padStart(2,"0")]}),l===0?r.jsx("button",{type:"button",onClick:k,className:"text-blue-600 hover:underline",children:"Resend OTP"}):r.jsx("span",{className:"text-gray-300",children:"Resend OTP"})]})]}),r.jsxs(V,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:n,children:[n?r.jsx(pe,{className:"animate-spin mr-2"}):null," Verify & Create Account"]})]})]})]})})},WU=()=>{const e=Ue(),[t,s]=m.useState(!1),[n,a]=m.useState({email:"",password:""}),i=async o=>{o.preventDefault(),s(!0);try{let l=null,c=null;if({data:l,error:c}=await j.auth.signInWithPassword({email:n.email,password:n.password}),c)if(c.message.includes("Email not confirmed")||c.code==="email_not_confirmed")try{M({title:"Verifying email...",description:"Please wait."}),await new Promise(p=>setTimeout(p,1e3));const{data:u,error:h}=await j.auth.signInWithPassword({email:n.email,password:n.password});if(h)throw h;l=u}catch{M({title:"Email Unverified",description:"Your email needs to be verified. Please contact support.",variant:"destructive"});return}else throw c;const d=await je.getVendorProfile(l.user.id);if(!d){M({title:"Profile Missing",description:"Vendor profile not found. Please register.",variant:"destructive"});return}if(!d.is_verified){M({title:"Account Unverified",description:"Redirecting to verification...",variant:"warning"}),e("/vendor/verify",{state:{email:n.email}});return}M({title:"Welcome back!",description:"Logged in successfully."}),e("/vendor/dashboard")}catch(l){M({title:"Login Failed",description:l.message||"Invalid credentials",variant:"destructive"})}finally{s(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:[r.jsx("div",{className:"mb-8",children:r.jsx(_r,{})}),r.jsxs(ve,{className:"w-full max-w-md shadow-lg border-t-4 border-t-[#003D82]",children:[r.jsxs(De,{className:"space-y-1",children:[r.jsx(Re,{className:"text-2xl font-bold text-center text-[#003D82]",children:"Vendor Login"}),r.jsx(Rs,{className:"text-center",children:"Access your seller dashboard"})]}),r.jsx(_e,{children:r.jsxs("form",{onSubmit:i,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"email",children:"Email Address"}),r.jsx(H,{id:"email",type:"email",placeholder:"vendor@company.com",value:n.email,onChange:o=>a({...n,email:o.target.value}),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(U,{htmlFor:"password",children:"Password"}),r.jsx(re,{to:"/vendor/forgot-password",className:"text-sm text-[#003D82] hover:underline",children:"Forgot password?"})]}),r.jsx(H,{id:"password",type:"password",value:n.password,onChange:o=>a({...n,password:o.target.value}),required:!0})]}),r.jsxs(V,{type:"submit",className:"w-full bg-[#003D82] hover:bg-[#002d62]",disabled:t,children:[t?r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}):null," Sign In"]})]})}),r.jsx(Sc,{className:"flex justify-center border-t p-4 bg-gray-50 rounded-b-lg",children:r.jsxs("div",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",r.jsxs(re,{to:"/vendor/register",className:"font-semibold text-[#003D82] hover:underline inline-flex items-center",children:["Register Now ",r.jsx(Qa,{className:"ml-1 w-3 h-3"})]})]})})]}),r.jsxs("p",{className:"mt-8 text-center text-sm text-gray-500",children:[" ",new Date().getFullYear()," IndianTradeMart. All rights reserved."]})]})},KU=()=>{const e=Ue(),t=Zt(),[s,n]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState(!1),[c,d]=m.useState(120);m.useEffect(()=>{(async()=>{var g;if((g=t.state)!=null&&g.email)n(t.state.email);else{const{data:{user:x}}=await j.auth.getUser();x!=null&&x.email?n(x.email):(M({title:"Session Expired",description:"Please login again to verify.",variant:"destructive"}),e("/vendor/login"))}})()},[t,e]),m.useEffect(()=>{if(c>0){const f=setInterval(()=>d(g=>g-1),1e3);return()=>clearInterval(f)}},[c]);const u=f=>{const g=Math.floor(f/60),x=f%60;return`${g}:${x.toString().padStart(2,"0")}`},h=async f=>{if(f.preventDefault(),a.length!==6){M({title:"Invalid OTP",description:"Please enter a valid 6-digit code.",variant:"destructive"});return}l(!0);try{await Dr.verifyOtp(s,a);const{data:{user:g}}=await j.auth.getUser();g&&await je.updateVendorVerification(g.id,!0),M({title:"Verified Successfully",description:"Welcome to your dashboard!",className:"bg-green-50"}),e("/vendor/dashboard")}catch(g){console.error("Verification error:",g),M({title:"Verification Failed",description:g.message||"Invalid or expired OTP code. Please try again.",variant:"destructive"})}finally{l(!1)}},p=async()=>{try{l(!0),await Dr.resendOtp(s),d(120),i(""),M({title:"OTP Resent",description:"A new 6-digit code has been sent to your email."})}catch(f){M({title:"Error",description:f.message,variant:"destructive"})}finally{l(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs(ve,{className:"w-full max-w-md",children:[r.jsxs(De,{className:"text-center",children:[r.jsx(Re,{className:"text-2xl font-bold text-[#003D82]",children:"Verify Account"}),r.jsxs(Rs,{children:["Enter the OTP sent to ",r.jsx("span",{className:"font-semibold text-gray-900",children:s})]})]}),r.jsx(_e,{children:r.jsxs("form",{onSubmit:h,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(H,{type:"text",placeholder:"Enter 8-digit OTP",value:a,onChange:f=>i(f.target.value.replace(/\D/g,"").slice(0,8)),className:"text-center text-2xl tracking-[0.5em] h-14",maxLength:8,inputMode:"numeric",autoComplete:"one-time-code"}),r.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[r.jsxs("span",{children:["Time remaining: ",u(c)]}),c===0?r.jsx("button",{type:"button",onClick:p,className:"text-[#003D82] hover:underline font-medium",disabled:o,children:"Resend OTP"}):r.jsx("span",{className:"text-gray-300 cursor-not-allowed",children:"Resend OTP"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" If you don't see the email, check your spam or junk folder"})]}),r.jsxs(V,{type:"submit",className:"w-full h-12 text-lg bg-[#003D82]",disabled:o,children:[o?r.jsx(pe,{className:"animate-spin mr-2"}):null,"Verify Account"]}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:()=>e("/vendor/login"),className:"text-sm text-gray-500 hover:text-gray-900",children:"Back to Login"})})]})})]})})},HE=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),Go=HE?"/api":"/.netlify/functions",Yo={checkEmailByRole:async(e,t)=>{try{if(!e||!t)throw new Error("Email and role are required");const s=HE?`${Go}/password-reset/verify-email`:`${Go}/password-reset`,n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.toLowerCase().trim(),role:t})}),a=await n.json();if(!n.ok)throw new Error(a.error||"Email not registered");return a}catch(s){throw console.error("Error checking email by role:",s),s}},requestOTP:async e=>{try{if(!e)throw new Error("Email is required");const t=`${Go}/otp/request`,s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.toLowerCase().trim()})}),n=await s.json();if(!s.ok)throw new Error(n.error||"Failed to send OTP");return n}catch(t){throw console.error("Error requesting OTP:",t),t}},verifyOTP:async(e,t)=>{try{if(!e||!t)throw new Error("Email and OTP are required");const s=`${Go}/otp/verify`,n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.toLowerCase().trim(),otp_code:t})}),a=await n.json();if(!n.ok)throw new Error(a.error||"Invalid or expired OTP");return a}catch(s){throw console.error("Error verifying OTP:",s),s}},resetPassword:async(e,t)=>{try{if(!e||!t)throw new Error("Email and new password are required");if(t.length<6)throw new Error("Password must be at least 6 characters long");const s=`${Go}/password-reset`,n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.toLowerCase().trim(),new_password:t})}),a=await n.json();if(!n.ok)throw new Error(a.error||"Failed to reset password");return a}catch(s){throw console.error("Error resetting password:",s),s}}},Hv=()=>{var _;const e=Ue(),[t]=lc(),s=((_=t.get("role"))==null?void 0:_.toUpperCase())||"BUYER",[n,a]=m.useState(1),[i,o]=m.useState(!1),[l,c]=m.useState(""),[d,u]=m.useState(""),[h,p]=m.useState(""),[f,g]=m.useState(""),[x,w]=m.useState(0),[y,v]=m.useState(!1);m.useEffect(()=>{if(x>0){const C=setTimeout(()=>w(x-1),1e3);return()=>clearTimeout(C)}},[x]);const b=async C=>{if(C.preventDefault(),!l||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)){M({title:"Invalid Email",description:"Please enter a valid email address",variant:"destructive"});return}o(!0);try{const I=await Yo.checkEmailByRole(l,s);await Yo.requestOTP(l),M({title:"OTP Sent",description:I.message||"Check your email for the OTP code"}),w(120),a(2)}catch(I){M({title:"Error",description:I.message||"Failed to verify email",variant:"destructive"})}finally{o(!1)}},N=async C=>{if(C.preventDefault(),!d||d.length!==6){M({title:"Invalid OTP",description:"Please enter a valid 6-digit OTP",variant:"destructive"});return}o(!0);try{await Yo.verifyOTP(l,d),M({title:"OTP Verified",description:"You can now reset your password"}),a(3)}catch(I){M({title:"Invalid OTP",description:I.message||"The OTP you entered is invalid or expired",variant:"destructive"})}finally{o(!1)}},k=async()=>{o(!0);try{await Yo.resendOTP(l),M({title:"OTP Resent",description:"Check your email for the new OTP code"}),w(120),u("")}catch(C){M({title:"Error",description:C.message||"Failed to resend OTP",variant:"destructive"})}finally{o(!1)}},T=async C=>{if(C.preventDefault(),!h||!f){M({title:"Password Required",description:"Please enter and confirm your password",variant:"destructive"});return}if(h.length<6){M({title:"Password Too Short",description:"Password must be at least 6 characters long",variant:"destructive"});return}if(h!==f){M({title:"Passwords Do Not Match",description:"Please make sure your passwords match",variant:"destructive"});return}o(!0);try{await Yo.resetPassword(l,h),M({title:"Password Reset Successful",description:"Your password has been updated. You can now login with your new password."}),setTimeout(()=>{e(s==="VENDOR"?"/vendor/login":"/buyer/login")},2e3)}catch(I){M({title:"Error",description:I.message||"Failed to reset password",variant:"destructive"})}finally{o(!1)}},A=()=>r.jsx("div",{className:"flex items-center justify-between mb-8",children:[1,2,3].map(C=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${n>=C?"bg-[#003D82] text-white":"bg-gray-200 text-gray-600"}`,children:C}),C<3&&r.jsx("div",{className:`w-12 h-1 ${n>C?"bg-[#003D82]":"bg-gray-200"}`})]},C))});return r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:[r.jsx("div",{className:"mb-8",children:r.jsx(_r,{})}),r.jsxs(ve,{className:"w-full max-w-md shadow-lg border-t-4 border-t-[#003D82]",children:[r.jsxs(De,{className:"space-y-1",children:[r.jsx(Re,{className:"text-2xl font-bold text-center text-[#003D82]",children:"Reset Password"}),r.jsx(Rs,{className:"text-center",children:s==="VENDOR"?"Seller Account Recovery":"Buyer Account Recovery"})]}),r.jsxs(_e,{className:"space-y-6",children:[A(),n===1&&r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"email",children:"Email Address"}),r.jsx(H,{id:"email",type:"email",placeholder:"your@email.com",value:l,onChange:C=>c(C.target.value),required:!0}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Enter the email address associated with your ",s.toLowerCase()," account"]})]}),r.jsxs(V,{type:"submit",className:"w-full bg-[#003D82] hover:bg-[#002d62]",disabled:i,children:[i?r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}):null,i?"Verifying...":"Continue"]})]}),n===2&&r.jsxs("form",{onSubmit:N,className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:r.jsxs("p",{className:"text-sm text-gray-700",children:["A 6-digit code has been sent to ",r.jsx("strong",{children:l})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"otp",children:"Enter OTP Code"}),r.jsx(H,{id:"otp",type:"text",placeholder:"000000",value:d,onChange:C=>u(C.target.value.replace(/\D/g,"").slice(0,6)),maxLength:"6",className:"text-center text-2xl tracking-widest font-mono",required:!0}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Code expires in ",Math.floor(x/60),":",(x%60).toString().padStart(2,"0")]})]}),r.jsxs(V,{type:"submit",className:"w-full bg-[#003D82] hover:bg-[#002d62]",disabled:i||x===0,children:[i?r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}):null,i?"Verifying...":"Verify OTP"]}),r.jsx(V,{type:"button",variant:"outline",className:"w-full",onClick:k,disabled:i||x>60,children:x>60?`Resend in ${Math.floor((x-60)/10)}s`:"Resend OTP"}),r.jsx("button",{type:"button",onClick:()=>a(1),className:"w-full text-sm text-[#003D82] hover:underline",children:"Change Email"})]}),n===3&&r.jsxs("form",{onSubmit:T,className:"space-y-4",children:[r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 flex items-center gap-2",children:[r.jsx(Za,{className:"w-4 h-4 text-green-600"}),r.jsx("p",{className:"text-sm text-gray-700",children:"OTP verified successfully. Enter your new password."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"newPassword",children:"New Password"}),r.jsx("div",{className:"relative",children:r.jsx(H,{id:"newPassword",type:y?"text":"password",placeholder:"At least 6 characters",value:h,onChange:C=>p(C.target.value),required:!0})}),r.jsx("p",{className:"text-xs text-gray-500",children:"Must be at least 6 characters long"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"confirmPassword",children:"Confirm Password"}),r.jsx(H,{id:"confirmPassword",type:y?"text":"password",placeholder:"Re-enter your password",value:f,onChange:C=>g(C.target.value),required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"showPassword",checked:y,onChange:C=>v(C.target.checked),className:"w-4 h-4 cursor-pointer"}),r.jsx(U,{htmlFor:"showPassword",className:"cursor-pointer text-sm",children:"Show password"})]}),r.jsxs(V,{type:"submit",className:"w-full bg-[#003D82] hover:bg-[#002d62]",disabled:i,children:[i?r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}):null,i?"Resetting...":"Reset Password"]}),r.jsx("button",{type:"button",onClick:()=>a(2),className:"w-full text-sm text-[#003D82] hover:underline",children:"Back to OTP Verification"})]})]}),r.jsx(Sc,{className:"border-t p-4 bg-gray-50 rounded-b-lg flex flex-col items-center gap-2",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",r.jsx("button",{onClick:()=>e(s==="VENDOR"?"/vendor/login":"/buyer/login"),className:"font-semibold text-[#003D82] hover:underline",children:"Sign In"})]})})]}),r.jsxs("p",{className:"mt-8 text-center text-sm text-gray-500",children:[" ",new Date().getFullYear()," IndianTradeMart. All rights reserved."]})]})},GU=()=>{const[e,t]=m.useState({totalViews:0,totalProducts:0,totalLeads:0,trustScore:0}),[s,n]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{const{data:{session:i}}=await j.auth.getSession();if(!(i!=null&&i.user)){n(!1);return}const{data:o}=await j.from("vendors").select("id, trust_score").eq("user_id",i.user.id).single();if(!o){n(!1);return}const{data:l,count:c}=await j.from("products").select("views",{count:"exact"}).eq("vendor_id",o.id),d=(l==null?void 0:l.reduce((h,p)=>h+(p.views||0),0))||0,{count:u}=await j.from("lead_purchases").select("*",{count:"exact"}).eq("vendor_id",o.id);t({totalViews:d,totalProducts:c||0,totalLeads:u||0,trustScore:o.trust_score||0})}catch(i){console.error("Failed to fetch analytics:",i)}finally{n(!1)}})()},[]),s?r.jsx("div",{className:"p-8 text-center",children:"Loading analytics..."}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-800",children:"Analytics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs(Te,{children:[r.jsx(Qs,{className:"pb-2",children:r.jsxs(Zs,{className:"text-sm font-medium text-neutral-600 flex items-center gap-2",children:[r.jsx(Xn,{className:"h-4 w-4"}),"Total Views"]})}),r.jsx(ls,{children:r.jsx("div",{className:"text-3xl font-bold text-neutral-800",children:e.totalViews.toLocaleString()})})]}),r.jsxs(Te,{children:[r.jsx(Qs,{className:"pb-2",children:r.jsxs(Zs,{className:"text-sm font-medium text-neutral-600 flex items-center gap-2",children:[r.jsx(Jn,{className:"h-4 w-4"}),"Products"]})}),r.jsx(ls,{children:r.jsx("div",{className:"text-3xl font-bold text-neutral-800",children:e.totalProducts})})]}),r.jsxs(Te,{children:[r.jsx(Qs,{className:"pb-2",children:r.jsxs(Zs,{className:"text-sm font-medium text-neutral-600 flex items-center gap-2",children:[r.jsx(St,{className:"h-4 w-4"}),"Leads Purchased"]})}),r.jsx(ls,{children:r.jsx("div",{className:"text-3xl font-bold text-neutral-800",children:e.totalLeads})})]}),r.jsxs(Te,{children:[r.jsx(Qs,{className:"pb-2",children:r.jsxs(Zs,{className:"text-sm font-medium text-neutral-600 flex items-center gap-2",children:[r.jsx(ca,{className:"h-4 w-4"}),"Trust Score"]})}),r.jsx(ls,{children:r.jsx("div",{className:"text-3xl font-bold text-neutral-800",children:e.trustScore})})]})]}),r.jsxs(Te,{children:[r.jsx(Qs,{children:r.jsx(Zs,{children:"Performance Overview"})}),r.jsx(ls,{children:r.jsxs("div",{className:"space-y-4 text-neutral-600",children:[r.jsx("p",{children:"Your analytics are being tracked across the platform."}),r.jsx("p",{children:"Product views, lead interactions, and customer engagement metrics are updated in real-time."})]})})]})]})},Fu=({allowedRoles:e=[],redirectTo:t,children:s})=>{var p,f;const n=Zt(),a=es(),i=Cx(),o=(n.pathname||"").startsWith("/admin")||(n.pathname||"").startsWith("/hr")||e.some(g=>["ADMIN","HR"].includes(g)),l=o?(i==null?void 0:i.isLoading)??!1:(a==null?void 0:a.loading)??!1,c=o?i==null?void 0:i.user:a==null?void 0:a.user,d=o?(p=i==null?void 0:i.user)==null?void 0:p.role:(a==null?void 0:a.userRole)||((f=a==null?void 0:a.user)==null?void 0:f.role),u=o?!!(i!=null&&i.isAuthenticated):!!(a!=null&&a.user),h=()=>{var v;const g=typeof window<"u"&&((v=window.location)!=null&&v.hostname)?window.location.hostname:"",x=g.startsWith("buyer."),w=g.startsWith("vendor.");if(t)return t;const y=n.pathname||"";return y.startsWith("/buyer")?"/buyer/login":y.startsWith("/vendor")?"/vendor/login":y.startsWith("/admin")||y.startsWith("/employee")||y.startsWith("/hr")?"/admin/login":e.includes("BUYER")?x?"/login":"/buyer/login":e.includes("VENDOR")?w?"/login":"/vendor/login":"/buyer/login"};return l?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(pe,{className:"h-8 w-8 animate-spin text-[#003D82]"})}):!u||!c?r.jsx(Tt,{to:h(),state:{from:n},replace:!0}):e.length>0&&!(d?e.includes(d):!1)?r.jsx(Tt,{to:"/unauthorized",replace:!0}):s||r.jsx(la,{})},Vu=({pageRoute:e,children:t})=>{const{getPageStatus:s,isLoading:n}=f3(),[a,i]=m.useState(null),[o,l]=m.useState(!0),c=m.useMemo(()=>s(e),[e,s]);m.useEffect(()=>{const p=async()=>{try{console.log("[PageStatusWrapper] Direct DB check for:",e);const{data:g,error:x}=await j.from("page_status").select("*").eq("page_route",e).maybeSingle();x?(console.error("[PageStatusWrapper] Direct check error:",x),i(null)):g?(console.log("[PageStatusWrapper] Direct check found:",{is_blanked:g.is_blanked}),i({is_blanked:g.is_blanked===!0,error_message:g.error_message||""})):(console.log("[PageStatusWrapper] Direct check found nothing - page is online"),i({is_blanked:!1,error_message:""})),l(!1)}catch(g){console.error("[PageStatusWrapper] Direct check exception:",g),l(!1)}};p();const f=setInterval(p,3e3);return()=>clearInterval(f)},[e]);const d=a||c,u=d.is_blanked===!0,h=d.error_message||"";return console.log("[PageStatusWrapper] Status for",e,":",{isOffline:u,isLoading:o,source:a?"local":"context"}),o?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:r.jsx(pe,{className:"h-8 w-8 animate-spin text-blue-600"})}):u?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center px-4",children:r.jsxs("div",{className:"max-w-md bg-white rounded-xl shadow-lg p-8 text-center border-t-4 border-red-500",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(Wi,{className:"h-8 w-8 text-red-600"})})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Temporarily Unavailable"}),r.jsx("p",{className:"text-gray-600 mb-4",children:h||"This section is currently offline for maintenance. Please try again later."}),r.jsxs("div",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded",children:[r.jsx("p",{children:"If this issue persists, please contact support at:"}),r.jsx("p",{className:"font-mono text-blue-600 mt-1",children:"support@indiantrademart.com"})]})]})}):t},qb=()=>r.jsxs(bo,{children:[r.jsx(Y,{path:"login",element:r.jsx(WU,{})}),r.jsx(Y,{path:"register",element:r.jsx(Vu,{pageRoute:"/vendor/register",children:r.jsx(HU,{})})}),r.jsx(Y,{path:"verify",element:r.jsx(KU,{})}),r.jsx(Y,{path:"forgot-password",element:r.jsx(Hv,{})}),r.jsx(Y,{element:r.jsx(Fu,{allowedRoles:["VENDOR"],redirectTo:"/vendor/login"}),children:r.jsxs(Y,{element:r.jsx(Vu,{pageRoute:"/vendor",children:r.jsx(m$,{})}),children:[r.jsx(Y,{index:!0,element:r.jsx(Tt,{to:"dashboard",replace:!0})}),r.jsx(Y,{path:"dashboard",element:r.jsx(Tb,{})}),r.jsx(Y,{path:":vendorId/dashboard",element:r.jsx(Tb,{})}),r.jsx(Y,{path:"products",element:r.jsx(f$,{})}),r.jsx(Y,{path:"products/add",element:r.jsx(Ib,{})}),r.jsx(Y,{path:"products/:id/edit",element:r.jsx(Ib,{})}),r.jsx(Y,{path:"leads",element:r.jsx(iU,{})}),r.jsx(Y,{path:"leads/:id",element:r.jsx(mU,{})})," ",r.jsx(Y,{path:"proposals",element:r.jsx(pU,{})}),r.jsx(Y,{path:"proposals/send",element:r.jsx(xU,{})}),r.jsx(Y,{path:"kyc",element:r.jsx(Tt,{to:"/vendor/profile?tab=kyc",replace:!0})}),r.jsx(Y,{path:"support",element:r.jsx(OU,{})}),r.jsx(Y,{path:"profile",element:r.jsx(yU,{})}),r.jsx(Y,{path:"settings",element:r.jsx(jU,{})}),r.jsx(Y,{path:"photos-docs",element:r.jsx(MU,{})}),r.jsx(Y,{path:"analytics",element:r.jsx(GU,{})}),r.jsx(Y,{path:"subscriptions",element:r.jsx(IU,{})})]})}),r.jsx(Y,{path:"*",element:r.jsx(Tt,{to:"/vendor/login",replace:!0})})]}),WE=m.createContext(null),YU=()=>{const e=m.useContext(WE);if(!e)throw new Error("useBuyerAuth must be used within a BuyerAuthProvider");return e},XU=({children:e})=>{const{user:t,signOut:s}=es(),n=Ue(),i={user:t,isAuthenticated:!!t,logout:async()=>{try{await s(),n("/auth/login")}catch(o){console.error("Logout failed",o)}}};return r.jsx(WE.Provider,{value:i,children:e})},KE=$v,GE=Uv,YE=({className:e,...t})=>r.jsx(Hh,{className:le(e),...t});YE.displayName=Hh.displayName;const XE=m.forwardRef(({className:e,...t},s)=>r.jsx(kc,{className:le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));XE.displayName=kc.displayName;const JU=Ja("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Wv=m.forwardRef(({side:e="right",className:t,children:s,...n},a)=>r.jsxs(YE,{children:[r.jsx(XE,{}),r.jsxs(Ec,{ref:a,className:le(JU({side:e}),t),...n,children:[s,r.jsxs(Wh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(yt,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wv.displayName=Ec.displayName;const Kv=({className:e,...t})=>r.jsx("div",{className:le("flex flex-col space-y-2 text-center sm:text-left",e),...t});Kv.displayName="SheetHeader";const JE=m.forwardRef(({className:e,...t},s)=>r.jsx(Pc,{ref:s,className:le("text-lg font-semibold text-foreground",e),...t}));JE.displayName=Pc.displayName;const QU=m.forwardRef(({className:e,...t},s)=>r.jsx(Ac,{ref:s,className:le("text-sm text-muted-foreground",e),...t}));QU.displayName=Ac.displayName;const Cn=({to:e,icon:t,children:s,onClick:n})=>r.jsxs(M_,{to:e,onClick:n,className:({isActive:a})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors min-h-[48px] ${a?"bg-[#003D82] text-white":"text-neutral-600 hover:bg-neutral-100 hover:text-[#003D82]"}`,children:[r.jsx(t,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium text-base md:text-sm",children:s})]}),ZU=()=>{const{user:e,logout:t}=YU(),s=Ue(),n=Zt(),[a,i]=m.useState(!1),{resolvePath:o}=Ex(),l=()=>{t(),s("/")},c=()=>{const u=n.pathname.split("/").pop();return u==="dashboard"?"Buyer Dashboard":u==="create"?"Create Proposal":u.charAt(0).toUpperCase()+u.slice(1)},d=({mobile:u=!1})=>{var h;return r.jsxs("div",{className:"flex flex-col h-full",children:[!u&&r.jsx("div",{className:"h-20 flex items-center justify-center border-b border-neutral-100 px-4",children:r.jsx(_r,{className:"h-8"})}),r.jsxs("nav",{className:"p-4 space-y-1 flex-1 overflow-y-auto",children:[r.jsx(Cn,{to:o("dashboard","buyer"),icon:pr,onClick:()=>i(!1),children:"Dashboard"}),r.jsx(Cn,{to:o("proposals","buyer"),icon:Qt,onClick:()=>i(!1),children:"My Proposals"}),r.jsx(Cn,{to:o("proposals/new","buyer"),icon:_1,onClick:()=>i(!1),children:"New Proposal"}),r.jsx(Cn,{to:o("messages","buyer"),icon:qr,onClick:()=>i(!1),children:"Messages"}),r.jsx(Cn,{to:o("tickets","buyer"),icon:xx,onClick:()=>i(!1),children:"Support Tickets"}),r.jsx(Cn,{to:o("favorites","buyer"),icon:E1,onClick:()=>i(!1),children:"Favorites"}),r.jsx(Cn,{to:o("suggestions","buyer"),icon:P1,onClick:()=>i(!1),children:"Suggestions"}),r.jsx(Cn,{to:o("profile","buyer"),icon:ti,onClick:()=>i(!1),children:"Profile"})]}),r.jsxs("div",{className:"p-4 border-t border-neutral-100 bg-neutral-50/50",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-[#00A699] flex items-center justify-center text-white font-bold text-lg",children:((h=e==null?void 0:e.name)==null?void 0:h[0])||"B"}),r.jsxs("div",{className:"overflow-hidden",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:e==null?void 0:e.name}),r.jsx("p",{className:"text-xs text-neutral-500 truncate",children:e==null?void 0:e.company})]})]}),r.jsxs(V,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 h-11",onClick:l,children:[r.jsx(an,{className:"h-5 w-5 mr-2"}),"Logout"]})]})]})};return r.jsxs("div",{className:"min-h-screen bg-neutral-50 flex",children:[r.jsx("aside",{className:"hidden lg:flex flex-col w-64 bg-white border-r border-neutral-200 fixed inset-y-0 z-50",children:r.jsx(d,{})}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 lg:pl-64 transition-all duration-300",children:[r.jsxs("header",{className:"h-16 bg-white border-b border-neutral-200 flex items-center justify-between px-4 lg:px-8 sticky top-0 z-40",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(KE,{open:a,onOpenChange:i,children:[r.jsx(GE,{asChild:!0,children:r.jsx(V,{variant:"ghost",size:"icon",className:"lg:hidden -ml-2",children:r.jsx(oo,{className:"h-6 w-6 text-neutral-600"})})}),r.jsxs(Wv,{side:"left",className:"w-[300px] p-0",children:[r.jsxs(Kv,{className:"p-4 border-b text-left",children:[r.jsx(_r,{className:"h-6"}),r.jsx(JE,{className:"sr-only",children:"Navigation"})]}),r.jsx(d,{mobile:!0})]})]}),r.jsx("h1",{className:"text-lg md:text-xl font-semibold text-neutral-800 truncate max-w-[200px] md:max-w-none",children:c()})]}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[r.jsx(re,{to:"/search",children:r.jsx(V,{variant:"ghost",size:"icon",className:"h-10 w-10",children:r.jsx(Et,{className:"h-5 w-5 text-neutral-500"})})}),r.jsx(V,{variant:"ghost",size:"icon",className:"h-10 w-10",onClick:()=>M({title:"No new notifications"}),children:r.jsx(cc,{className:"h-5 w-5 text-neutral-500"})})]})]}),r.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsx(la,{})})})]})]})},e9=()=>{const{user:e}=es(),[t,s]=m.useState(!0),[n,a]=m.useState({activeTickets:0,pendingProposals:0,favorites:0,unreadMessages:0}),[i,o]=m.useState([]),[l,c]=m.useState(null);m.useEffect(()=>{e&&d()},[e]);const d=async()=>{try{s(!0),c(null);const{data:u,error:h}=await j.from("buyers").select("id").eq("user_id",e.id).single();if(h||!u){s(!1);return}const[p,f,g]=await Promise.all([j.from("proposals").select("id",{count:"exact",head:!0}).eq("buyer_id",u.id),j.from("favorites").select("id",{count:"exact",head:!0}).eq("buyer_id",u.id),j.from("buyer_support_tickets").select("id",{count:"exact",head:!0}).eq("buyer_id",u.id).neq("status","CLOSED")]),{data:x}=await j.from("proposals").select("id, title, product_name, status, created_at, vendors(company_name)").eq("buyer_id",u.id).order("created_at",{ascending:!1}).limit(5);a({activeTickets:g.count||0,pendingProposals:p.count||0,favorites:f.count||0,unreadMessages:0}),o(x||[])}catch(u){console.error("Dashboard data fetch error:",u),c("Failed to load dashboard data. Please check connection.")}finally{s(!1)}};return t?r.jsx("div",{className:"flex h-96 justify-center items-center",children:r.jsx(pe,{className:"h-8 w-8 animate-spin text-gray-300"})}):l?r.jsxs("div",{className:"flex h-96 justify-center items-center text-red-500 gap-2",children:[r.jsx(Ns,{})," ",l]}):r.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),r.jsxs("p",{className:"text-gray-500",children:["Welcome back, ",(e==null?void 0:e.full_name)||"Buyer"]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(re,{to:"/buyer/proposals/new",children:r.jsxs(V,{className:"bg-[#003D82] shadow-sm hover:bg-[#002d61]",children:[r.jsx(ca,{className:"mr-2 h-4 w-4"})," Post Requirement"]})}),r.jsx(re,{to:"/buyer/tickets",children:r.jsx(V,{variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:"Support Center"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(pd,{label:"Pending Proposals",value:n.pendingProposals,icon:Qt,color:"text-blue-600",bg:"bg-blue-50",link:"/buyer/proposals"}),r.jsx(pd,{label:"Active Tickets",value:n.activeTickets,icon:xx,color:"text-orange-600",bg:"bg-orange-50",link:"/buyer/tickets"}),r.jsx(pd,{label:"Favorite Vendors",value:n.favorites,icon:br,color:"text-yellow-600",bg:"bg-yellow-50",link:"/buyer/favorites"}),r.jsx(pd,{label:"Messages",value:n.unreadMessages,icon:qr,color:"text-green-600",bg:"bg-green-50",link:"/buyer/messages"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(Te,{className:"h-full",children:[r.jsxs(Qs,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(Zs,{className:"text-lg font-bold",children:"Recent Activities"}),r.jsx(re,{to:"/buyer/proposals",className:"text-sm text-[#003D82] hover:underline",children:"View All"})]}),r.jsx(ls,{children:i.length>0?r.jsx("div",{className:"space-y-4",children:i.map((u,h)=>{var p;return r.jsxs("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-50 flex items-center justify-center mr-4 shrink-0",children:r.jsx(dc,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:u.title}),r.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["To: ",((p=u.vendors)==null?void 0:p.company_name)||"Public Request"]})]}),r.jsxs("div",{className:"text-right pl-4",children:[r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u.status==="RESPONDED"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:u.status}),r.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:new Date(u.created_at).toLocaleDateString()})]})]},h)})}):r.jsx("div",{className:"text-center py-10 text-gray-400",children:"No recent activity"})})]})}),r.jsx("div",{className:"lg:col-span-1 space-y-6",children:r.jsx(Te,{className:"bg-gradient-to-br from-[#003D82] to-[#002855] text-white border-none",children:r.jsxs(ls,{className:"p-6",children:[r.jsx("h4",{className:"font-bold text-lg mb-2",children:"Enhance Your Profile"}),r.jsx("p",{className:"text-blue-100 text-sm mb-6",children:"Suppliers trust verified buyers. Add your GST and company details to get faster quotes."}),r.jsx(re,{to:"/buyer/profile",children:r.jsx(V,{className:"w-full bg-white text-[#003D82] hover:bg-blue-50 font-semibold border-none",children:"Update Profile"})})]})})})]})]})},pd=({label:e,value:t,icon:s,color:n,bg:a,link:i})=>r.jsx(re,{to:i,children:r.jsx(Te,{className:"hover:shadow-md transition-shadow cursor-pointer h-full border-gray-100",children:r.jsxs(ls,{className:"p-6 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),r.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:t})]}),r.jsx("div",{className:`h-12 w-12 rounded-full ${a} flex items-center justify-center ${n}`,children:r.jsx(s,{className:"h-6 w-6"})})]})})}),fs=async()=>{const{data:{user:e}}=await j.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:s}=await j.from("buyers").select("id").eq("user_id",e.id).single();if(s||!t)throw console.warn("Buyer profile not found for user:",e.id),new Error("Buyer profile not found");return t.id},Ka={auth:{me:async()=>{const{data:{user:e}}=await j.auth.getUser();if(!e)return null;const{data:t}=await j.from("buyers").select("*").eq("user_id",e.id).maybeSingle();return{...e,...t}},logout:async()=>{const{error:e}=await j.auth.signOut();if(e)throw e}},getProfile:async e=>{e||(e=await fs());const{data:t,error:s}=await j.from("buyers").select("*").eq("id",e).single();if(s)throw s;return t},updateProfile:async e=>{const t=await fs(),s={};for(const[i,o]of Object.entries(e))if(i.includes("_")||["id","user_id","created_at","updated_at"].includes(i))s[i]=o;else{const l=i.replace(/([A-Z])/g,"_$1").toLowerCase().replace(/^_/,"");s[l]=o}const{data:n,error:a}=await j.from("buyers").update(s).eq("id",t).select().single();if(a)throw a;return n},uploadAvatar:async e=>{const t=await fs(),s=e.name.split(".").pop(),n=`buyer-avatars/${t}_${Date.now()}.${s}`,{error:a}=await j.storage.from("avatars").upload(n,e,{upsert:!0});if(a)throw a;const{data:i}=j.storage.from("avatars").getPublicUrl(n);return await j.from("buyers").update({avatar_url:i.publicUrl}).eq("id",t),i.publicUrl},getStats:async e=>{e||(e=await fs());const{count:t}=await j.from("proposals").select("*",{count:"exact",head:!0}).eq("buyer_id",e).eq("status","SENT"),{count:s}=await j.from("support_tickets").select("*",{count:"exact",head:!0}).eq("buyer_id",e).neq("status","CLOSED"),{count:n}=await j.from("favorites").select("*",{count:"exact",head:!0}).eq("buyer_id",e);return{activeProposals:t||0,openTickets:s||0,favoriteVendors:n||0}},createProposal:async e=>{var g,x;const t=await fs(),{data:{user:s}}=await j.auth.getUser(),{data:n}=await j.from("buyers").select("*").eq("id",t).single(),a=(n==null?void 0:n.company_name)||((g=s==null?void 0:s.user_metadata)==null?void 0:g.full_name)||(s==null?void 0:s.email)||"Buyer",i=(n==null?void 0:n.company_name)||((x=s==null?void 0:s.user_metadata)==null?void 0:x.full_name)||"",o=(s==null?void 0:s.email)||"",l=(n==null?void 0:n.phone)||(n==null?void 0:n.mobile_number)||"",c={buyer_id:t,vendor_id:e.vendor_id||null,title:e.title||e.product_name||e.category,product_name:e.product_name||e.category,quantity:e.quantity,budget:parseFloat(e.budget)||0,required_by_date:e.required_by_date||null,description:e.description,status:"SENT",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:d,error:u}=await j.from("proposals").insert([c]).select().single();if(u)throw u;const h={vendor_id:null,title:c.title,product_name:c.product_name,category:e.category||"",quantity:c.quantity,budget:c.budget,location:e.location||"India",city:e.city||null,state:e.state||null,message:c.description,buyer_name:a,buyer_email:o,buyer_phone:l,company_name:i,status:"AVAILABLE",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),proposal_id:d.id};(!h.buyer_name||!h.buyer_email)&&console.warn("Lead missing buyer details:",{buyer_name:h.buyer_name,buyer_email:h.buyer_email});const{error:p,data:f}=await j.from("leads").insert([h]).select().single();if(p)throw console.error("Failed to create lead record:",p,"Payload:",h),new Error(`Proposal created but failed to register as lead: ${p.message}`);return console.log("Lead created successfully:",f),d},getProposals:async e=>{e||(e=await fs());const{data:t,error:s}=await j.from("proposals").select("*, vendors(company_name, profile_image)").eq("buyer_id",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]},getProposalDetail:async e=>{const{data:t,error:s}=await j.from("proposals").select("*, vendors(company_name, profile_image, phone, email)").eq("id",e).single();if(s)throw s;const{data:n,error:a}=await j.from("proposal_messages").select("*").eq("proposal_id",e).order("created_at",{ascending:!0});if(a)throw a;return{...t,messages:n||[]}},addProposalMessage:async(e,t)=>{const{data:{user:s}}=await j.auth.getUser(),{data:n,error:a}=await j.from("proposal_messages").insert([{proposal_id:e,sender_id:s.id,message:t,created_at:new Date().toISOString()}]).select().single();if(a)throw a;return n},updateProposalStatus:async(e,t)=>{const{data:s,error:n}=await j.from("proposals").update({status:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return s},createTicket:async e=>{const s={buyer_id:await fs(),subject:e.subject,description:e.description,priority:e.priority||"Medium",status:"OPEN",category:e.category||"General Inquiry",created_at:new Date().toISOString()},{data:n,error:a}=await j.from("support_tickets").insert([s]).select().single();if(a)throw a;return n},getTickets:async e=>{e||(e=await fs());const{data:t,error:s}=await j.from("support_tickets").select("*").eq("buyer_id",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]},getTicketDetail:async e=>{const{data:t,error:s}=await j.from("support_tickets").select("*").eq("id",e).single();if(s)throw s;const{data:n,error:a}=await j.from("ticket_messages").select("*").eq("ticket_id",e).order("created_at",{ascending:!0});if(a)throw a;return{...t,messages:n||[]}},updateTicketStatus:async(e,t)=>{const{data:s,error:n}=await j.from("support_tickets").update({status:t}).eq("id",e).select().single();if(n)throw n;return s},addTicketMessage:async(e,t)=>{const{data:{user:s}}=await j.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:n,error:a}=await j.from("ticket_messages").insert([{ticket_id:e,sender_id:s.id,sender_type:"BUYER",message:t}]).select().single();if(a)throw a;return n},getTicketMessages:async e=>{const{data:t,error:s}=await j.from("ticket_messages").select("*").eq("ticket_id",e).order("created_at",{ascending:!0});if(s)throw s;return t||[]},closeTicket:async e=>Ka.updateTicketStatus(e,"CLOSED"),addFavorite:async e=>{const t=await fs(),{data:s,error:n}=await j.from("favorites").insert([{buyer_id:t,vendor_id:e,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return s},removeFavorite:async e=>{const t=await fs(),{error:s}=await j.from("favorites").delete().eq("buyer_id",t).eq("vendor_id",e);if(s)throw s},getFavorites:async e=>{e||(e=await fs());const{data:t,error:s}=await j.from("favorites").select("*, vendors(id, company_name, email, phone, profile_image, verification_badge, seller_rating)").eq("buyer_id",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]},isFavorited:async e=>{const t=await fs(),{data:s,error:n}=await j.from("favorites").select("id").eq("buyer_id",t).eq("vendor_id",e).maybeSingle();if(n)throw n;return!!s},getSuggestions:async()=>{const e=await fs(),{data:t,error:s}=await j.from("suggestions").select("*").eq("buyer_id",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]},createSuggestion:async e=>{const t=await fs(),{data:s,error:n}=await j.from("suggestions").insert([{buyer_id:t,subject:e.subject,message:e.message,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return s},searchVendors:async(e={})=>{let t=j.from("vendors").select("id, company_name, email, phone, profile_image, verification_badge, seller_rating, state, city");e.state_id&&(t=t.eq("state_id",e.state_id)),e.city_id&&(t=t.eq("city_id",e.city_id)),e.search&&(t=t.ilike("company_name",`%${e.search}%`)),t=t.eq("is_active",!0).eq("is_verified",!0);const{data:s,error:n}=await t.order("seller_rating",{ascending:!1}).limit(50);if(n)throw n;return s||[]},getVendorProfile:async e=>{const{data:t,error:s}=await j.from("vendors").select("*").eq("id",e).single();if(s)throw s;return t},getVendorProducts:async e=>{const{data:t,error:s}=await j.from("products").select("*").eq("vendor_id",e).eq("status","ACTIVE").order("created_at",{ascending:!1});if(s)throw s;return t||[]}},t9=()=>{const{buyerId:e}=es(),[t,s]=m.useState([]),[n,a]=m.useState(!0),[i,o]=m.useState("");m.useEffect(()=>{e&&l()},[e]);const l=async()=>{a(!0);try{const u=await Ka.getProposals(e);s(u)}catch{M({title:"Error",description:"Failed to load proposals",variant:"destructive"})}finally{a(!1)}},c=t.filter(u=>{var h,p;return((h=u.title)==null?void 0:h.toLowerCase().includes(i.toLowerCase()))||((p=u.product_name)==null?void 0:p.toLowerCase().includes(i.toLowerCase()))}),d=u=>{switch(u==null?void 0:u.toUpperCase()){case"OPEN":return"bg-green-100 text-green-800";case"CLOSED":return"bg-gray-100 text-gray-800";case"ACTIVE":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Proposals"}),r.jsx("p",{className:"text-gray-500",children:"Track and manage your posted requirements"})]}),r.jsx(re,{to:"/buyer/proposals/new",children:r.jsxs(V,{className:"bg-[#003D82]",children:[r.jsx(Bt,{className:"mr-2 h-4 w-4"})," New Proposal"]})})]}),r.jsx("div",{className:"flex items-center gap-2 max-w-sm",children:r.jsxs("div",{className:"relative w-full",children:[r.jsx(Et,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),r.jsx(H,{placeholder:"Search proposals...",className:"pl-9",value:i,onChange:u=>o(u.target.value)})]})}),r.jsx("div",{className:"grid gap-4",children:n?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(pe,{className:"h-8 w-8 animate-spin text-gray-400"})}):c.length===0?r.jsxs("div",{className:"text-center py-16 border-2 border-dashed rounded-lg bg-gray-50",children:[r.jsx(Qt,{className:"mx-auto h-12 w-12 text-gray-300"}),r.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No proposals found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create your first proposal to get started."}),r.jsx("div",{className:"mt-6",children:r.jsx(re,{to:"/buyer/proposals/new",children:r.jsx(V,{variant:"outline",children:"Create Proposal"})})})]}):c.map(u=>{var h;return r.jsx(ve,{className:"hover:shadow-md transition-shadow",children:r.jsx(_e,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold text-lg text-[#003D82]",children:u.title||u.product_name}),r.jsx(Me,{className:`${d(u.status)} border-0`,children:u.status||"OPEN"})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-x-8 gap-y-2 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400 block text-xs",children:"Quantity"}),u.quantity," Units"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400 block text-xs",children:"Budget"}),"",(h=u.budget)==null?void 0:h.toLocaleString()]}),r.jsxs("div",{className:"col-span-2 sm:col-span-2",children:[r.jsx("span",{className:"text-gray-400 block text-xs",children:"Posted On"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Oa,{className:"h-3 w-3"}),new Date(u.created_at).toLocaleDateString()]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(V,{variant:"outline",size:"sm",children:"View Quotes"}),r.jsx(V,{variant:"ghost",size:"sm",className:"text-gray-500",children:"Details"})]})]})})},u.id)})})]})},s9=()=>{const{buyerId:e}=es(),t=Ue(),[s,n]=m.useState(!1),[a,i]=m.useState({category:"",quantity:"",budget:"",location:"",description:""}),o=(c,d)=>{i(u=>({...u,[c]:d}))},l=async c=>{if(c.preventDefault(),!e){M({title:"Authentication Error",description:"You must be logged in.",variant:"destructive"});return}if(!a.category||!a.quantity||!a.budget||!a.description){M({title:"Validation Error",description:"Please fill all required fields.",variant:"destructive"});return}n(!0);try{await Ka.createProposal({buyer_id:e,category:a.category,quantity:a.quantity,budget:a.budget,location:a.location,description:a.description}),M({title:"Success",description:"Your requirement has been posted successfully.",className:"bg-green-50 border-green-200 text-green-900"}),setTimeout(()=>t("/buyer/proposals"),300)}catch(d){console.error("Submission failed:",d),M({title:"Error",description:d.message||"Failed to create proposal. Please try again.",variant:"destructive"})}finally{n(!1)}};return r.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:r.jsx(Vr,{className:"h-4 w-4"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"New Proposal"}),r.jsx("p",{className:"text-gray-500",children:"Post a new requirement to get quotes from vendors"})]})]}),r.jsxs(ve,{children:[r.jsxs(De,{children:[r.jsx(Re,{children:"Requirement Details"}),r.jsx(Rs,{children:"Fill in the details to receive accurate quotes"})]}),r.jsx(_e,{children:r.jsxs("form",{onSubmit:l,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"category",children:"Select Category *"}),r.jsxs(tt,{onValueChange:c=>o("category",c),children:[r.jsx(Je,{children:r.jsx(st,{placeholder:"Select a category"})}),r.jsxs(Qe,{children:[r.jsx(ye,{value:"Automotive",children:"Automotive"}),r.jsx(ye,{value:"Electronics",children:"Electronics"}),r.jsx(ye,{value:"Textiles",children:"Textiles"}),r.jsx(ye,{value:"Construction",children:"Construction"}),r.jsx(ye,{value:"Industrial",children:"Industrial Machinery"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"quantity",children:"Quantity *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{id:"quantity",type:"number",placeholder:"e.g. 100",value:a.quantity,onChange:c=>o("quantity",c.target.value)}),r.jsx("div",{className:"flex items-center justify-center px-3 bg-gray-50 border rounded-md text-sm text-gray-500",children:"Units"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"budget",children:"Budget () *"}),r.jsx(H,{id:"budget",type:"number",placeholder:"e.g. 50000",value:a.budget,onChange:c=>o("budget",c.target.value)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"location",children:"Delivery Location *"}),r.jsx(H,{id:"location",placeholder:"City or Pincode",value:a.location,onChange:c=>o("location",c.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"description",children:"Detailed Requirement *"}),r.jsx(Gr,{id:"description",placeholder:"Describe your requirement in detail (specifications, quality, brands, etc.)",className:"min-h-[150px]",value:a.description,onChange:c=>o("description",c.target.value)})]}),r.jsxs("div",{className:"pt-4 flex justify-end gap-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>t(-1),children:"Cancel"}),r.jsx(V,{type:"submit",className:"bg-[#003D82] min-w-[150px]",disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"})," Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ei,{className:"mr-2 h-4 w-4"})," Post Requirement"]})})]})]})})]})]})};var Gv="Avatar",[r9,SH]=ks(Gv),[n9,QE]=r9(Gv),ZE=m.forwardRef((e,t)=>{const{__scopeAvatar:s,...n}=e,[a,i]=m.useState("idle");return r.jsx(n9,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:r.jsx(Ee.span,{...n,ref:t})})});ZE.displayName=Gv;var eP="AvatarImage",tP=m.forwardRef((e,t)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=QE(eP,s),l=a9(n,i.referrerPolicy),c=Ut(d=>{a(d),o.onImageLoadingStatusChange(d)});return Ot(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(Ee.img,{...i,ref:t,src:n}):null});tP.displayName=eP;var sP="AvatarFallback",rP=m.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:n,...a}=e,i=QE(sP,s),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(Ee.span,{...a,ref:t}):null});rP.displayName=sP;function a9(e,t){const[s,n]=m.useState("idle");return Ot(()=>{if(!e){n("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&n(l)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{a=!1}},[e,t]),s}var nP=ZE,aP=tP,iP=rP;const oP=m.forwardRef(({className:e,...t},s)=>r.jsx(nP,{ref:s,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));oP.displayName=nP.displayName;const lP=m.forwardRef(({className:e,...t},s)=>r.jsx(aP,{ref:s,className:le("aspect-square h-full w-full",e),...t}));lP.displayName=aP.displayName;const cP=m.forwardRef(({className:e,...t},s)=>r.jsx(iP,{ref:s,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));cP.displayName=iP.displayName;const i9=()=>{var g;const{user:e}=es(),[t,s]=m.useState(!0),[n,a]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState({full_name:"",email:"",phone:"",company_name:"",company_type:"",industry:"",gst_number:"",address:"",city:"",state:"",pincode:"",avatar_url:""});m.useEffect(()=>{e&&d()},[e]);const d=async()=>{try{s(!0);const{data:x,error:w}=await j.from("buyers").select("*").eq("user_id",e.id).maybeSingle();if(w)throw w;c(x?{full_name:x.full_name||"",email:x.email||e.email||"",phone:x.phone||"",company_name:x.company_name||"",company_type:x.company_type||"",industry:x.industry||"",gst_number:x.gst_number||"",address:x.address||"",city:x.city||"",state:x.state||"",pincode:x.pincode||"",avatar_url:x.avatar_url||""}:y=>{var v;return{...y,email:e.email||"",full_name:((v=e.user_metadata)==null?void 0:v.full_name)||""}})}catch(x){console.error("Error fetching profile:",x),M({title:"Error",description:"Failed to load profile",variant:"destructive"})}finally{s(!1)}},u=x=>{const{name:w,value:y}=x.target;c(v=>({...v,[w]:y}))},h=async x=>{try{o(!0);const w=x.target.files[0];if(!w)return;const y=w.name.split(".").pop(),b=`buyer-avatars/${`${e.id}-${Math.random()}.${y}`}`,{error:N}=await j.storage.from("avatars").upload(b,w);if(N)throw N;const{data:{publicUrl:k}}=j.storage.from("avatars").getPublicUrl(b);c(T=>({...T,avatar_url:k})),await p({...l,avatar_url:k}),M({title:"Success",description:"Avatar updated"})}catch(w){console.error("Error uploading image:",w),M({title:"Upload Failed",description:w.message,variant:"destructive"})}finally{o(!1)}},p=async x=>{const{error:w}=await j.from("buyers").upsert({user_id:e.id,...x,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(w)throw w},f=async x=>{x.preventDefault();try{a(!0),await p(l),M({title:"Profile Saved",description:"Your details have been updated."})}catch(w){console.error("Error saving profile:",w),M({title:"Save Failed",description:"Could not save profile changes.",variant:"destructive"})}finally{a(!1)}};return t?r.jsx("div",{className:"flex justify-center p-12",children:r.jsx(pe,{className:"animate-spin"})}):r.jsxs("div",{className:"container mx-auto p-4 md:p-6 max-w-5xl space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"My Profile"}),r.jsx("p",{className:"text-gray-500",children:"Manage your account details"})]}),r.jsxs(V,{onClick:f,disabled:n,className:"bg-blue-600",children:[n?r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(ph,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsx(ve,{children:r.jsxs(_e,{className:"pt-6 flex flex-col items-center",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsxs(oP,{className:"h-32 w-32 border-4 border-white shadow-lg",children:[r.jsx(lP,{src:l.avatar_url}),r.jsx(cP,{className:"text-3xl bg-blue-100 text-blue-700",children:((g=l.full_name)==null?void 0:g.charAt(0))||"U"})]}),r.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full cursor-pointer hover:bg-blue-700",children:[i?r.jsx(pe,{className:"h-4 w-4 animate-spin"}):r.jsx(Ur,{className:"h-4 w-4"}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:h,disabled:i})]})]}),r.jsx("h2",{className:"text-xl font-semibold",children:l.full_name||"User"}),r.jsx("p",{className:"text-sm text-gray-500",children:l.email})]})})}),r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(ve,{children:[r.jsx(De,{children:r.jsxs(Re,{className:"flex items-center gap-2",children:[r.jsx(ti,{className:"h-5 w-5 text-blue-600"})," Personal Info"]})}),r.jsx(_e,{className:"space-y-4",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Full Name"}),r.jsx(H,{name:"full_name",value:l.full_name,onChange:u})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Phone"}),r.jsx(H,{name:"phone",value:l.phone,onChange:u})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(U,{children:"Email"}),r.jsx(H,{value:l.email,disabled:!0,className:"bg-gray-50"})]})]})})]}),r.jsxs(ve,{children:[r.jsx(De,{children:r.jsxs(Re,{className:"flex items-center gap-2",children:[r.jsx(yI,{className:"h-5 w-5 text-blue-600"})," Company Info"]})}),r.jsx(_e,{className:"space-y-4",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Company Name"}),r.jsx(H,{name:"company_name",value:l.company_name,onChange:u})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Type"}),r.jsxs("select",{name:"company_type",value:l.company_type,onChange:u,className:"w-full h-10 rounded-md border bg-background px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"Select Type"}),r.jsx("option",{value:"Private Limited",children:"Private Limited"}),r.jsx("option",{value:"Proprietorship",children:"Proprietorship"})]})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Industry"}),r.jsx(H,{name:"industry",value:l.industry,onChange:u})]}),r.jsxs("div",{children:[r.jsx(U,{children:"GST Number"}),r.jsx(H,{name:"gst_number",value:l.gst_number,onChange:u})]})]})})]}),r.jsxs(ve,{children:[r.jsx(De,{children:r.jsxs(Re,{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-5 w-5 text-blue-600"})," Address"]})}),r.jsxs(_e,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Street Address"}),r.jsx(H,{name:"address",value:l.address,onChange:u})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"City"}),r.jsx(H,{name:"city",value:l.city,onChange:u})]}),r.jsxs("div",{children:[r.jsx(U,{children:"State"}),r.jsx(H,{name:"state",value:l.state,onChange:u})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Pincode"}),r.jsx(H,{name:"pincode",value:l.pincode,onChange:u})]})]})]})]})]})]})]})},o9=()=>{var f;const{user:e}=es(),[t,s]=m.useState([]),[n,a]=m.useState(null),[i,o]=m.useState([]),[l,c]=m.useState(""),[d,u]=m.useState(!0);m.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{u(!0);const{data:g}=await j.from("buyers").select("id").eq("user_id",e.id).single();if(!g)return;const{data:x}=await j.from("proposals").select(`
          id, title, status, created_at,
          vendors (id, company_name, profile_completion)
        `).eq("buyer_id",g.id).order("created_at",{ascending:!1});s(x||[])}catch(g){console.error("Error fetching chats:",g)}finally{u(!1)}};m.useEffect(()=>{if(!n)return;(async()=>{const{data:w}=await j.from("proposal_messages").select("*").eq("proposal_id",n.id).order("created_at",{ascending:!0});o(w||[])})();const x=j.channel(`chat:${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"proposal_messages",filter:`proposal_id=eq.${n.id}`},w=>{o(y=>[...y,w.new])}).subscribe();return()=>j.removeChannel(x)},[n]);const p=async()=>{if(!(!l.trim()||!n))try{await j.from("proposal_messages").insert([{proposal_id:n.id,sender_id:e.id,message:l}]),c("")}catch(g){console.error("Failed to send:",g)}};return r.jsxs("div",{className:"h-[calc(100vh-140px)] flex gap-6",children:[r.jsxs(Te,{className:"w-1/3 flex flex-col overflow-hidden border-gray-200",children:[r.jsx("div",{className:"p-4 border-b bg-gray-50",children:r.jsx("h2",{className:"font-bold text-gray-800",children:"Conversations"})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:d?r.jsx("div",{className:"p-6 flex justify-center",children:r.jsx(pe,{className:"animate-spin text-gray-400"})}):t.length===0?r.jsx("div",{className:"p-6 text-center text-gray-500",children:"No active proposals"}):t.map(g=>{var x;return r.jsxs("div",{onClick:()=>a(g),className:`p-4 border-b cursor-pointer hover:bg-blue-50 transition-colors ${(n==null?void 0:n.id)===g.id?"bg-blue-50 border-l-4 border-l-[#003D82]":""}`,children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:"font-semibold text-gray-900 text-sm truncate",children:((x=g.vendors)==null?void 0:x.company_name)||"Vendor"}),r.jsx("span",{className:"text-[10px] text-gray-400",children:new Date(g.created_at).toLocaleDateString()})]}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:g.title})]},g.id)})})]}),r.jsx(Te,{className:"flex-1 flex flex-col overflow-hidden border-gray-200 shadow-sm",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-4 border-b bg-white flex justify-between items-center shadow-sm z-10",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900",children:(f=n.vendors)==null?void 0:f.company_name}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Re: ",n.title]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 space-y-3",children:i.length===0?r.jsx("div",{className:"text-center text-gray-400 mt-10",children:"Start the conversation..."}):i.map(g=>{const x=g.sender_id===e.id;return r.jsx("div",{className:`flex ${x?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[70%] px-4 py-2 rounded-xl text-sm ${x?"bg-[#003D82] text-white rounded-tr-none":"bg-white border text-gray-800 rounded-tl-none"}`,children:g.message})},g.id)})}),r.jsxs("div",{className:"p-4 bg-white border-t flex gap-2",children:[r.jsx(H,{value:l,onChange:g=>c(g.target.value),onKeyDown:g=>g.key==="Enter"&&p(),placeholder:"Type a message...",className:"flex-1"}),r.jsx(V,{onClick:p,size:"icon",className:"bg-[#003D82]",children:r.jsx(ei,{className:"h-4 w-4"})})]})]}):r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[r.jsx(qr,{className:"h-16 w-16 mb-4 opacity-20"}),r.jsx("p",{children:"Select a conversation to view messages"})]})})]})},Bb={New:"OPEN",Pending:"OPEN","In Progress":"IN_PROGRESS",Closed:"CLOSED",new:"OPEN",pending:"OPEN",open:"OPEN","in progress":"IN_PROGRESS",closed:"CLOSED",OPEN:"OPEN",IN_PROGRESS:"IN_PROGRESS",CLOSED:"CLOSED","":"OPEN",null:"OPEN",undefined:"OPEN"},l9=e=>typeof e!="string"?"OPEN":Bb[e]||Bb[e.trim()]||"OPEN",c9=()=>{const{buyerId:e}=es(),[t,s]=m.useState([]),[n,a]=m.useState(!0),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState("ALL"),[h,p]=m.useState("ALL"),[f,g]=m.useState({subject:"",description:"",priority:"MEDIUM",status:"OPEN"}),[x,w]=m.useState({});m.useEffect(()=>{e&&y()},[e]);const y=async()=>{a(!0);try{const A=await Ka.getTickets();s(A)}catch(A){console.error("Fetch error:",A),M({title:"Error",description:"Failed to load tickets",variant:"destructive"})}finally{a(!1)}},v=()=>{const A={};return f.subject.trim()?f.subject.length<5&&(A.subject="Subject must be at least 5 characters"):A.subject="Subject is required",f.description.trim()?f.description.length<10&&(A.description="Description must be at least 10 characters"):A.description="Description is required",w(A),Object.keys(A).length===0},b=async A=>{if(A.preventDefault(),!e){M({title:"Error",description:"You must be logged in as a buyer.",variant:"destructive"});return}if(!v()){M({title:"Validation Error",description:"Please check the form for errors.",variant:"destructive"});return}o(!0);try{const _=l9(f.status);await Ka.raiseTicket({buyerId:e,subject:f.subject,description:f.description,priority:f.priority,status:_}),M({title:"Success",description:"Support ticket raised successfully!",className:"bg-green-50 border-green-200 text-green-900"}),setTimeout(()=>{c(!1),g({subject:"",description:"",priority:"MEDIUM",status:"OPEN"}),y()},300)}catch(_){console.error("Ticket error:",_),M({title:"Error",description:_.message||"Failed to raise ticket. Please try again.",variant:"destructive"})}finally{o(!1)}},N=A=>{switch(A){case"OPEN":return"bg-blue-100 text-blue-800 hover:bg-blue-200";case"IN_PROGRESS":return"bg-yellow-100 text-yellow-800 hover:bg-yellow-200";case"CLOSED":return"bg-green-100 text-green-800 hover:bg-green-200";default:return"bg-gray-100 text-gray-800"}},k=A=>{switch(A){case"HIGH":return"text-red-600 bg-red-50 border-red-200";case"MEDIUM":return"text-blue-600 bg-blue-50 border-blue-200";case"LOW":return"text-gray-600 bg-gray-50 border-gray-200";default:return"text-gray-600 bg-gray-50"}},T=t.filter(A=>!(d!=="ALL"&&A.status!==d||h!=="ALL"&&A.priority!==h));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Support Tickets"}),r.jsx("p",{className:"text-gray-500",children:"Manage your support requests and inquiries"})]}),r.jsxs(qs,{open:l,onOpenChange:c,children:[r.jsx(Tc,{asChild:!0,children:r.jsxs(V,{className:"bg-[#003D82]",children:[r.jsx(Bt,{className:"mr-2 h-4 w-4"})," New Ticket"]})}),r.jsxs(_s,{className:"sm:max-w-[500px]",children:[r.jsx(Ss,{children:r.jsx(Cs,{children:"Raise Support Ticket"})}),r.jsxs("form",{onSubmit:b,className:"space-y-4 py-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"subject",children:"Subject *"}),r.jsx(H,{id:"subject",value:f.subject,onChange:A=>{g({...f,subject:A.target.value}),x.subject&&w({...x,subject:null})},placeholder:"Brief issue summary",className:x.subject?"border-red-500":""}),x.subject&&r.jsx("p",{className:"text-xs text-red-500",children:x.subject})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"priority",children:"Priority *"}),r.jsxs(tt,{value:f.priority,onValueChange:A=>g({...f,priority:A}),children:[r.jsx(Je,{children:r.jsx(st,{placeholder:"Select priority"})}),r.jsxs(Qe,{children:[r.jsx(ye,{value:"LOW",children:"Low - General Inquiry"}),r.jsx(ye,{value:"MEDIUM",children:"Medium - Functional Issue"}),r.jsx(ye,{value:"HIGH",children:"High - Critical Issue"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"desc",children:"Description *"}),r.jsx(Gr,{id:"desc",value:f.description,onChange:A=>{g({...f,description:A.target.value}),x.description&&w({...x,description:null})},placeholder:"Describe your issue in detail...",className:`min-h-[120px] ${x.description?"border-red-500":""}`}),x.description&&r.jsx("p",{className:"text-xs text-red-500",children:x.description})]}),r.jsx(V,{type:"submit",className:"w-full bg-[#003D82]",disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"})," Submitting..."]}):"Submit Ticket"})]})]})]})]}),r.jsxs("div",{className:"flex gap-4 p-4 bg-white rounded-lg border shadow-sm flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gx,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Filters:"})]}),r.jsxs(tt,{value:d,onValueChange:u,children:[r.jsx(Je,{className:"w-[150px] h-9",children:r.jsx(st,{placeholder:"Status"})}),r.jsxs(Qe,{children:[r.jsx(ye,{value:"ALL",children:"All Statuses"}),r.jsx(ye,{value:"OPEN",children:"Open"}),r.jsx(ye,{value:"IN_PROGRESS",children:"In Progress"}),r.jsx(ye,{value:"CLOSED",children:"Closed"})]})]}),r.jsxs(tt,{value:h,onValueChange:p,children:[r.jsx(Je,{className:"w-[150px] h-9",children:r.jsx(st,{placeholder:"Priority"})}),r.jsxs(Qe,{children:[r.jsx(ye,{value:"ALL",children:"All Priorities"}),r.jsx(ye,{value:"LOW",children:"Low"}),r.jsx(ye,{value:"MEDIUM",children:"Medium"}),r.jsx(ye,{value:"HIGH",children:"High"})]})]})]}),r.jsx("div",{className:"grid gap-4",children:n?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(pe,{className:"h-8 w-8 animate-spin text-gray-400"})}):T.length===0?r.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg bg-gray-50",children:[r.jsx(qr,{className:"mx-auto h-12 w-12 text-gray-300"}),r.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No tickets found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new support ticket."})]}):T.map(A=>r.jsxs(ve,{className:"hover:shadow-md transition-shadow",children:[r.jsx(De,{className:"pb-3 pt-4 px-4 sm:px-6",children:r.jsxs("div",{className:"flex justify-between items-start gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Re,{className:"text-base font-semibold text-[#003D82]",children:A.subject}),r.jsx(Me,{variant:"outline",className:`text-xs ${k(A.priority)}`,children:A.priority})]}),r.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[r.jsxs("span",{children:["ID: #",A.id.slice(0,8).toUpperCase()]}),r.jsx("span",{children:""}),r.jsx("span",{children:new Date(A.created_at).toLocaleDateString()})]})]}),r.jsx(Me,{className:`${N(A.status)} border-0`,children:A.status.replace("_"," ")})]})}),r.jsxs(_e,{className:"px-4 sm:px-6 pb-4",children:[r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:A.description}),A.status!=="CLOSED"&&r.jsx("div",{className:"mt-3 flex justify-end",children:r.jsx(V,{variant:"ghost",size:"sm",className:"text-xs h-7 text-gray-500",children:"View Details"})})]})]},A.id))})]})},d9=()=>{const{user:e}=es(),[t,s]=m.useState([]),[n,a]=m.useState(!0);m.useEffect(()=>{e&&i()},[e]);const i=async()=>{try{a(!0);const{data:l}=await j.from("buyers").select("id").eq("user_id",e.id).single();if(!l)return;const{data:c,error:d}=await j.from("favorites").select(`
          id,
          vendors (
            id,
            company_name,
            city,
            state,
            profile_completion
          )
        `).eq("buyer_id",l.id);if(d)throw d;s(c||[])}catch(l){console.error("Error fetching favorites:",l)}finally{a(!1)}},o=async l=>{s(d=>d.filter(u=>u.id!==l));const{error:c}=await j.from("favorites").delete().eq("id",l);c&&(console.error("Failed to remove favorite",c),i())};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Saved Vendors"}),r.jsx("p",{className:"text-gray-500",children:"Quick access to your preferred suppliers"})]})}),n?r.jsx("div",{className:"flex justify-center p-20",children:r.jsx(pe,{className:"h-8 w-8 animate-spin text-gray-400"})}):t.length===0?r.jsxs(Te,{className:"bg-gray-50 border-dashed border-2 p-10 flex flex-col items-center justify-center text-center",children:[r.jsx("div",{className:"h-16 w-16 bg-gray-200 rounded-full flex items-center justify-center mb-4",children:r.jsx(br,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"No Favorites Yet"}),r.jsx("p",{className:"text-gray-500 mb-6 max-w-sm",children:"Browse the directory and save vendors you trust to quickly access them here."}),r.jsx(re,{to:"/directory",children:r.jsx(V,{children:"Browse Directory"})})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>{var d;const c=l.vendors;return c?r.jsxs(Te,{className:"overflow-hidden hover:shadow-md transition-shadow group",children:[r.jsxs("div",{className:"h-32 bg-gray-100 relative overflow-hidden flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:[r.jsx("span",{className:"text-4xl font-bold text-blue-200",children:(d=c.company_name)==null?void 0:d.charAt(0)}),r.jsx("button",{onClick:()=>o(l.id),className:"absolute top-2 right-2 p-2 bg-white/90 rounded-full text-red-500 hover:bg-red-50 transition-colors shadow-sm",title:"Remove from favorites",children:r.jsx(br,{className:"h-4 w-4 fill-current"})})]}),r.jsxs(ls,{className:"p-5",children:[r.jsx("div",{className:"flex justify-between items-start mb-2",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg text-gray-900 line-clamp-1",children:c.company_name}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[r.jsx(kt,{className:"h-3 w-3 mr-1"})," ",c.city,", ",c.state]})]})}),r.jsxs("div",{className:"flex gap-3 mt-4",children:[r.jsx(re,{to:`/directory/vendor/${c.id}`,className:"flex-1",children:r.jsxs(V,{variant:"outline",className:"w-full h-9 text-xs",children:["View Profile ",r.jsx(fx,{className:"h-3 w-3 ml-2"})]})}),r.jsx(V,{className:"flex-1 h-9 text-xs bg-[#003D82]",children:"Contact"})]})]})]},l.id):null})})]})},u9=()=>{const{buyerId:e}=es(),[t,s]=m.useState([]),[n,a]=m.useState(!0),[i,o]=m.useState(!1),[l,c]=m.useState({subject:"",message:""});m.useEffect(()=>{e&&d()},[e]);const d=async()=>{a(!0);try{const h=await Ka.getSuggestions();s(h)}catch{M({title:"Error",description:"Failed to load suggestions",variant:"destructive"})}finally{a(!1)}},u=async h=>{if(h.preventDefault(),!l.subject.trim()||!l.message.trim()){M({title:"Error",description:"Please fill all fields",variant:"destructive"});return}o(!0);try{await Ka.createSuggestion({buyer_id:e,...l}),M({title:"Success",description:"Thank you for your suggestion!",className:"bg-green-50"}),c({subject:"",message:""}),d()}catch{M({title:"Error",description:"Failed to submit suggestion",variant:"destructive"})}finally{o(!1)}};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Suggestions & Feedback"}),r.jsx("p",{className:"text-gray-500",children:"Help us improve your experience on IndianTradeMart"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(ve,{className:"sticky top-6",children:[r.jsxs(De,{children:[r.jsxs(Re,{className:"flex items-center gap-2",children:[r.jsx(P1,{className:"h-5 w-5 text-yellow-500"}),"Submit Suggestion"]}),r.jsx(Rs,{children:"Share your ideas or report data issues."})]}),r.jsx(_e,{children:r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"subject",children:"Subject"}),r.jsx(H,{id:"subject",placeholder:"Topic...",value:l.subject,onChange:h=>c({...l,subject:h.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"message",children:"Message"}),r.jsx(Gr,{id:"message",placeholder:"Tell us what you think...",className:"min-h-[120px]",value:l.message,onChange:h=>c({...l,message:h.target.value})})]}),r.jsx(V,{type:"submit",className:"w-full bg-[#003D82]",disabled:i,children:i?r.jsx(pe,{className:"animate-spin h-4 w-4"}):r.jsxs(r.Fragment,{children:[r.jsx(ei,{className:"mr-2 h-4 w-4"})," Submit"]})})]})})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Your History"}),n?r.jsx("div",{className:"flex justify-center py-10",children:r.jsx(pe,{className:"animate-spin text-gray-400"})}):t.length===0?r.jsx("div",{className:"text-center py-10 border rounded-lg bg-gray-50 text-gray-500",children:"No suggestions submitted yet."}):t.map(h=>r.jsx(ve,{children:r.jsxs(_e,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-medium text-[#003D82]",children:h.subject}),r.jsx("span",{className:"text-xs text-gray-400",children:new Date(h.created_at).toLocaleDateString()})]}),r.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-md",children:h.message})]})},h.id))]})]})]})};var Yv="Popover",[dP,CH]=ks(Yv,[Ao]),Dc=Ao(),[h9,pa]=dP(Yv),uP=e=>{const{__scopePopover:t,children:s,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Dc(t),c=m.useRef(null),[d,u]=m.useState(!1),[h=!1,p]=Fr({prop:n,defaultProp:a,onChange:i});return r.jsx(bv,{...l,children:r.jsx(h9,{scope:t,contentId:yr(),triggerRef:c,open:h,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(f=>!f),[p]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:o,children:s})})};uP.displayName=Yv;var hP="PopoverAnchor",m9=m.forwardRef((e,t)=>{const{__scopePopover:s,...n}=e,a=pa(hP,s),i=Dc(s),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return m.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(Ih,{...i,...n,ref:t})});m9.displayName=hP;var mP="PopoverTrigger",pP=m.forwardRef((e,t)=>{const{__scopePopover:s,...n}=e,a=pa(mP,s),i=Dc(s),o=He(t,a.triggerRef),l=r.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":yP(a.open),...n,ref:o,onClick:fe(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:r.jsx(Ih,{asChild:!0,...i,children:l})});pP.displayName=mP;var Xv="PopoverPortal",[p9,f9]=dP(Xv,{forceMount:void 0}),fP=e=>{const{__scopePopover:t,forceMount:s,children:n,container:a}=e,i=pa(Xv,t);return r.jsx(p9,{scope:t,forceMount:s,children:r.jsx(Us,{present:s||i.open,children:r.jsx(_o,{asChild:!0,container:a,children:n})})})};fP.displayName=Xv;var po="PopoverContent",gP=m.forwardRef((e,t)=>{const s=f9(po,e.__scopePopover),{forceMount:n=s.forceMount,...a}=e,i=pa(po,e.__scopePopover);return r.jsx(Us,{present:n||i.open,children:i.modal?r.jsx(g9,{...a,ref:t}):r.jsx(x9,{...a,ref:t})})});gP.displayName=po;var g9=m.forwardRef((e,t)=>{const s=pa(po,e.__scopePopover),n=m.useRef(null),a=He(t,n),i=m.useRef(!1);return m.useEffect(()=>{const o=n.current;if(o)return Lh(o)},[]),r.jsx(Vh,{as:mn,allowPinchZoom:!0,children:r.jsx(xP,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:fe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),x9=m.forwardRef((e,t)=>{const s=pa(po,e.__scopePopover),n=m.useRef(!1),a=m.useRef(!1);return r.jsx(xP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),xP=m.forwardRef((e,t)=>{const{__scopePopover:s,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,p=pa(po,s),f=Dc(s);return Ah(),r.jsx(bc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(No,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:r.jsx(jv,{"data-state":yP(p.open),role:"dialog",id:p.contentId,...f,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),vP="PopoverClose",v9=m.forwardRef((e,t)=>{const{__scopePopover:s,...n}=e,a=pa(vP,s);return r.jsx(Ee.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,()=>a.onOpenChange(!1))})});v9.displayName=vP;var y9="PopoverArrow",w9=m.forwardRef((e,t)=>{const{__scopePopover:s,...n}=e,a=Dc(s);return r.jsx(Nv,{...a,...n,ref:t})});w9.displayName=y9;function yP(e){return e?"open":"closed"}var b9=uP,j9=pP,N9=fP,wP=gP;const _9=b9,S9=j9,bP=m.forwardRef(({className:e,align:t="center",sideOffset:s=4,...n},a)=>r.jsx(N9,{children:r.jsx(wP,{ref:a,align:t,sideOffset:s,className:le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));bP.displayName=wP.displayName;const jP=({items:e,value:t,onChange:s,placeholder:n="Select...",searchPlaceholder:a="Search...",disabled:i=!1,isLoading:o=!1})=>{const[l,c]=m.useState(!1),[d,u]=m.useState(""),h=e.filter(f=>f.name.toLowerCase().includes(d.toLowerCase())),p=e.find(f=>f.id===t);return r.jsxs(_9,{open:l,onOpenChange:c,children:[r.jsx(S9,{asChild:!0,children:r.jsxs(V,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full justify-between font-normal",disabled:i||o,children:[p?p.name:n,o?r.jsx(pe,{className:"ml-2 h-4 w-4 animate-spin opacity-50"}):r.jsx(SI,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),r.jsxs(bP,{className:"w-[300px] p-0",align:"start",children:[r.jsx("div",{className:"p-2 border-b",children:r.jsx(H,{placeholder:a,value:d,onChange:f=>u(f.target.value),className:"h-8"})}),r.jsx("div",{className:"max-h-[200px] overflow-y-auto p-1",children:h.length===0?r.jsx("div",{className:"py-2 text-center text-sm text-gray-500",children:"No results found."}):h.map(f=>r.jsxs("div",{className:le("flex items-center rounded-sm px-2 py-1.5 text-sm outline-none cursor-pointer hover:bg-accent hover:text-accent-foreground",t===f.id&&"bg-accent text-accent-foreground"),onClick:()=>{s(f.id,f),c(!1)},children:[r.jsx(Sr,{className:le("mr-2 h-4 w-4",t===f.id?"opacity-100":"opacity-0")}),f.name]},f.id))})]})]})},C9=({value:e,onChange:t,className:s})=>{const[n,a]=m.useState([]),[i,o]=m.useState(!1);return m.useEffect(()=>{(async()=>{o(!0);try{const c=await Px.getStates();a(c)}catch(c){console.error("Failed to load states",c)}finally{o(!1)}})()},[]),r.jsx(jP,{items:n,value:e,onChange:t,placeholder:"Select State",searchPlaceholder:"Search state...",isLoading:i})},k9=({stateId:e,value:t,onChange:s,className:n,disabled:a})=>{const[i,o]=m.useState([]),[l,c]=m.useState(!1);return m.useEffect(()=>{if(!e){o([]);return}(async()=>{c(!0);try{const u=await Px.getCities(e);o(u)}catch(u){console.error("Failed to load cities",u)}finally{c(!1)}})()},[e]),r.jsx(jP,{items:i,value:t,onChange:s,placeholder:"Select City",searchPlaceholder:"Search city...",disabled:a||!e,isLoading:l})},ap=600,E9=({step:e})=>{const t=[{num:1,title:"Basic Details",icon:ti},{num:2,title:"Verification",icon:$r}];return r.jsxs("div",{className:"flex justify-between mb-8 relative max-w-[200px] mx-auto",children:[r.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-gray-200 -z-10 -translate-y-1/2"}),t.map(s=>r.jsxs("div",{className:"flex flex-col items-center bg-gray-50 px-2",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 transition-colors ${e>=s.num?"border-[#00A699] bg-[#00A699] text-white":"border-gray-300 text-gray-400 bg-white"}`,children:r.jsx(s.icon,{className:"h-4 w-4"})}),r.jsx("span",{className:`text-xs mt-1 font-medium ${e>=s.num?"text-[#00A699]":"text-gray-400"}`,children:s.title})]},s.num))]})},P9=()=>{const e=Ue(),[t,s]=m.useState(1),[n,a]=m.useState(!1),[i,o]=m.useState(ap),[l,c]=m.useState(""),[d,u]=m.useState({full_name:"",email:"",phone:"",company_name:"",address:"",state_id:"",city_id:"",state_name:"",city_name:"",password:"",confirm_password:""});m.useEffect(()=>{let N;return t===2&&i>0&&(N=setInterval(()=>{o(k=>k-1)},1e3)),()=>clearInterval(N)},[t,i]);const h=N=>{const k=Math.floor(N/60),T=N%60;return`${k}:${T<10?"0":""}${T}`},p=N=>{u({...d,[N.target.name]:N.target.value})},f=(N,k)=>{u(T=>({...T,state_id:N,state_name:k.name,city_id:"",city_name:""}))},g=(N,k)=>{u(T=>({...T,city_id:N,city_name:k.name}))},x=()=>d.password!==d.confirm_password?(M({title:"Passwords do not match",variant:"destructive"}),!1):d.password.length<8?(M({title:"Password too weak",description:"Min 8 chars required",variant:"destructive"}),!1):d.email.includes("@")?d.phone.length!==10||isNaN(d.phone)?(M({title:"Invalid Phone Number",description:"Must be 10 digits",variant:"destructive"}),!1):!d.full_name||!d.state_id||!d.city_id?(M({title:"Missing Fields",description:"Please fill all required fields",variant:"destructive"}),!1):!0:(M({title:"Invalid Email Address",variant:"destructive"}),!1),w=async N=>{if(N.preventDefault(),!!x()){a(!0);try{await Dr.requestOtp(d.email),s(2),o(ap),c(""),M({title:"OTP Sent",description:`Verification code sent to ${d.email}`})}catch(k){console.error("Signup error:",k),M({title:"Registration Failed",description:k.message,variant:"destructive"})}finally{a(!1)}}},y=N=>{const k=N.target.value.replace(/\D/g,"").slice(0,6);c(k)},v=async N=>{var T;N.preventDefault();const k=(l||"").replace(/\D/g,"");if(k.length!==6){M({title:"Invalid OTP",description:"Please enter a valid 6-digit OTP code.",variant:"destructive"});return}a(!0);try{await Dr.verifyOtp(d.email,k);const A=await Dr.createAuthUser(d.email,d.password,{full_name:d.full_name,role:"BUYER"});if(!((T=A==null?void 0:A.user)!=null&&T.id))throw new Error("Failed to create auth user");const _=A.user.id,{error:C}=await j.from("buyers").insert([{user_id:_,full_name:d.full_name,email:d.email,phone:d.phone,company_name:d.company_name,state_id:d.state_id,city_id:d.city_id,state:d.state_name,city:d.city_name}]);if(C)throw C;A.session&&await j.auth.setSession(A.session),s(3),M({title:"Registration Successful!",description:"Your account is verified. Redirecting to dashboard...",className:"bg-green-50 border-green-200"}),setTimeout(()=>{e("/buyer/dashboard")},2e3)}catch(A){console.error("Verification error:",A),M({title:"Verification Failed",description:A.message,variant:"destructive"})}finally{a(!1)}},b=async()=>{a(!0);try{await Dr.resendOtp(d.email),o(ap),c(""),M({title:"OTP Resent",description:"A new 6-digit code has been sent to your email."})}catch(N){M({title:"Error",description:N.message,variant:"destructive"})}finally{a(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(_r,{})}),r.jsxs("h2",{className:"text-3xl font-extrabold text-gray-900 mb-6",children:[t===1&&"Create Buyer Account",t===2&&"Verify Email",t===3&&"Registration Complete"]}),t<3&&r.jsx(E9,{step:t})]}),r.jsx("div",{className:"mt-2 sm:mx-auto sm:w-full sm:max-w-lg",children:r.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl sm:rounded-xl sm:px-10 border border-gray-100",children:[t===1&&r.jsxs("form",{className:"space-y-6",onSubmit:w,children:[r.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx(U,{htmlFor:"full_name",children:"Full Name *"}),r.jsx(H,{id:"full_name",name:"full_name",required:!0,className:"mt-1",placeholder:"John Doe",value:d.full_name,onChange:p})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx(U,{htmlFor:"email",children:"Email Address *"}),r.jsx(H,{id:"email",name:"email",type:"email",required:!0,className:"mt-1",placeholder:"john@example.com",value:d.email,onChange:p})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"phone",children:"Mobile Number *"}),r.jsx(H,{id:"phone",name:"phone",type:"tel",required:!0,className:"mt-1",placeholder:"10 digit number",maxLength:10,value:d.phone,onChange:p})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"company_name",children:"Company (Optional)"}),r.jsx(H,{id:"company_name",name:"company_name",className:"mt-1",placeholder:"Your Company",value:d.company_name,onChange:p})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx(U,{htmlFor:"address",children:"Address (Optional)"}),r.jsx(H,{id:"address",name:"address",className:"mt-1",placeholder:"Street, Sector, Area",value:d.address,onChange:p})]}),r.jsxs("div",{children:[r.jsx(U,{className:"block mb-1",children:"State *"}),r.jsx(C9,{value:d.state_id,onChange:f})]}),r.jsxs("div",{children:[r.jsx(U,{className:"block mb-1",children:"City *"}),r.jsx(k9,{stateId:d.state_id,value:d.city_id,onChange:g})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"password",children:"Password *"}),r.jsx(H,{id:"password",name:"password",type:"password",required:!0,className:"mt-1",placeholder:"Min 8 chars",value:d.password,onChange:p})]}),r.jsxs("div",{children:[r.jsx(U,{htmlFor:"confirm_password",children:"Confirm Password *"}),r.jsx(H,{id:"confirm_password",name:"confirm_password",type:"password",required:!0,className:"mt-1",placeholder:"Re-enter password",value:d.confirm_password,onChange:p})]})]}),r.jsx("div",{children:r.jsxs(V,{type:"submit",className:"w-full flex justify-center py-3 px-4 bg-[#00A699] hover:bg-[#008c81]",disabled:n,children:[n?r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}):"Sign Up & Verify"," ",r.jsx(Qa,{className:"ml-2 w-4 h-4"})]})})]}),t===2&&r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"bg-teal-50 p-3 rounded-full",children:r.jsx(sr,{className:"w-8 h-8 text-teal-600"})}),r.jsxs("div",{className:"text-center space-y-1",children:[r.jsx(U,{className:"text-lg",children:"One-Time Password"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Enter the OTP sent to ",r.jsx("strong",{children:d.email})]})]}),r.jsx(H,{value:l,onChange:y,className:"text-center text-2xl tracking-widest w-56 h-12 font-mono",maxLength:6,inputMode:"numeric",autoComplete:"one-time-code",placeholder:"000000"}),r.jsxs("div",{className:"text-sm text-gray-500 flex flex-col items-center gap-1",children:[r.jsxs("span",{children:["Expires in: ",r.jsx("span",{className:"font-medium text-red-500",children:h(i)})]}),i===0&&r.jsx("button",{type:"button",onClick:b,className:"text-teal-600 underline hover:text-teal-800",children:"Resend OTP"})]})]}),r.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[r.jsx(V,{type:"submit",className:"w-full bg-[#00A699] hover:bg-[#008c81]",disabled:n||l.replace(/\D/g,"").length!==6,children:n?r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}):"Verify & Create Account"}),r.jsxs(V,{type:"button",variant:"ghost",onClick:()=>s(1),disabled:n,children:[r.jsx(Vr,{className:"w-4 h-4 mr-2"})," Back"]})]})]}),t===3&&r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4 animate-in zoom-in duration-300",children:[r.jsx("div",{className:"bg-green-100 p-4 rounded-full",children:r.jsx(Hi,{className:"w-16 h-16 text-green-600"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Success!"}),r.jsx("p",{className:"text-center text-gray-500 max-w-xs",children:"Your buyer account has been created successfully. Redirecting to login..."}),r.jsx(V,{onClick:()=>e("/buyer/login"),className:"mt-4 bg-[#00A699]",children:"Go to Login Now"})]}),t===1&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-300"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),r.jsx("div",{className:"mt-6",children:r.jsx(re,{to:"/buyer/login",className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Sign in instead"})})]})]})})]})},A9=()=>{const e=Ue(),{signIn:t}=es(),[s,n]=m.useState(!1),[a,i]=m.useState({email:"rajesh@buyer.com",password:""}),o=c=>{i({...a,[c.target.name]:c.target.value})},l=async c=>{if(c.preventDefault(),!a.password){M({title:"Password Missing",description:"Please enter your password.",variant:"destructive"});return}n(!0);try{const{error:d}=await t(a.email,a.password);if(d)throw d;M({title:"Welcome back!",description:"Successfully logged in."}),e("/buyer/dashboard")}catch(d){console.error("Login failed",d),M({title:"Login Failed",description:d.message||"Invalid credentials.",variant:"destructive"})}finally{n(!1)}};return r.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(_r,{})}),r.jsx("h2",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Buyer Login"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Access your procurement dashboard"})]}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:r.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl shadow-slate-200/50 sm:rounded-xl sm:px-10 border border-slate-100",children:[r.jsxs("form",{className:"space-y-6",onSubmit:l,children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"email",className:"text-slate-700",children:"Email Address"}),r.jsx(H,{id:"email",name:"email",type:"email",required:!0,className:"mt-1",value:a.email,onChange:o,placeholder:"name@company.com"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(U,{htmlFor:"password",className:"text-slate-700",children:"Password"}),r.jsx("a",{href:"/auth/forgot-password?role=buyer",className:"text-xs font-medium text-blue-600 hover:text-blue-800",children:"Forgot password?"})]}),r.jsx(H,{id:"password",name:"password",type:"password",required:!0,className:"mt-1",value:a.password,onChange:o,placeholder:"Enter your password"})]}),r.jsx("div",{children:r.jsxs(V,{type:"submit",className:"w-full flex justify-center py-2.5 px-4 bg-blue-700 hover:bg-blue-800 text-white font-semibold transition-all",disabled:s,children:[s?r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}):null,s?"Signing In...":"Sign in",!s&&r.jsx(Qa,{className:"ml-2 w-4 h-4"})]})})]}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-slate-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-white text-slate-500",children:"New to IndianTradeMart?"})})]}),r.jsx("div",{className:"mt-6",children:r.jsx(re,{to:"/buyer/register",className:"w-full flex justify-center py-2 px-4 border border-slate-300 rounded-md shadow-sm text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 transition-colors",children:"Create new buyer account"})})]})]})})]})},$b=()=>r.jsx(XU,{children:r.jsxs(bo,{children:[r.jsx(Y,{path:"login",element:r.jsx(A9,{})}),r.jsx(Y,{path:"register",element:r.jsx(Vu,{pageRoute:"/buyer/register",children:r.jsx(P9,{})})}),r.jsx(Y,{path:"forgot-password",element:r.jsx(Hv,{})}),r.jsx(Y,{element:r.jsx(Fu,{allowedRoles:["BUYER"]}),children:r.jsxs(Y,{element:r.jsx(Vu,{pageRoute:"/buyer",children:r.jsx(ZU,{})}),children:[r.jsx(Y,{index:!0,element:r.jsx(Tt,{to:"dashboard",replace:!0})}),r.jsx(Y,{path:"dashboard",element:r.jsx(e9,{})}),r.jsx(Y,{path:"proposals",element:r.jsx(t9,{})}),r.jsx(Y,{path:"proposals/new",element:r.jsx(s9,{})}),r.jsx(Y,{path:"profile",element:r.jsx(i9,{})}),r.jsx(Y,{path:"messages",element:r.jsx(o9,{})}),r.jsx(Y,{path:"tickets",element:r.jsx(c9,{})}),r.jsx(Y,{path:"favorites",element:r.jsx(d9,{})}),r.jsx(Y,{path:"suggestions",element:r.jsx(u9,{})})]})}),r.jsx(Y,{path:"*",element:r.jsx(Tt,{to:"login"})})]})}),NP=({message:e})=>r.jsxs("div",{className:"min-h-screen bg-neutral-950 flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans z-[9999]",children:[r.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop')] opacity-10 bg-cover bg-center pointer-events-none"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-transparent pointer-events-none"}),r.jsxs(Dt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative z-10 max-w-2xl w-full text-center",children:[r.jsx("div",{className:"mx-auto bg-red-500/10 h-24 w-24 rounded-full flex items-center justify-center mb-8 border border-red-500/20 backdrop-blur-sm animate-pulse",children:r.jsx(uc,{className:"h-12 w-12 text-red-500"})}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6 tracking-tight",children:"System Under Maintenance"}),r.jsxs("div",{className:"bg-neutral-900/50 border border-white/10 rounded-xl p-8 backdrop-blur-md shadow-2xl",children:[r.jsx("p",{className:"text-xl text-neutral-300 mb-8 leading-relaxed",children:e||"We are currently performing scheduled system upgrades to improve your experience. Access is temporarily restricted."}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6 text-sm text-neutral-400 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dc,{className:"h-4 w-4 text-blue-400"}),r.jsx("span",{children:"Estimated Return: ~2 Hours"})]}),r.jsx("div",{className:"h-1 w-1 bg-neutral-600 rounded-full hidden sm:block"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"animate-pulse h-2 w-2 bg-amber-500 rounded-full"}),r.jsx("span",{children:"Status: Maintenance In Progress"})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(V,{onClick:()=>window.location.reload(),variant:"outline",className:"bg-white/5 border-white/10 hover:bg-white/10 text-white gap-2 h-12 px-8",children:[r.jsx(Pa,{className:"h-4 w-4"})," Check Status"]})})]}),r.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 gap-4 max-w-lg mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 text-neutral-500 bg-black/40 p-3 rounded-lg border border-white/5",children:[r.jsx(sr,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:"support@indiantrademart.com"})]}),r.jsxs("div",{className:"flex items-center justify-center gap-3 text-neutral-500 bg-black/40 p-3 rounded-lg border border-white/5",children:[r.jsx(Br,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:"+91 1800-123-4567"})]})]}),r.jsx("div",{className:"mt-8 text-xs text-neutral-600 font-mono",children:"ID: MAINT_MODE_GLOBAL  IndianTradeMart Systems"})]})]}),Ub=({icon:e,label:t,path:s,active:n,collapsed:a})=>r.jsx(re,{to:s,children:r.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 group ${n?"bg-[#003D82] text-white shadow-md":"text-neutral-600 hover:bg-neutral-100 hover:text-[#003D82]"}`,children:[r.jsx(e,{className:`h-5 w-5 ${n?"text-white":"text-neutral-500 group-hover:text-[#003D82]"}`}),!a&&r.jsx("span",{className:"font-medium text-sm",children:t}),n&&!a&&r.jsx(Dt.div,{layoutId:"activeIndicator",className:"ml-auto w-1 h-1 rounded-full bg-white"})]})}),zb=({role:e})=>{const[t,s]=m.useState(!1),[n,a]=m.useState(!1),i=Zt(),o=Ue(),l=fc(),c=Cx(),d=e==="VENDOR",u=d?l.user:c.user,h=d?l.logout:c.logout,[p,f]=m.useState({isBlocked:!1,message:""}),[g,x]=m.useState(!0);m.useEffect(()=>{(async()=>{try{let T=i.pathname;e==="VENDOR"&&i.pathname.startsWith("/vendor")&&(T="/vendor/dashboard");const{data:A,error:_}=await j.from("page_status").select("*").eq("page_route",T).maybeSingle();A&&A.is_blanked?f({isBlocked:!0,message:A.error_message}):f({isBlocked:!1,message:""})}catch{f({isBlocked:!1,message:""})}finally{x(!1)}})();const k=j.channel("portal_status_check").on("postgres_changes",{event:"UPDATE",schema:"public",table:"page_status"},T=>{const A=e==="VENDOR"&&i.pathname.startsWith("/vendor")?"/vendor/dashboard":i.pathname;T.new.page_route===A&&f({isBlocked:T.new.is_blanked,message:T.new.error_message})}).subscribe();return()=>{j.removeChannel(k)}},[i.pathname,e]);const w=async()=>{await h(),o(d?"/vendor/login":"/admin/login")},v=(()=>{switch(e){case"VENDOR":return[{icon:pr,label:"Dashboard",path:"/vendor/dashboard"},{icon:Ua,label:"Products",path:"/vendor/products"},{icon:St,label:"Leads",path:"/vendor/leads"},{icon:N1,label:"Packages",path:"/vendor/packages"},{icon:$r,label:"KYC & Profile",path:"/vendor/kyc"},{icon:mx,label:"Support",path:"/vendor/support"},{icon:Ul,label:"Settings",path:"/vendor/settings"}];case"ADMIN":return[{icon:pr,label:"Dashboard",path:"/admin/dashboard"},{icon:St,label:"Staff",path:"/admin/staff"},{icon:Qt,label:"Audit Logs",path:"/admin/audit-logs"},{icon:Ul,label:"Settings",path:"/admin/settings"}];case"HR":return[{icon:pr,label:"Dashboard",path:"/hr/dashboard"},{icon:St,label:"Employees",path:"/hr/staff"}];case"DATA_ENTRY":return[{icon:pr,label:"Dashboard",path:"/employee/dataentry/dashboard"},{icon:gu,label:"Categories",path:"/employee/dataentry/categories"},{icon:gu,label:"Locations",path:"/employee/dataentry/locations"},{icon:St,label:"Vendors",path:"/employee/dataentry/vendors"},{icon:$r,label:"KYC Approvals",path:"/employee/dataentry/kyc"}];case"SUPPORT":return[{icon:pr,label:"Dashboard",path:"/employee/support/dashboard"},{icon:xx,label:"Tickets",path:"/employee/support/tickets"}];case"SALES":return[{icon:pr,label:"Dashboard",path:"/employee/sales/dashboard"},{icon:St,label:"Leads",path:"/employee/sales/leads"},{icon:hx,label:"Pricing Rules",path:"/employee/sales/pricing-rules"}];default:return[]}})(),b=e==="DATA_ENTRY"?"Data Entry":e.charAt(0)+e.slice(1).toLowerCase().replace("_"," ")+" Portal";return g?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:r.jsx(pe,{className:"h-8 w-8 animate-spin text-[#003D82]"})}):p.isBlocked?r.jsx(NP,{message:p.message}):r.jsxs("div",{className:"min-h-screen bg-neutral-50 flex font-sans text-neutral-900",children:[r.jsxs(Dt.aside,{initial:!1,animate:{width:t?80:260},className:"hidden md:flex flex-col bg-white border-r border-neutral-200 h-screen sticky top-0 z-30",children:[r.jsxs("div",{className:"p-4 flex items-center justify-between h-16 border-b border-neutral-100",children:[!t&&r.jsx(Dt.span,{initial:{opacity:0},animate:{opacity:1},className:"font-bold text-lg text-[#003D82] truncate",children:b}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>s(!t),className:"ml-auto",children:t?r.jsx(Xt,{className:"h-4 w-4"}):r.jsx(oo,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex-1 py-6 px-3 space-y-1 overflow-y-auto",children:v.map(N=>r.jsx(Ub,{...N,active:i.pathname.startsWith(N.path),collapsed:t},N.path))}),r.jsx("div",{className:"p-4 border-t border-neutral-100",children:r.jsxs(V,{variant:"ghost",className:`w-full ${t?"justify-center px-0":"justify-start"} text-red-600 hover:text-red-700 hover:bg-red-50`,onClick:w,children:[r.jsx(an,{className:"h-5 w-5 mr-2"}),!t&&"Logout"]})})]}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[r.jsxs("header",{className:"h-16 bg-white border-b border-neutral-200 flex items-center justify-between px-4 sticky top-0 z-20",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(V,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>a(!0),children:r.jsx(oo,{className:"h-6 w-6"})}),r.jsxs("div",{className:"hidden sm:flex relative",children:[r.jsx(Et,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-neutral-400"}),r.jsx("input",{type:"text",placeholder:"Search...",className:"pl-9 pr-4 py-2 bg-neutral-100 border-none rounded-md text-sm focus:ring-2 focus:ring-[#003D82] w-64"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(V,{variant:"ghost",size:"icon",className:"relative text-neutral-500",children:[r.jsx(cc,{className:"h-5 w-5"}),r.jsx("span",{className:"absolute top-2 right-2 h-2 w-2 bg-red-500 rounded-full border-2 border-white"})]}),r.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-neutral-200",children:[r.jsxs("div",{className:"text-right hidden sm:block",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-900",children:(u==null?void 0:u.name)||(u==null?void 0:u.email)}),r.jsx("p",{className:"text-xs text-neutral-500",children:e})]}),r.jsx("div",{className:"h-9 w-9 bg-[#003D82] rounded-full flex items-center justify-center text-white font-medium",children:((u==null?void 0:u.name)||(u==null?void 0:u.email)||"?").charAt(0).toUpperCase()})]})]})]}),r.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto overflow-x-hidden",children:r.jsx(la,{})})]}),r.jsx(dv,{children:n&&r.jsxs(r.Fragment,{children:[r.jsx(Dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>a(!1)}),r.jsxs(Dt.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 left-0 bottom-0 w-64 bg-white z-50 md:hidden flex flex-col shadow-xl",children:[r.jsxs("div",{className:"p-4 border-b border-neutral-100 flex justify-between items-center",children:[r.jsx("span",{className:"font-bold text-xl text-[#003D82]",children:b}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>a(!1),children:r.jsx(yt,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"flex-1 py-4 px-2 space-y-1",children:v.map(N=>r.jsx(Ub,{...N,active:i.pathname.startsWith(N.path),collapsed:!1},N.path))}),r.jsx("div",{className:"p-4 bg-neutral-50",children:r.jsxs(V,{variant:"destructive",className:"w-full justify-start",onClick:w,children:[r.jsx(an,{className:"h-4 w-4 mr-2"})," Logout"]})})]})]})})]})},Es=({to:e,icon:t,children:s})=>r.jsxs(M_,{to:e,className:({isActive:n})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${n?"bg-[#8B6F47] text-white":"text-neutral-600 hover:bg-neutral-100 hover:text-[#8B6F47]"}`,children:[r.jsx(t,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:s})]}),ip=({allowedRole:e})=>{var u,h;const{user:t,logout:s,isLoading:n}=jh(),a=Ue(),i=Zt(),[o,l]=m.useState(!1);if(n)return r.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 text-slate-500",children:"Loading workspace..."});if(!t)return r.jsx(Tt,{to:"/employee/login",replace:!0});if(e&&t.role!==e){const p={DATA_ENTRY:"/employee/dataentry/dashboard",SUPPORT:"/employee/support/dashboard",SALES:"/employee/sales/dashboard"},f=p[t.role]||"/employee/login";if(i.pathname!==f&&!i.pathname.startsWith(p[t.role]))return r.jsx(Tt,{to:f,replace:!0})}const c=()=>{s(),a("/employee/login")},d=()=>{const p=i.pathname.split("/"),f=p[p.length-1];return f.charAt(0).toUpperCase()+f.slice(1).replace("-"," ")};return r.jsxs("div",{className:"min-h-screen bg-neutral-50 flex",children:[o&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>l(!1)}),r.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-white border-r border-neutral-200 transform transition-transform duration-200 ease-in-out ${o?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[r.jsx("div",{className:"h-20 flex items-center justify-center border-b border-neutral-100 bg-[#003D82]",children:r.jsx("img",{src:"https://horizons-cdn.hostinger.com/f872dc8f-3c19-4e7d-8677-e9f5922486ba/fdb3954cae9a5b8889e2ea4e9a3885ae.png",alt:"ITM Employee",className:"h-8 w-auto brightness-0 invert"})}),r.jsxs("nav",{className:"p-4 space-y-1 overflow-y-auto max-h-[calc(100vh-140px)]",children:[t.role==="DATA_ENTRY"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-neutral-400 uppercase tracking-wider",children:"Data Operations"}),r.jsx(Es,{to:"/employee/dataentry/dashboard",icon:pr,children:"Dashboard"}),r.jsx(Es,{to:"/employee/dataentry/vendor-onboarding",icon:GI,children:"Vendor Onboarding"}),r.jsx(Es,{to:"/employee/dataentry/vendors",icon:St,children:"Vendors"}),r.jsx(Es,{to:"/employee/dataentry/records",icon:Qt,children:"Data Entry Records"}),r.jsx("div",{className:"px-4 py-2 mt-4 text-xs font-semibold text-neutral-400 uppercase tracking-wider",children:"Management"}),r.jsx(Es,{to:"/employee/dataentry/categories",icon:gu,children:"Categories"}),r.jsx(Es,{to:"/employee/dataentry/locations",icon:TI,children:"Locations"}),r.jsx(Es,{to:"/employee/dataentry/bulk-import",icon:Ur,children:"Bulk Import (Loc)"}),r.jsx("div",{className:"px-4 py-2 mt-4 text-xs font-semibold text-neutral-400 uppercase tracking-wider",children:"Review"}),r.jsx(Es,{to:"/employee/dataentry/kyc-review",icon:$r,children:"KYC Review"})]}),t.role==="SUPPORT"&&r.jsxs(r.Fragment,{children:[r.jsx(Es,{to:"/employee/support/dashboard",icon:pr,children:"Dashboard"}),r.jsx(Es,{to:"/employee/support/tickets",icon:Qt,children:"Help Tickets"})]}),t.role==="SALES"&&r.jsxs(r.Fragment,{children:[r.jsx(Es,{to:"/employee/sales/dashboard",icon:ca,children:"Dashboard"}),r.jsx(Es,{to:"/employee/sales/leads",icon:St,children:"Lead Management"}),r.jsx(Es,{to:"/employee/sales/pricing-rules",icon:M1,children:"Pricing Rules"})]})]}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-neutral-100 bg-neutral-50",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-[#8B6F47] flex items-center justify-center text-white font-bold",children:(t==null?void 0:t.avatar)||((u=t==null?void 0:t.name)==null?void 0:u.charAt(0))||"E"}),r.jsxs("div",{className:"overflow-hidden",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:t==null?void 0:t.name}),r.jsx("p",{className:"text-xs text-neutral-500 truncate",children:(h=t==null?void 0:t.role)==null?void 0:h.replace("_"," ")})]})]}),r.jsxs(V,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:c,children:[r.jsx(an,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[r.jsxs("header",{className:"h-16 bg-white border-b border-neutral-200 flex items-center justify-between px-4 lg:px-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{className:"lg:hidden p-2 -ml-2 text-neutral-600",onClick:()=>l(!0),children:r.jsx(oo,{className:"h-6 w-6"})}),r.jsx("h1",{className:"text-xl font-semibold text-neutral-800",children:d()})]}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>M({title:"Notifications",description:"No new alerts."}),children:r.jsx(cc,{className:"h-5 w-5 text-neutral-500"})})]}),r.jsx("main",{className:"flex-1 p-4 lg:p-8 overflow-y-auto",children:r.jsx(la,{})})]})]})},fd={getStats:async()=>{const[e,t,s]=await Promise.all([j.from("users").select("*",{count:"exact",head:!0}),j.from("vendors").select("*",{count:"exact",head:!0}),j.from("lead_purchases").select("*",{count:"exact",head:!0})]),{data:n}=await j.from("lead_purchases").select("amount"),{data:a}=await j.from("vendor_payments").select("amount"),i=((n==null?void 0:n.reduce((o,l)=>o+(l.amount||0),0))||0)+((a==null?void 0:a.reduce((o,l)=>o+(l.amount||0),0))||0);return{totalUsers:e.count||0,activeVendors:t.count||0,totalOrders:s.count||0,totalRevenue:i}},getRecentOrders:async()=>{const{data:e,error:t}=await j.from("lead_purchases").select("*, vendor:vendors(company_name)").order("purchase_date",{ascending:!1}).limit(10);if(t)throw t;return e},getDataEntryPerformance:async()=>{const{data:e}=await j.from("employees").select("user_id, full_name").eq("role","DATA_ENTRY");return e?await Promise.all(e.map(async s=>{const{count:n}=await j.from("vendors").select("*",{count:"exact",head:!0}).eq("created_by_user_id",s.user_id),{data:a}=await j.from("vendors").select("id").eq("created_by_user_id",s.user_id);let i=0;if(a&&a.length>0){const o=a.map(c=>c.id),{count:l}=await j.from("products").select("*",{count:"exact",head:!0}).in("vendor_id",o);i=l||0}return{id:s.user_id,name:s.full_name,vendorsCreated:n||0,productsListed:i,kycVerified:0}})):[]},getVendorsByCreator:async e=>{const{data:t,error:s}=await j.from("vendors").select("*, products(*)").eq("created_by_user_id",e);if(s)throw s;return t},products:{list:async()=>{const{data:e,error:t}=await j.from("products").select("id, name, vendor_id, vendors(company_name), status, created_at, price").order("created_at",{ascending:!1});if(t)throw t;return e||[]}},states:{list:async()=>{const{data:e,error:t}=await j.from("states").select("*").order("name");if(t)throw t;return e||[]},create:async e=>{const t=e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),{data:s,error:n}=await j.from("states").insert([{name:e,slug:t,is_active:!0}]).select().single();if(n)throw n;return s},update:async(e,t,s)=>{const n=t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),{data:a,error:i}=await j.from("states").update({name:t,slug:n,is_active:s}).eq("id",e).select().single();if(i)throw i;return a},delete:async e=>{const{error:t}=await j.from("states").delete().eq("id",e);if(t)throw t}},cities:{list:async()=>{const{data:e,error:t}=await j.from("cities").select("*, states(name)").order("name");if(t)throw t;return e||[]},create:async(e,t)=>{const s=t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),{data:n,error:a}=await j.from("cities").insert([{state_id:e,name:t,slug:s,is_active:!0}]).select().single();if(a)throw a;return n},update:async(e,t,s)=>{const n=t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),{data:a,error:i}=await j.from("cities").update({name:t,slug:n,is_active:s}).eq("id",e).select().single();if(i)throw i;return a},delete:async e=>{const{error:t}=await j.from("cities").delete().eq("id",e);if(t)throw t}}},Is=({title:e,value:t,icon:s,trend:n,trendUp:a,className:i,description:o})=>r.jsxs("div",{className:le("bg-white p-6 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",i),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500",children:e}),s&&r.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-600",children:r.jsx(s,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t}),(n||o)&&r.jsxs("div",{className:"flex items-center text-xs",children:[n&&r.jsxs("span",{className:le("flex items-center font-medium mr-2",a===!0?"text-green-600":a===!1?"text-red-600":"text-gray-500"),children:[a===!0&&r.jsx(xI,{className:"w-3 h-3 mr-1"}),a===!1&&r.jsx(gI,{className:"w-3 h-3 mr-1"}),n]}),o&&r.jsx("span",{className:"text-gray-400",children:o})]})]})]}),ts=$e.forwardRef(({className:e,...t},s)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:s,className:le("w-full caption-bottom text-sm",e),...t})}));ts.displayName="Table";const ss=$e.forwardRef(({className:e,...t},s)=>r.jsx("thead",{ref:s,className:le("[&_tr]:border-b",e),...t}));ss.displayName="TableHeader";const rs=$e.forwardRef(({className:e,...t},s)=>r.jsx("tbody",{ref:s,className:le("[&_tr:last-child]:border-0",e),...t}));rs.displayName="TableBody";const T9=$e.forwardRef(({className:e,...t},s)=>r.jsx("tfoot",{ref:s,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));T9.displayName="TableFooter";const Le=$e.forwardRef(({className:e,...t},s)=>r.jsx("tr",{ref:s,className:le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Le.displayName="TableRow";const me=$e.forwardRef(({className:e,...t},s)=>r.jsx("th",{ref:s,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));me.displayName="TableHead";const ie=$e.forwardRef(({className:e,...t},s)=>r.jsx("td",{ref:s,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ie.displayName="TableCell";const D9=$e.forwardRef(({className:e,...t},s)=>r.jsx("caption",{ref:s,className:le("mt-4 text-sm text-muted-foreground",e),...t}));D9.displayName="TableCaption";const R9=()=>{const[e,t]=m.useState({totalUsers:0,activeVendors:0,totalOrders:0,totalRevenue:0}),[s,n]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState(null),[u,h]=m.useState({});m.useEffect(()=>{(async()=>{try{const g=await fd.getStats();t(g);const x=await fd.getRecentOrders();n(x||[]);const w=await fd.getDataEntryPerformance();i(w||[])}catch(g){console.error(g)}finally{l(!1)}})()},[]);const p=async f=>{if(c===f){d(null);return}if(d(f),!u[f]){const g=await fd.getVendorsByCreator(f);h(x=>({...x,[f]:g}))}};return r.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Overview"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(Is,{title:"Total Users",value:e.totalUsers,icon:St,trend:"+5% this week",trendUp:!0}),r.jsx(Is,{title:"Active Vendors",value:e.activeVendors,icon:I1,trend:"+12% this week",trendUp:!0}),r.jsx(Is,{title:"Total Revenue",value:`${e.totalRevenue.toLocaleString()}`,icon:mh,trend:"+8% this month",trendUp:!0}),r.jsx(Is,{title:"Total Orders",value:e.totalOrders,icon:ca,trend:"+3% today",trendUp:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{children:"Recent Lead Purchases"})}),r.jsx(_e,{children:o?r.jsx("p",{children:"Loading..."}):r.jsxs("div",{className:"space-y-4",children:[s.map(f=>{var g;return r.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:((g=f.vendor)==null?void 0:g.company_name)||"Unknown Vendor"}),r.jsx("p",{className:"text-sm text-gray-500",children:new Date(f.purchase_date).toLocaleDateString()})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-green-600",children:["",f.amount]}),r.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:f.payment_status})]})]},f.id)}),s.length===0&&r.jsx("p",{className:"text-gray-500 text-center",children:"No recent orders found."})]})})]}),r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{children:"Data Entry Performance"})}),r.jsx(_e,{children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{className:"w-[30px]"}),r.jsx(me,{children:"Name"}),r.jsx(me,{className:"text-center",children:"Vendors"}),r.jsx(me,{className:"text-center",children:"Products"})]})}),r.jsx(rs,{children:a.map(f=>r.jsxs($e.Fragment,{children:[r.jsxs(Le,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>p(f.id),children:[r.jsx(ie,{children:c===f.id?r.jsx(io,{className:"w-4 h-4"}):r.jsx(Xt,{className:"w-4 h-4"})}),r.jsx(ie,{className:"font-medium",children:f.name}),r.jsx(ie,{className:"text-center font-bold text-blue-600",children:f.vendorsCreated}),r.jsx(ie,{className:"text-center",children:f.productsListed})]}),c===f.id&&r.jsxs(Le,{className:"bg-slate-50",children:[r.jsx(ie,{}),r.jsx(ie,{colSpan:3,children:r.jsxs("div",{className:"p-2 max-h-60 overflow-auto",children:[r.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Created Vendors"}),u[f.id]?r.jsxs("div",{className:"space-y-2",children:[u[f.id].map(g=>{var x;return r.jsxs("div",{className:"flex justify-between text-sm border-b pb-1",children:[r.jsx("span",{children:g.company_name}),r.jsxs("span",{className:"text-gray-500",children:[((x=g.products)==null?void 0:x.length)||0," products"]})]},g.id)}),u[f.id].length===0&&r.jsx("p",{className:"text-xs text-gray-400",children:"No vendors created yet."})]}):r.jsx("p",{className:"text-xs",children:"Loading..."})]})})]})]},f.id))})]})})]})]})]})},qd={createUser:async e=>{const{data:t,error:s}=await j.auth.signUp({email:e.email,password:e.password,options:{data:{full_name:e.full_name,role:e.role||"USER",phone:e.phone}}});if(s)throw s;if(!t.user)throw new Error("Failed to create auth user");const{data:n}=await j.from("users").select("id").eq("id",t.user.id).single();if(!n){const{error:a}=await j.from("users").insert([{id:t.user.id,email:e.email,full_name:e.full_name,role:e.role||"USER",phone:e.phone,created_at:new Date().toISOString()}]);if(a)throw a}return["ADMIN","DATA_ENTRY","SALES","SUPPORT","HR"].includes(e.role)&&await qd.employees.create({user_id:t.user.id,full_name:e.full_name,email:e.email,phone:e.phone,role:e.role,department:e.department||"General",status:"ACTIVE"}),t.user},getUser:async e=>{const{data:t,error:s}=await j.from("users").select("*").eq("id",e).single();if(s)throw s;return t},listUsers:async(e=null)=>{let t=j.from("users").select("*").order("created_at",{ascending:!1});e&&(t=t.eq("role",e));const{data:s,error:n}=await t;if(n)throw n;return s},updateUser:async(e,t)=>{const s={full_name:t.full_name,phone:t.phone,role:t.role,updated_at:new Date().toISOString()};Object.keys(s).forEach(i=>s[i]===void 0&&delete s[i]);const{data:n,error:a}=await j.from("users").update(s).eq("id",e).select().single();if(a)throw a;return n},deleteUser:async e=>{const{error:t}=await j.from("users").delete().eq("id",e);if(t)throw t},admins:{list:async()=>{const{data:e,error:t}=await j.from("users").select("*").eq("role","ADMIN");if(t)throw t;return e}},employees:{create:async e=>{const{data:t,error:s}=await j.from("employees").insert([{user_id:e.user_id,full_name:e.full_name,email:e.email,phone:e.phone,role:e.role,department:e.department,status:"ACTIVE"}]).select().single();if(s)throw s;return t},list:async()=>{const{data:e,error:t}=await j.from("employees").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},update:async(e,t)=>{const{data:s,error:n}=await j.from("employees").update(t).eq("id",e).select().single();if(n)throw n;return s},assignToVendor:async(e,t)=>{const{error:s}=await j.from("vendors").update({assigned_to:e}).eq("id",t);if(s)throw s}}},I9=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!0),[a,i]=m.useState(""),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState({full_name:"",email:"",phone:"",role:"DATA_ENTRY",department:"Operations",password:""});m.useEffect(()=>{p()},[]);const p=async()=>{try{const w=await qd.employees.list();t(w||[])}catch{M({title:"Failed to load staff",variant:"destructive"})}finally{n(!1)}},f=async()=>{if(!u.email||!u.password||!u.full_name){M({title:"Please fill required fields",variant:"destructive"});return}d(!0);try{await qd.createUser(u),M({title:"Employee created successfully"}),l(!1),p(),h({full_name:"",email:"",phone:"",role:"DATA_ENTRY",department:"Operations",password:""})}catch(w){M({title:"Error creating employee",description:w.message,variant:"destructive"})}finally{d(!1)}},g=async w=>{if(window.confirm("Delete this employee? This cannot be undone."))try{await qd.deleteUser(w),t(e.filter(y=>y.id!==w)),M({title:"Employee removed"})}catch(y){M({title:"Delete failed",description:y.message,variant:"destructive"})}},x=e.filter(w=>{var y,v,b;return((y=w.full_name)==null?void 0:y.toLowerCase().includes(a.toLowerCase()))||((v=w.email)==null?void 0:v.toLowerCase().includes(a.toLowerCase()))||((b=w.role)==null?void 0:b.toLowerCase().includes(a.toLowerCase()))});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Staff Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage employees and their access roles."})]}),r.jsxs(qs,{open:o,onOpenChange:l,children:[r.jsx(Tc,{asChild:!0,children:r.jsxs(V,{className:"bg-[#003D82]",children:[r.jsx(Bt,{className:"mr-2 h-4 w-4"})," Add Employee"]})}),r.jsxs(_s,{children:[r.jsx(Ss,{children:r.jsx(Cs,{children:"Add New Employee"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Full Name"}),r.jsx(H,{value:u.full_name,onChange:w=>h({...u,full_name:w.target.value}),placeholder:"John Doe"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Phone"}),r.jsx(H,{value:u.phone,onChange:w=>h({...u,phone:w.target.value}),placeholder:"+91..."})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Email"}),r.jsx(H,{type:"email",value:u.email,onChange:w=>h({...u,email:w.target.value}),placeholder:"john@company.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Password"}),r.jsx(H,{type:"password",value:u.password,onChange:w=>h({...u,password:w.target.value}),placeholder:"********"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Role"}),r.jsxs(tt,{value:u.role,onValueChange:w=>h({...u,role:w}),children:[r.jsx(Je,{children:r.jsx(st,{})}),r.jsxs(Qe,{children:[r.jsx(ye,{value:"DATA_ENTRY",children:"Data Entry"}),r.jsx(ye,{value:"SALES",children:"Sales"}),r.jsx(ye,{value:"SUPPORT",children:"Support"}),r.jsx(ye,{value:"HR",children:"HR"}),r.jsx(ye,{value:"ADMIN",children:"Admin"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Department"}),r.jsxs(tt,{value:u.department,onValueChange:w=>h({...u,department:w}),children:[r.jsx(Je,{children:r.jsx(st,{})}),r.jsxs(Qe,{children:[r.jsx(ye,{value:"Operations",children:"Operations"}),r.jsx(ye,{value:"Sales",children:"Sales"}),r.jsx(ye,{value:"Customer Success",children:"Customer Success"}),r.jsx(ye,{value:"IT",children:"IT"})]})]})]})]})]}),r.jsxs(xn,{children:[r.jsx(V,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),r.jsxs(V,{onClick:f,disabled:c,children:[c?r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Account"]})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-white p-4 rounded-lg border",children:[r.jsx(Et,{className:"h-5 w-5 text-gray-400"}),r.jsx(H,{placeholder:"Search by name, email or role...",className:"border-0 focus-visible:ring-0",value:a,onChange:w=>i(w.target.value)})]}),r.jsx("div",{className:"border rounded-lg bg-white overflow-hidden",children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{children:"Name / Email"}),r.jsx(me,{children:"Role"}),r.jsx(me,{children:"Department"}),r.jsx(me,{children:"Status"}),r.jsx(me,{children:"Joined"}),r.jsx(me,{className:"text-right",children:"Actions"})]})}),r.jsx(rs,{children:s?r.jsx(Le,{children:r.jsx(ie,{colSpan:6,className:"text-center h-24",children:"Loading..."})}):x.length===0?r.jsx(Le,{children:r.jsx(ie,{colSpan:6,className:"text-center h-24 text-gray-500",children:"No employees found"})}):x.map(w=>r.jsxs(Le,{children:[r.jsx(ie,{children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:w.full_name}),r.jsx("span",{className:"text-xs text-muted-foreground",children:w.email})]})}),r.jsx(ie,{children:r.jsx(Me,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:w.role})}),r.jsx(ie,{children:w.department}),r.jsx(ie,{children:r.jsx(Me,{variant:w.status==="ACTIVE"?"success":"secondary",children:w.status})}),r.jsx(ie,{className:"text-muted-foreground text-sm",children:new Date(w.created_at).toLocaleDateString()}),r.jsx(ie,{className:"text-right",children:r.jsx("div",{className:"flex justify-end gap-2",children:r.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>g(w.id),children:r.jsx(vr,{className:"h-4 w-4"})})})})]},w.id))})]})})]})},O9=Ja("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200"}},defaultVariants:{variant:"default"}});function tc({className:e,variant:t,...s}){return r.jsx("div",{className:le(O9({variant:t}),e),...s})}const M9=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{const{data:i,error:o}=await j.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(100);if(o)throw o;t(i||[])}catch(i){console.error("Failed to fetch audit logs:",i)}finally{n(!1)}})()},[]),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-800",children:"System Audit Logs"}),r.jsxs(Te,{children:[r.jsx(Qs,{children:r.jsx(Zs,{children:"Recent Activity"})}),r.jsx(ls,{children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{children:"Timestamp"}),r.jsx(me,{children:"User"}),r.jsx(me,{children:"Action"}),r.jsx(me,{children:"Resource"}),r.jsx(me,{children:"Status"})]})}),r.jsxs(rs,{children:[e.map(a=>r.jsxs(Le,{children:[r.jsx(ie,{className:"text-sm text-neutral-500",children:new Date(a.created_at).toLocaleString()}),r.jsx(ie,{className:"font-medium",children:a.user_id||"System"}),r.jsx(ie,{children:a.action}),r.jsx(ie,{children:a.entity_type}),r.jsx(ie,{children:r.jsx(tc,{variant:"success",children:"Recorded"})})]},a.id)),e.length===0&&s&&r.jsx(Le,{children:r.jsx(ie,{colSpan:5,className:"text-center py-4",children:"Loading logs..."})}),e.length===0&&!s&&r.jsx(Le,{children:r.jsx(ie,{colSpan:5,className:"text-center py-4",children:"No logs found"})})]})]})})]})]})},L9=()=>{const[e,t]=m.useState({commissionRate:5,maxUploadSize:10,maintenanceMode:!1,allowVendorRegistration:!0}),[s,n]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const{data:l,error:c}=await j.from("system_config").select("*").limit(1).single();if(c&&c.code!=="PGRST116")throw c;l&&t(d=>({...d,maintenanceMode:l.maintenance_mode||!1}))}catch(l){console.error("Failed to fetch settings:",l)}finally{n(!1)}})()},[]);const a=(o,l)=>{t(c=>({...c,[o]:l}))},i=async()=>{try{const{error:o}=await j.from("system_config").upsert({config_key:"general_settings",maintenance_mode:e.maintenanceMode,updated_at:new Date().toISOString()});if(o)throw o;M({title:"Settings Saved",description:"System configuration has been updated."})}catch(o){console.error("Failed to save settings:",o),M({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-800",children:"System Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(Te,{children:[r.jsx(Qs,{children:r.jsx(Zs,{children:"General Configuration"})}),r.jsxs(ls,{className:"space-y-4",children:[r.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[r.jsx(U,{htmlFor:"commission",children:"Default Commission Rate (%)"}),r.jsx(H,{type:"number",id:"commission",value:e.commissionRate,onChange:o=>a("commissionRate",o.target.value)})]}),r.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[r.jsx(U,{htmlFor:"uploadSize",children:"Max File Upload Size (MB)"}),r.jsx(H,{type:"number",id:"uploadSize",value:e.maxUploadSize,onChange:o=>a("maxUploadSize",o.target.value)})]})]})]}),r.jsxs(Te,{children:[r.jsx(Qs,{children:r.jsx(Zs,{children:"Feature Toggles"})}),r.jsxs(ls,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[r.jsxs(U,{htmlFor:"maintenance-mode",className:"flex flex-col space-y-1",children:[r.jsx("span",{children:"Maintenance Mode"}),r.jsx("span",{className:"font-normal leading-snug text-muted-foreground",children:"Disable access for all non-admin users."})]}),r.jsx(ec,{id:"maintenance-mode",checked:e.maintenanceMode,onCheckedChange:o=>a("maintenanceMode",o)})]}),r.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[r.jsxs(U,{htmlFor:"vendor-reg",className:"flex flex-col space-y-1",children:[r.jsx("span",{children:"Allow Vendor Registration"}),r.jsx("span",{className:"font-normal leading-snug text-muted-foreground",children:"Open public registration for new vendors."})]}),r.jsx(ec,{id:"vendor-reg",checked:e.allowVendorRegistration,onCheckedChange:o=>a("allowVendorRegistration",o)})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{onClick:i,className:"bg-[#003D82]",children:"Save Changes"})})]})},F9=async()=>{const{data:{user:e}}=await j.auth.getUser();if(!e)throw new Error("Not authenticated");return e},yi=async()=>{const e=await F9(),{data:t,error:s}=await j.from("employees").select("*").eq("user_id",e.id).maybeSingle();if(!t){const{data:n}=await j.from("admin_users").select("*").eq("id",e.id).maybeSingle();return n?{...n,user_id:n.id}:{user_id:e.id,role:"UNKNOWN"}}return t},op=(e,t)=>{let s="";for(let n=0;n<e;n++)s+=t.charAt(Math.floor(Math.random()*t.length));return s},ut={getDashboardStats:async e=>{const t=async(c,d=u=>u)=>{let u=j.from(c).select("*",{count:"exact",head:!0});e&&(u=d(u));const{count:h,error:p}=await u;return p&&console.error(`Error counting ${c}:`,p),h||0},s=await t("vendors",c=>c.or(`assigned_to.eq.${e},created_by_user_id.eq.${e}`)),{data:n}=await j.from("vendors").select("id").or(`assigned_to.eq.${e},created_by_user_id.eq.${e}`),a=(n==null?void 0:n.map(c=>c.id))||[];let i=0;a.length>0&&(i=await t("products",c=>c.in("vendor_id",a)));const o=await t("vendors",c=>c.eq("kyc_status","PENDING").or(`assigned_to.eq.${e},created_by_user_id.eq.${e}`)),l=await t("vendors",c=>c.eq("kyc_status","VERIFIED").or(`assigned_to.eq.${e},created_by_user_id.eq.${e}`));return{totalVendors:s,totalProducts:i,pendingKyc:o,approvedKyc:l}},getRecentActivities:async e=>{let t=j.from("vendors").select("id, company_name, created_at, kyc_status").order("created_at",{ascending:!1}).limit(5);e&&(t=t.or(`assigned_to.eq.${e},created_by_user_id.eq.${e}`));const{data:s}=await t;return(s||[]).map(n=>({type:"VENDOR",message:`Created vendor ${n.company_name}`,time:n.created_at,id:n.id}))},getVendors:async()=>{const{data:e,error:t}=await j.from("vendors").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},getAssignedVendors:async()=>{const e=await yi(),{data:t,error:s}=await j.from("vendors").select("*, products(count)").or(`assigned_to.eq.${e.user_id},created_by_user_id.eq.${e.user_id}`).order("created_at",{ascending:!1});if(s)throw s;return t},getAllVendors:async(e={})=>{let t=j.from("vendors").select("*, products(count)").order("created_at",{ascending:!1});if(e.status&&e.status!=="all"){const a={pending:"PENDING",approved:"VERIFIED",rejected:"REJECTED"};a[e.status]&&(t=t.eq("kyc_status",a[e.status]))}e.search&&(t=t.or(`vendor_id.ilike.%${e.search}%,company_name.ilike.%${e.search}%,email.ilike.%${e.search}%`));const{data:s,error:n}=await t;if(n)throw n;return s},generateVendorId:()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="0123456789",s=op(3,e),n=op(4,t),a=op(3,e);return`${s}-VIN-${n}-${a}`},createVendor:async e=>{const t=await yi(),s=ut.generateVendorId(),n=e.temp_password||Math.random().toString(36).slice(-8)+"!Aa1",a={...e,vendor_id:s,assigned_to:t.user_id,created_by_user_id:t.user_id,kyc_status:"PENDING",profile_completion:10,is_active:!0,generated_password_hash:n,is_password_temporary:!0};delete a.temp_password;const{data:i,error:o}=await j.from("vendors").insert([a]).select().single();if(o)throw console.error("Create Vendor DB Error:",o),new Error(o.message);return{...i,password:n}},getHeadCategories:async()=>{const{data:e,error:t}=await j.from("head_categories").select("*, sub_categories(count)").order("name");if(t)throw t;return e},getAllHeadCategories:async()=>{const{data:e,error:t}=await j.from("head_categories").select("*").order("name");if(t)throw t;return e},createHeadCategory:async e=>{const{data:t,error:s}=await j.from("head_categories").insert([e]).select().single();if(s)throw s;return t},updateHeadCategory:async(e,t)=>{const{data:s,error:n}=await j.from("head_categories").update(t).eq("id",e).select().single();if(n)throw n;return s},deleteHeadCategory:async e=>{const{error:t}=await j.from("head_categories").delete().eq("id",e);if(t)throw t},getSubCategories:async e=>{const{data:t,error:s}=await j.from("sub_categories").select("*, micro_categories(count)").eq("head_category_id",e).order("name");if(s)throw s;return t},createSubCategory:async e=>{const{data:t,error:s}=await j.from("sub_categories").insert([e]).select().single();if(s)throw s;return t},updateSubCategory:async(e,t)=>{const{data:s,error:n}=await j.from("sub_categories").update(t).eq("id",e).select().single();if(n)throw n;return s},deleteSubCategory:async e=>{const{error:t}=await j.from("sub_categories").delete().eq("id",e);if(t)throw t},getMicroCategories:async e=>{const{data:t,error:s}=await j.from("micro_categories").select("*").eq("sub_category_id",e).order("name");if(s)throw s;return t},createMicroCategory:async e=>{const{data:t,error:s}=await j.from("micro_categories").insert([e]).select().single();if(s)throw s;return t},updateMicroCategory:async(e,t)=>{const{data:s,error:n}=await j.from("micro_categories").update(t).eq("id",e).select().single();if(n)throw n;return s},deleteMicroCategory:async e=>{const{error:t}=await j.from("micro_categories").delete().eq("id",e);if(t)throw t},importCategoriesCSV:async e=>{let t=0,s=0,n=[];for(const a of e)try{const i=a.head_category||a.head_category_name,o=a.sub_category||a.sub_category_name,l=a.micro_category||a.micro_category_name;if(!i||!o||!l)throw new Error("Missing names");const c=i.toLowerCase().replace(/[^a-z0-9]/g,"-");let{data:d}=await j.from("head_categories").select("id").eq("slug",c).maybeSingle();if(!d){const{data:g,error:x}=await j.from("head_categories").insert([{name:i,slug:c,is_active:!0}]).select().single();if(x)throw x;d=g}const u=o.toLowerCase().replace(/[^a-z0-9]/g,"-");let{data:h}=await j.from("sub_categories").select("id").eq("slug",u).eq("head_category_id",d.id).maybeSingle();if(!h){const{data:g,error:x}=await j.from("sub_categories").insert([{head_category_id:d.id,name:o,slug:u,is_active:!0}]).select().single();if(x)throw x;h=g}const p=l.toLowerCase().replace(/[^a-z0-9]/g,"-"),{data:f}=await j.from("micro_categories").select("id").eq("slug",p).eq("sub_category_id",h.id).maybeSingle();if(!f){const{error:g}=await j.from("micro_categories").insert([{sub_category_id:h.id,name:l,slug:p,description:a.description,meta_tags:a.meta_tags,is_active:!0}]);if(g)throw g}t++}catch(i){s++,n.push(i.message)}return{success:t,failed:s,errors:n}},getStates:async()=>{const{data:e,error:t}=await j.from("states").select("*").order("name");if(t)throw t;return e},getCitiesByState:async e=>{const{data:t,error:s}=await j.from("cities").select("*").eq("state_id",e).order("name");if(s)throw s;return t},createState:async e=>{const t=e.toLowerCase().replace(/\s+/g,"-"),{error:s}=await j.from("states").insert([{name:e,slug:t,is_active:!0}]);if(s)throw s},updateState:async(e,t)=>{const{error:s}=await j.from("states").update({name:t}).eq("id",e);if(s)throw s},deleteState:async e=>{const{error:t}=await j.from("states").delete().eq("id",e);if(t)throw t},createCity:async(e,t)=>{const s=t.toLowerCase().replace(/\s+/g,"-"),{error:n}=await j.from("cities").insert([{state_id:e,name:t,slug:s,is_active:!0}]);if(n)throw n},updateCity:async(e,t)=>{const{error:s}=await j.from("cities").update({name:t}).eq("id",e);if(s)throw s},deleteCity:async e=>{const{error:t}=await j.from("cities").delete().eq("id",e);if(t)throw t},importLocationsCSV:async e=>{let t=0,s=0;for(const n of e)try{const a=n.state_name||n.State,i=n.city_name||n.City;if(!a||!i){s++;continue}let o;const{data:l}=await j.from("states").select("id").ilike("name",a).maybeSingle();if(l)o=l.id;else{const{data:c}=await j.from("states").insert([{name:a,slug:a.toLowerCase().replace(/\s/g,"-"),is_active:!0}]).select().single();o=c==null?void 0:c.id}o?(await j.from("cities").insert([{state_id:o,name:i,slug:i.toLowerCase().replace(/\s/g,"-"),is_active:!0}]),t++):s++}catch{s++}return{success:t,failed:s}},getKycDocuments:async e=>{try{console.log(" [KYC] Fetching documents for vendor:",e);const{data:t,error:s}=await j.from("vendor_documents").select("*").eq("vendor_id",e).order("uploaded_at",{ascending:!1});if(s)throw s;return console.log(" [KYC] Found documents:",(t==null?void 0:t.length)||0,t),t||[]}catch(t){throw console.error(" [KYC] Error fetching KYC documents:",t),t}},getKYCDocuments:async e=>{try{const{data:t,error:s}=await j.from("vendor_documents").select("*").eq("vendor_id",e).order("uploaded_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){throw console.error("Error fetching KYC documents:",t),t}},approveVendorKyc:async e=>{const{error:t}=await j.from("vendors").update({kyc_status:"VERIFIED",verification_badge:!0,verified_at:new Date().toISOString()}).eq("id",e);if(t)throw t},approveVendor:async e=>{const{error:t}=await j.from("vendors").update({kyc_status:"VERIFIED",verification_badge:!0,verified_at:new Date().toISOString()}).eq("id",e);if(t)throw t},rejectVendorKyc:async(e,t)=>{const s=await yi(),{error:n}=await j.from("vendors").update({kyc_status:"REJECTED"}).eq("id",e);if(n)throw n;await j.from("kyc_remarks").insert([{vendor_id:e,remarks:t,created_by:s.user_id}])},rejectVendor:async(e,t)=>{const s=await yi(),{error:n}=await j.from("vendors").update({kyc_status:"REJECTED"}).eq("id",e);if(n)throw n;await j.from("kyc_remarks").insert([{vendor_id:e,remarks:t,created_by:s.user_id}])},getVendorsGroupedByKycDocuments:async()=>{try{console.log(" [KYC] Fetching PENDING vendors...");const{data:e,error:t}=await j.from("vendors").select("*").eq("kyc_status","PENDING").order("created_at",{ascending:!1});if(t)throw t;if(console.log(" [KYC] Found vendors:",(e==null?void 0:e.length)||0,e==null?void 0:e.map(l=>({id:l.id,name:l.company_name}))),!e||e.length===0)return{withDocuments:[],withoutDocuments:[]};console.log(" [KYC] Checking vendor_documents table for these vendor IDs:",e.map(l=>l.id));const{data:s,error:n}=await j.from("vendor_documents").select("vendor_id, document_type, document_url").in("vendor_id",e.map(l=>l.id));if(n)throw n;console.log(" [KYC] Found documents:",(s==null?void 0:s.length)||0,s);const a=new Set((s==null?void 0:s.map(l=>l.vendor_id))||[]),i=e.filter(l=>a.has(l.id)),o=e.filter(l=>!a.has(l.id));return console.log(" [KYC] Grouping result - With docs:",i.length,"Without docs:",o.length),{withDocuments:i,withoutDocuments:o}}catch(e){throw console.error(" [KYC] Error grouping vendors by KYC documents:",e),e}},getVendorById:async e=>{try{const{data:t,error:s}=await j.from("vendors").select("*").eq("id",e).single();if(s)throw s;return t}catch(t){throw console.error("Error fetching vendor:",t),t}},getVendorProducts:async e=>{try{console.log(" [PRODUCTS] Fetching products for vendor:",e);const{data:t,error:s}=await j.from("products").select("*").eq("vendor_id",e).order("created_at",{ascending:!1});if(s)throw s;return console.log(" [PRODUCTS] Found products:",(t==null?void 0:t.length)||0),!t||t.length===0?(console.log(" [PRODUCTS] No products found for vendor"),[]):await Promise.all(t.map(async a=>{let i={};if(a.head_category_id){const{data:l}=await j.from("head_categories").select("id, name, slug").eq("id",a.head_category_id).single();l&&(i.head_category=l)}if(a.sub_category_id){const{data:l}=await j.from("sub_categories").select("id, name, slug").eq("id",a.sub_category_id).single();l&&(i.sub_category=l)}if(a.micro_category_id){const{data:l}=await j.from("micro_categories").select("id, name, slug").eq("id",a.micro_category_id).single();l&&(i.micro_category=l)}const{data:o}=await j.from("product_images").select("*").eq("product_id",a.id);return{...a,...i,product_images:o||[]}}))}catch(t){throw console.error("Error fetching vendor products:",t),t}},createProduct:async e=>{try{const t=await yi(),s={...e,status:"ACTIVE",created_by:t.user_id,created_at:new Date().toISOString()},{data:n,error:a}=await j.from("products").insert([s]).select().single();if(a)throw a;return n}catch(t){throw console.error("Error creating product:",t),t}},updateProduct:async(e,t)=>{try{console.log(" Updating product:",e,"with data:",t);const{data:s,error:n}=await j.from("products").select("id").eq("id",e).single();if(n)throw console.error(" Product check error:",n),new Error(`Product not found: ${n.message}`);if(!s)throw new Error("Product does not exist");console.log(" Product exists, proceeding with update");const{error:a}=await j.from("products").update(t).eq("id",e);if(a)throw console.error(" Update error:",a),a;return console.log(" Product updated successfully"),{id:e,...t}}catch(s){throw console.error("Error updating product:",s),s}},addProductImage:async(e,t)=>{try{const{data:s,error:n}=await j.from("product_images").insert([{product_id:e,image_url:t}]).select().single();if(n)throw n;return s}catch(s){throw console.error("Error adding product image:",s),s}},addProduct:async e=>{try{const t=await yi(),s={...e,status:"ACTIVE",created_by:t.user_id,created_at:new Date().toISOString()},{data:n,error:a}=await j.from("products").insert([s]).select().single();if(a)throw a;return n}catch(t){throw console.error("Error adding product:",t),t}},getCategoriesTree:async()=>{try{const{data:e,error:t}=await j.from("head_categories").select(`
          id, name, slug,
          sub_categories(
            id, name, slug,
            micro_categories(id, name, slug)
          )
        `);if(t)throw t;return(e||[]).map(n=>({...n,subs:(n.sub_categories||[]).map(a=>({...a,micros:a.micro_categories||[]}))}))}catch(e){throw console.error("Error fetching category tree:",e),e}},getProduct:async e=>{try{const{data:t,error:s}=await j.from("products").select("*").eq("id",e).single();if(s)throw s;return t}catch(t){throw console.error("Error fetching product:",t),t}},getProductById:async e=>{try{const{data:t,error:s}=await j.from("products").select("*").eq("id",e).single();if(s)throw s;const n={};if(t.head_category_id){const{data:i}=await j.from("head_categories").select("id, name, slug").eq("id",t.head_category_id).single();i&&(n.head_category=i)}if(t.sub_category_id){const{data:i}=await j.from("sub_categories").select("id, name, slug").eq("id",t.sub_category_id).single();i&&(n.sub_category=i)}if(t.micro_category_id){const{data:i}=await j.from("micro_categories").select("id, name, slug").eq("id",t.micro_category_id).single();i&&(n.micro_category=i)}const{data:a}=await j.from("product_images").select("*").eq("product_id",e);return{...t,...n,product_images:a||[]}}catch(t){throw console.error("Error fetching product details:",t),t}},uploadProductMedia:async(e,t)=>{try{const s=Date.now(),n=`${t}_${s}_${e.name}`,a=`products/${t}s/${n}`,{error:i}=await j.storage.from("product-media").upload(a,e);if(i)throw i;const{data:o}=j.storage.from("product-media").getPublicUrl(a);return o.publicUrl}catch(s){throw console.error("Error uploading media:",s),s}},getVendorDocuments:async e=>{try{const{data:t,error:s}=await j.from("vendor_documents").select("*").eq("vendor_id",e).order("uploaded_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){throw console.error("Error fetching vendor documents:",t),t}},addVendorDocument:async(e,t,s,n)=>{try{const{data:a,error:i}=await j.from("vendor_documents").insert([{vendor_id:e,document_type:t,document_url:s,original_name:n,verification_status:"PENDING"}]).select().single();if(i)throw i;return a}catch(a){throw console.error("Error adding vendor document:",a),a}},getVendorBankDetails:async e=>{try{const{data:t,error:s}=await j.from("vendor_bank_details").select("*").eq("vendor_id",e);if(s)throw s;return t||[]}catch(t){throw console.error("Error fetching bank details:",t),t}},addBankAccount:async(e,t)=>{try{const{data:s,error:n}=await j.from("vendor_bank_details").insert([{vendor_id:e,...t,is_primary:t.is_primary||!1}]).select().single();if(n)throw n;return s}catch(s){throw console.error("Error adding bank account:",s),s}},getVendorContacts:async e=>{try{const{data:t,error:s}=await j.from("vendor_contact_persons").select("*").eq("vendor_id",e);if(s)throw s;return t||[]}catch(t){throw console.error("Error fetching vendor contacts:",t),t}},addContactPerson:async(e,t)=>{try{const{data:s,error:n}=await j.from("vendor_contact_persons").insert([{vendor_id:e,...t,is_primary:t.is_primary||!1}]).select().single();if(n)throw n;return s}catch(s){throw console.error("Error adding contact person:",s),s}},getVendorPreferences:async e=>{try{const{data:t,error:s}=await j.from("vendor_preferences").select("*").eq("vendor_id",e).single();if((s==null?void 0:s.code)==="PGRST116")return null;if(s)throw s;return t}catch(t){throw console.error("Error fetching vendor preferences:",t),t}},setVendorPreferences:async(e,t)=>{try{const{data:s}=await j.from("vendor_preferences").select("id").eq("vendor_id",e).single();let n,a;if(s?{data:n,error:a}=await j.from("vendor_preferences").update({...t,updated_at:new Date}).eq("vendor_id",e).select().single():{data:n,error:a}=await j.from("vendor_preferences").insert([{vendor_id:e,...t}]).select().single(),a)throw a;return n}catch(s){throw console.error("Error setting vendor preferences:",s),s}},getVendorPayments:async e=>{try{const{data:t,error:s}=await j.from("vendor_payments").select("*").eq("vendor_id",e).order("payment_date",{ascending:!1});if(s)throw s;return t||[]}catch(t){throw console.error("Error fetching vendor payments:",t),t}},recordVendorPayment:async(e,t)=>{try{const{data:s,error:n}=await j.from("vendor_payments").insert([{vendor_id:e,...t}]).select().single();if(n)throw n;return s}catch(s){throw console.error("Error recording payment:",s),s}},getVendorMessages:async e=>{try{const{data:t,error:s}=await j.from("vendor_messages").select("*").eq("vendor_id",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){throw console.error("Error fetching vendor messages:",t),t}},getVendorLeadQuota:async e=>{try{const{data:t,error:s}=await j.from("vendor_lead_quota").select("*").eq("vendor_id",e).single();if((s==null?void 0:s.code)==="PGRST116")return null;if(s)throw s;return t}catch(t){throw console.error("Error fetching lead quota:",t),t}},getVendorSubscriptions:async e=>{try{const{data:t,error:s}=await j.from("vendor_plan_subscriptions").select("*, vendor_plans(*)").eq("vendor_id",e);if(s)throw s;return t||[]}catch(t){throw console.error("Error fetching vendor subscriptions:",t),t}},getVendorPlans:async()=>{try{const{data:e,error:t}=await j.from("vendor_plans").select("*").eq("is_active",!0).order("price");if(t)throw t;return e||[]}catch(e){throw console.error("Error fetching vendor plans:",e),e}},getAdditionalLeads:async e=>{try{const{data:t,error:s}=await j.from("vendor_additional_leads").select("*").eq("vendor_id",e);if(s)throw s;return t||[]}catch(t){throw console.error("Error fetching additional leads:",t),t}},getVendorServiceSubscriptions:async e=>{try{const{data:t,error:s}=await j.from("vendor_subscriptions").select("*, vendor_services(*)").eq("vendor_id",e);if(s)throw s;return t||[]}catch(t){throw console.error("Error fetching service subscriptions:",t),t}},createVendorOTP:async(e,t)=>{try{const s=Math.floor(1e5+Math.random()*9e5).toString(),n=new Date(Date.now()+10*6e4).toISOString(),{data:a,error:i}=await j.from("vendor_otp_codes").insert([{vendor_id:e,otp_code:s,email:t,expires_at:n}]).select().single();if(i)throw i;return a}catch(s){throw console.error("Error creating OTP:",s),s}}},V9=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!0),[a,i]=m.useState("all"),[o,l]=m.useState(""),{toast:c}=U1(),[d,u]=m.useState(null),[h,p]=m.useState([]),[f,g]=m.useState(!1),[x,w]=m.useState(!1),[y,v]=m.useState(""),[b,N]=m.useState(!1);m.useEffect(()=>{k()},[a]);const k=async()=>{n(!0);try{const q=await ut.getAllVendors({status:a,search:o});t(q||[])}catch(q){console.error(q),c({title:"Error",description:"Failed to load vendors",variant:"destructive"})}finally{n(!1)}},T=q=>{q.preventDefault(),k()},A=async q=>{if(window.confirm(`Approve KYC for ${q.company_name}?`)){N(!0);try{await ut.approveVendor(q.id),c({title:"Success",description:"Vendor KYC Approved"}),k(),g(!1)}catch(F){c({title:"Error",description:F.message,variant:"destructive"})}finally{N(!1)}}},_=async()=>{if(!y.trim()){c({title:"Required",description:"Please enter rejection remarks",variant:"destructive"});return}N(!0);try{await ut.rejectVendor(d.id,y),c({title:"Success",description:"Vendor KYC Rejected"}),k(),w(!1),g(!1),v("")}catch(q){c({title:"Error",description:q.message,variant:"destructive"})}finally{N(!1)}},C=async q=>{u(q),g(!0);try{const F=await ut.getKYCDocuments(q.id);p(F||[])}catch{c({title:"Error",description:"Could not load documents"})}},I=q=>{u(q),w(!0)};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsx("h1",{className:"text-2xl font-bold text-neutral-800",children:"KYC Approvals"})}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("form",{onSubmit:T,className:"flex-1 relative",children:[r.jsx(Et,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),r.jsx(H,{className:"pl-9",placeholder:"Search by Vendor ID, Name or Email...",value:o,onChange:q=>l(q.target.value)})]}),r.jsxs(tt,{value:a,onValueChange:i,children:[r.jsx(Je,{className:"w-[200px]",children:r.jsx(st,{placeholder:"Filter Status"})}),r.jsxs(Qe,{children:[r.jsx(ye,{value:"all",children:"All Status"}),r.jsx(ye,{value:"pending",children:"Pending Review"}),r.jsx(ye,{value:"approved",children:"Approved"}),r.jsx(ye,{value:"rejected",children:"Rejected"})]})]})]}),r.jsx(ve,{children:r.jsx(_e,{className:"p-0",children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{children:"Vendor ID"}),r.jsx(me,{children:"Company"}),r.jsx(me,{children:"Owner"}),r.jsx(me,{children:"Status"}),r.jsx(me,{children:"Products"}),r.jsx(me,{className:"text-right",children:"Actions"})]})}),r.jsx(rs,{children:s?r.jsx(Le,{children:r.jsx(ie,{colSpan:6,className:"text-center py-8",children:r.jsx(pe,{className:"animate-spin mx-auto"})})}):e.length===0?r.jsx(Le,{children:r.jsx(ie,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No vendors found matching criteria."})}):e.map(q=>{var F,D;return r.jsxs(Le,{children:[r.jsx(ie,{className:"font-mono text-xs",children:q.vendor_id||"---"}),r.jsx(ie,{className:"font-medium",children:q.company_name}),r.jsxs(ie,{children:[r.jsx("div",{className:"text-sm",children:q.owner_name}),r.jsx("div",{className:"text-xs text-gray-500",children:q.email})]}),r.jsx(ie,{children:r.jsx(Me,{variant:q.kyc_status==="VERIFIED"?"success":q.kyc_status==="REJECTED"?"destructive":"secondary",className:q.kyc_status==="VERIFIED"?"bg-green-100 text-green-800":q.kyc_status==="REJECTED"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:q.kyc_status==="VERIFIED"?"Approved":q.kyc_status})}),r.jsx(ie,{children:r.jsx("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:((D=(F=q.products)==null?void 0:F[0])==null?void 0:D.count)||0})}),r.jsx(ie,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>C(q),children:[r.jsx(Xn,{className:"w-4 h-4 mr-1"})," Review"]}),q.kyc_status==="PENDING"&&r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>A(q),children:r.jsx(os,{className:"w-4 h-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>I(q),children:r.jsx(kI,{className:"w-4 h-4"})})]})]})})]},q.id)})})]})})}),r.jsx(qs,{open:f,onOpenChange:g,children:r.jsxs(_s,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(Ss,{children:[r.jsxs(Cs,{children:["KYC Documents: ",d==null?void 0:d.company_name]}),r.jsx(Lu,{children:"Review submitted documents before approval."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:[h.map((q,F)=>{var D,S;return r.jsxs("div",{className:"border rounded-lg p-3 space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("span",{className:"font-medium text-sm capitalize",children:(D=q.document_type)==null?void 0:D.replace("_"," ")}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(q.created_at).toLocaleDateString()})]}),r.jsxs("div",{className:"aspect-video bg-gray-100 rounded flex items-center justify-center overflow-hidden relative group",children:[(S=q.file_path)!=null&&S.endsWith(".pdf")?r.jsx(Qt,{className:"w-12 h-12 text-gray-400"}):r.jsx("img",{src:q.file_path,alt:"Doc",className:"object-cover w-full h-full"}),r.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("a",{href:q.file_path,target:"_blank",rel:"noreferrer",children:r.jsx(V,{variant:"secondary",size:"sm",children:"View Full"})})})]})]},F)}),h.length===0&&r.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:"No documents uploaded."})]}),r.jsxs(xn,{className:"gap-2 sm:gap-0",children:[(d==null?void 0:d.kyc_status)==="PENDING"&&r.jsxs(r.Fragment,{children:[r.jsx(V,{variant:"destructive",onClick:()=>{g(!1),I(d)},children:"Reject KYC"}),r.jsx(V,{className:"bg-green-600 hover:bg-green-700",onClick:()=>A(d),children:"Approve KYC"})]}),r.jsx(V,{variant:"outline",onClick:()=>g(!1),children:"Close"})]})]})}),r.jsx(qs,{open:x,onOpenChange:w,children:r.jsxs(_s,{children:[r.jsxs(Ss,{children:[r.jsxs(Cs,{className:"text-red-600 flex items-center gap-2",children:[r.jsx(uc,{className:"w-5 h-5"})," Reject KYC"]}),r.jsx(Lu,{children:"Please provide a reason for rejection. This will be sent to the vendor."})]}),r.jsx("div",{className:"py-4",children:r.jsx(Gr,{placeholder:"e.g. Document blurry, Name mismatch...",value:y,onChange:q=>v(q.target.value),rows:4})}),r.jsxs(xn,{children:[r.jsx(V,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),r.jsxs(V,{variant:"destructive",onClick:_,disabled:b,children:[b?r.jsx(pe,{className:"animate-spin mr-2"}):null," Confirm Rejection"]})]})]})})]})},_P=()=>{const e=Ue(),{login:t}=kx(),[s,n]=m.useState({email:"",password:""}),[a,i]=m.useState(!1),o=async l=>{l.preventDefault(),i(!0),await t(s.email,s.password)&&e("/admin/register/superadmin/dashboard"),i(!1)};return r.jsxs("div",{className:"min-h-screen bg-black flex flex-col justify-center items-center px-4 md:px-6 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?q=80&w=2070&auto=format&fit=crop')] opacity-10 bg-cover bg-center pointer-events-none"}),r.jsxs("div",{className:"w-full max-w-md bg-neutral-900 border border-red-900/30 p-6 md:p-8 rounded-2xl shadow-2xl relative z-10 mx-auto",children:[r.jsxs("div",{className:"flex flex-col items-center mb-8",children:[r.jsx("div",{className:"h-16 w-16 md:h-20 md:w-20 bg-red-950 rounded-full flex items-center justify-center border-4 border-red-900 mb-4 animate-pulse",children:r.jsx(uc,{className:"h-8 w-8 md:h-10 md:w-10 text-red-500"})}),r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white tracking-tighter text-center",children:"RESTRICTED AREA"}),r.jsx("p",{className:"text-red-500 font-mono text-[10px] md:text-xs mt-2 uppercase tracking-widest text-center",children:"Authorized Personnel Only"})]}),r.jsxs("form",{onSubmit:o,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"email",className:"text-neutral-400",children:"System ID"}),r.jsxs("div",{className:"relative",children:[r.jsx(DI,{className:"absolute left-3 top-3.5 h-5 w-5 text-neutral-600"}),r.jsx(H,{id:"email",type:"email",placeholder:"superadmin@platform.com",value:s.email,onChange:l=>n({...s,email:l.target.value}),className:"pl-10 h-12 bg-neutral-800 border-neutral-700 text-white placeholder:text-neutral-600 focus:border-red-500 focus:ring-red-900/50",required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"password",className:"text-neutral-400",children:"Access Key"}),r.jsxs("div",{className:"relative",children:[r.jsx(Za,{className:"absolute left-3 top-3.5 h-5 w-5 text-neutral-600"}),r.jsx(H,{id:"password",type:"password",placeholder:"",value:s.password,onChange:l=>n({...s,password:l.target.value}),className:"pl-10 h-12 bg-neutral-800 border-neutral-700 text-white placeholder:text-neutral-600 focus:border-red-500 focus:ring-red-900/50",required:!0})]})]}),r.jsx(V,{type:"submit",className:"w-full bg-red-800 hover:bg-red-700 text-white font-bold py-6 rounded-lg transition-all transform hover:scale-[1.02] text-sm md:text-base",disabled:a,children:a?"Authenticating...":"INITIALIZE SESSION"})]}),r.jsxs("div",{className:"mt-8 text-center",children:[r.jsxs("p",{className:"text-xs text-neutral-600 font-mono",children:["IP Address Logged: ",Math.floor(Math.random()*255),".",Math.floor(Math.random()*255),".",Math.floor(Math.random()*255),".",Math.floor(Math.random()*255)]}),r.jsx("p",{className:"text-[10px] text-neutral-700 mt-1",children:"Unauthorized access attempts are monitored and reported."})]})]})]})},Xo={async logAction(e,t,s,n,a={}){try{const{error:i}=await j.from("audit_logs").insert([{user_id:e,action:t,entity_type:s,entity_id:n,details:a,ip_address:this._getClientIP(),created_at:new Date().toISOString()}]);return i?(console.error("[AuditLog] Error logging action:",i),!1):(console.log(`[AuditLog] Action logged: ${t} on ${s}#${n}`),!0)}catch(i){return console.error("[AuditLog] Exception:",i),!1}},async getAuditLogs(e=100,t=24){try{const s=new Date(Date.now()-t*60*60*1e3).toISOString(),{data:n,error:a}=await j.from("audit_logs").select("*").gte("created_at",s).order("created_at",{ascending:!1}).limit(e);return a?(console.error("[AuditLog] Error fetching logs:",a),[]):n||[]}catch(s){return console.error("[AuditLog] Exception:",s),[]}},async getAuditLogsByUser(e,t=100){try{const{data:s,error:n}=await j.from("audit_logs").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(t);return n?(console.error("[AuditLog] Error fetching user logs:",n),[]):s||[]}catch(s){return console.error("[AuditLog] Exception:",s),[]}},async getAuditLogsByEntity(e,t,s=50){try{const{data:n,error:a}=await j.from("audit_logs").select("*").eq("entity_type",e).eq("entity_id",t).order("created_at",{ascending:!1}).limit(s);return a?(console.error("[AuditLog] Error fetching entity logs:",a),[]):n||[]}catch(n){return console.error("[AuditLog] Exception:",n),[]}},_getClientIP(){return"CLIENT_IP"}},lp=["ADMIN","HR","DATA_ENTRY","SALES","SUPPORT"],SP=()=>{const{superAdmin:e,logout:t,changePassword:s}=kx(),[n,a]=m.useState("pages"),[i,o]=m.useState([]),[l,c]=m.useState(!1),[d,u]=m.useState([]),[h,p]=m.useState(!1),[f,g]=m.useState([]),[x,w]=m.useState(!1),[y,v]=m.useState(""),[b,N]=m.useState("ALL"),[k,T]=m.useState(!1),[A,_]=m.useState(null),[C,I]=m.useState({full_name:"",email:"",password:"",role:"USER",status:"ACTIVE"}),[q,F]=m.useState({current:"",new:"",confirm:""});m.useEffect(()=>{D(),P(),O()},[]);const D=async()=>{c(!0);const{data:z,error:X}=await j.from("page_status").select("*").order("page_name");X?M({title:"Error",description:"Failed to fetch pages",variant:"destructive"}):o(z||[]),c(!1)},S=async(z,X,de)=>{o(te=>te.map(ce=>ce.id===z?{...ce,is_blanked:X}:ce));const{error:ue}=await j.from("page_status").update({is_blanked:X,error_message:de,updated_at:new Date().toISOString()}).eq("id",z);ue?(M({title:"Error",description:"Failed to update page status",variant:"destructive"}),D()):(await Xo.logAction(e.id,X?"PAGE_BLANKED":"PAGE_RESTORED","PAGE",z,{isBlanked:X,errorMessage:de}),M({title:X?"Page Offline":"Page Online",description:"Status updated successfully."}),O())},E=async(z,X)=>{const{error:de}=await j.from("page_status").update({error_message:X,updated_at:new Date().toISOString()}).eq("id",z);de||M({title:"Saved",description:"Error message updated."})},O=async()=>{p(!0);const z=await Xo.getAuditLogs(50,24);u(z),p(!1)},P=async()=>{w(!0);let z=j.from("users").select("*").order("created_at",{ascending:!1});b!=="ALL"&&(z=z.eq("role",b));const{data:X,error:de}=await z;if(de)M({title:"Error",description:"Failed to fetch users",variant:"destructive"});else{const ue=X.filter(te=>{var ce,ne;return((ce=te.email)==null?void 0:ce.toLowerCase().includes(y.toLowerCase()))||((ne=te.full_name)==null?void 0:ne.toLowerCase().includes(y.toLowerCase()))});g(ue)}w(!1)},R=async z=>{var X;z.preventDefault(),w(!0);try{if(!lp.includes(C.role)){M({title:"Invalid Role",description:`You can only create users with these roles: ${lp.join(", ")}`,variant:"destructive"}),w(!1);return}if(A){if(A.role==="SUPERADMIN"&&C.role!=="SUPERADMIN"){M({title:"Permission Denied",description:"Cannot modify SUPERADMIN user roles",variant:"destructive"}),w(!1);return}const{error:de}=await j.from("users").update({full_name:C.full_name,email:C.email,role:C.role,status:C.status,updated_at:new Date().toISOString()}).eq("id",A.id);if(de)throw de;await Xo.logAction(e.id,"USER_UPDATED","USER",A.id,{email:C.email,role:C.role}),M({title:"Success",description:"User updated successfully"})}else{const{error:de,data:ue}=await j.from("users").insert([{...C,password_hash:C.password,created_at:new Date().toISOString()}]).select();if(de)throw de;await Xo.logAction(e.id,"USER_CREATED","USER",((X=ue==null?void 0:ue[0])==null?void 0:X.id)||"UNKNOWN",{email:C.email,role:C.role}),M({title:"Success",description:"User created successfully"})}T(!1),B(),P(),O()}catch(de){M({title:"Error",description:de.message,variant:"destructive"})}finally{w(!1)}},L=async z=>{const X=f.find(ue=>ue.id===z);if((X==null?void 0:X.role)==="SUPERADMIN"){M({title:"Cannot Delete",description:"SUPERADMIN users cannot be deleted",variant:"destructive"});return}if(!window.confirm("Are you sure you want to delete this user?"))return;const{error:de}=await j.from("users").delete().eq("id",z);de?M({title:"Error",description:"Failed to delete user",variant:"destructive"}):(await Xo.logAction(e.id,"USER_DELETED","USER",z,{email:X==null?void 0:X.email}),M({title:"Deleted",description:"User removed successfully"}),P(),O())},B=()=>{_(null),I({full_name:"",email:"",password:"",role:"USER",status:"ACTIVE"})},Q=z=>{_(z),I({full_name:z.full_name,email:z.email,password:"",role:z.role,status:z.status}),T(!0)},W=async z=>{if(z.preventDefault(),q.new!==q.confirm){M({title:"Error",description:"Passwords do not match",variant:"destructive"});return}await s(q.new)&&(F({current:"",new:"",confirm:""}),M({title:"Success",description:"Password updated"}))};return r.jsxs("div",{className:"min-h-screen bg-neutral-900 text-neutral-200 font-sans",children:[r.jsxs("header",{className:"bg-black border-b border-neutral-800 px-6 py-4 flex justify-between items-center sticky top-0 z-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(uc,{className:"h-8 w-8 text-red-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"GOD MODE"}),r.jsx("p",{className:"text-xs text-neutral-500 font-mono",children:"Super Admin Console"})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"text-right hidden md:block",children:[r.jsx("p",{className:"text-sm font-medium text-white",children:e==null?void 0:e.name}),r.jsx("p",{className:"text-xs text-neutral-500",children:e==null?void 0:e.email})]}),r.jsxs(V,{variant:"outline",className:"border-red-900 text-red-500 hover:bg-red-950 hover:text-red-400",onClick:t,children:[r.jsx(an,{className:"h-4 w-4 mr-2"})," Disconnect"]})]})]}),r.jsx("main",{className:"p-6 max-w-7xl mx-auto",children:r.jsxs(oi,{defaultValue:"pages",className:"space-y-6",onValueChange:a,children:[r.jsxs(ma,{className:"bg-neutral-800 border border-neutral-700 p-1",children:[r.jsxs(Rt,{value:"pages",className:"data-[state=active]:bg-neutral-700 text-neutral-400 data-[state=active]:text-white",children:[r.jsx(A0,{className:"h-4 w-4 mr-2"})," Page Control"]}),r.jsxs(Rt,{value:"users",className:"data-[state=active]:bg-neutral-700 text-neutral-400 data-[state=active]:text-white",children:[r.jsx(St,{className:"h-4 w-4 mr-2"})," User Management"]}),r.jsxs(Rt,{value:"audit",className:"data-[state=active]:bg-neutral-700 text-neutral-400 data-[state=active]:text-white",children:[r.jsx(OI,{className:"h-4 w-4 mr-2"})," Audit Logs"]}),r.jsxs(Rt,{value:"settings",className:"data-[state=active]:bg-neutral-700 text-neutral-400 data-[state=active]:text-white",children:[r.jsx(Ul,{className:"h-4 w-4 mr-2"})," Security Settings"]})]}),r.jsx(vt,{value:"pages",className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:r.jsxs(ve,{className:"bg-neutral-900 border-neutral-800",children:[r.jsxs(De,{children:[r.jsxs(Re,{className:"text-white flex items-center gap-2",children:[r.jsx(A0,{className:"h-5 w-5 text-blue-500"})," Site Availability Control"]}),r.jsx(Rs,{className:"text-neutral-400",children:"Instantly disable specific sections of the platform."})]}),r.jsx(_e,{children:r.jsx("div",{className:"space-y-4",children:l?r.jsx("div",{className:"text-center py-8",children:r.jsx(Pa,{className:"animate-spin h-8 w-8 mx-auto text-neutral-600"})}):i.map(z=>r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 p-4 rounded-lg border border-neutral-800 bg-neutral-900/50 hover:border-neutral-700 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx("div",{className:`p-2 rounded-full ${z.is_blanked?"bg-red-500/20 text-red-500":"bg-green-500/20 text-green-500"}`,children:z.is_blanked?r.jsx(zI,{className:"h-6 w-6"}):r.jsx(HI,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-white",children:z.page_name}),r.jsx("p",{className:"text-xs text-neutral-500 font-mono",children:z.page_route})]})]}),r.jsx("div",{className:"flex-1 w-full md:w-auto",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wi,{className:"h-4 w-4 text-yellow-500"}),r.jsx(H,{defaultValue:z.error_message,onBlur:X=>E(z.id,X.target.value),className:"bg-neutral-800 border-neutral-700 text-neutral-300 h-8 text-sm",placeholder:"Error message displayed to user..."})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Me,{variant:z.is_blanked?"destructive":"default",className:!z.is_blanked&&"bg-green-600",children:z.is_blanked?"OFFLINE":"ONLINE"}),r.jsx(ec,{checked:!z.is_blanked,onCheckedChange:X=>{console.log("[PageControl] Toggle changed - isOnline:",X,"- sending is_blanked:",!X),S(z.id,!X,z.error_message)}})]})]},z.id))})})]})}),r.jsx(vt,{value:"users",className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:r.jsxs(ve,{className:"bg-neutral-900 border-neutral-800",children:[r.jsxs(De,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Re,{className:"text-white",children:"User Management"}),r.jsx(Rs,{className:"text-neutral-400",children:"Manage all platform users"})]}),r.jsxs(V,{onClick:()=>{B(),T(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(Bt,{className:"h-4 w-4 mr-2"})," Create User"]})]}),r.jsxs(_e,{children:[r.jsxs("div",{className:"flex gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Et,{className:"absolute left-2 top-2.5 h-4 w-4 text-neutral-500"}),r.jsx(H,{placeholder:"Search users...",className:"pl-8 bg-neutral-800 border-neutral-700 text-white",value:y,onChange:z=>v(z.target.value)})]}),r.jsxs(tt,{value:b,onValueChange:N,children:[r.jsx(Je,{className:"w-[180px] bg-neutral-800 border-neutral-700 text-white",children:r.jsx(st,{placeholder:"Filter by Role"})}),r.jsxs(Qe,{className:"bg-neutral-800 border-neutral-700 text-white",children:[r.jsx(ye,{value:"ALL",children:"All Roles"}),r.jsx(ye,{value:"USER",children:"User"}),r.jsx(ye,{value:"ADMIN",children:"Admin"}),r.jsx(ye,{value:"VENDOR",children:"Vendor"}),r.jsx(ye,{value:"BUYER",children:"Buyer"})]})]}),r.jsx(V,{variant:"outline",onClick:P,className:"border-neutral-700 text-neutral-300 hover:bg-neutral-800",children:r.jsx(Pa,{className:`h-4 w-4 ${x?"animate-spin":""}`})})]}),r.jsx("div",{className:"rounded-md border border-neutral-800 overflow-hidden",children:r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"bg-neutral-800 text-neutral-400 font-medium",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3",children:"User"}),r.jsx("th",{className:"px-4 py-3",children:"Role"}),r.jsx("th",{className:"px-4 py-3",children:"Status"}),r.jsx("th",{className:"px-4 py-3",children:"Created"}),r.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-neutral-800",children:f.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-8 text-center text-neutral-500",children:"No users found"})}):f.map(z=>r.jsxs("tr",{className:"hover:bg-neutral-800/50",children:[r.jsxs("td",{className:"px-4 py-3",children:[r.jsx("p",{className:"font-medium text-white",children:z.full_name||"N/A"}),r.jsx("p",{className:"text-xs text-neutral-500",children:z.email})]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Me,{variant:"outline",className:"text-blue-400 border-blue-900 bg-blue-900/20",children:z.role})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${z.status==="ACTIVE"?"bg-green-900/30 text-green-400":"bg-red-900/30 text-red-400"}`,children:z.status})}),r.jsx("td",{className:"px-4 py-3 text-neutral-500",children:new Date(z.created_at).toLocaleDateString()}),r.jsxs("td",{className:"px-4 py-3 text-right",children:[r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Q(z),className:"h-8 w-8 text-neutral-400 hover:text-white",children:r.jsx(O1,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>L(z.id),className:"h-8 w-8 text-red-500 hover:text-red-400 hover:bg-red-900/20",children:r.jsx(vr,{className:"h-4 w-4"})})]})]},z.id))})]})})]})]})}),r.jsx(vt,{value:"audit",className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:r.jsxs(ve,{className:"bg-neutral-900 border-neutral-800",children:[r.jsxs(De,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Re,{className:"text-white",children:"Audit Logs"}),r.jsx(Rs,{className:"text-neutral-400",children:"All superadmin actions and database modifications"})]}),r.jsx(V,{onClick:O,variant:"outline",className:"border-neutral-700 text-neutral-300 hover:bg-neutral-800",children:r.jsx(Pa,{className:`h-4 w-4 ${h?"animate-spin":""}`})})]}),r.jsx(_e,{children:r.jsx("div",{className:"rounded-md border border-neutral-800 overflow-hidden",children:h?r.jsx("div",{className:"p-8 text-center",children:r.jsx(Pa,{className:"animate-spin h-8 w-8 mx-auto text-neutral-600"})}):d.length===0?r.jsx("div",{className:"p-8 text-center text-neutral-500",children:"No audit logs found"}):r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"bg-neutral-800 text-neutral-400 font-medium",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3",children:"Timestamp"}),r.jsx("th",{className:"px-4 py-3",children:"Action"}),r.jsx("th",{className:"px-4 py-3",children:"Entity"}),r.jsx("th",{className:"px-4 py-3",children:"Details"})]})}),r.jsx("tbody",{className:"divide-y divide-neutral-800",children:d.map(z=>{var X;return r.jsxs("tr",{className:"hover:bg-neutral-800/50",children:[r.jsx("td",{className:"px-4 py-3 text-neutral-400 text-xs",children:new Date(z.created_at).toLocaleString()}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Me,{variant:"outline",className:"text-amber-400 border-amber-900 bg-amber-900/20 font-mono text-xs",children:z.action})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("span",{className:"font-mono text-xs text-neutral-400",children:[z.entity_type,"#",(X=z.entity_id)==null?void 0:X.substring(0,8)]})}),r.jsx("td",{className:"px-4 py-3 text-neutral-500 text-xs",children:z.details?JSON.stringify(z.details).substring(0,50)+"...":"N/A"})]},z.id)})})]})})})]})}),r.jsx(vt,{value:"settings",className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:r.jsxs(ve,{className:"bg-neutral-900 border-neutral-800 max-w-xl",children:[r.jsxs(De,{children:[r.jsxs(Re,{className:"text-white flex items-center gap-2",children:[r.jsx(Za,{className:"h-5 w-5 text-red-500"})," Super Admin Credentials"]}),r.jsx(Rs,{className:"text-neutral-400",children:"Update your master password."})]}),r.jsx(_e,{children:r.jsxs("form",{onSubmit:W,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{className:"text-neutral-400",children:"New Password"}),r.jsx(H,{type:"password",value:q.new,onChange:z=>F({...q,new:z.target.value}),className:"bg-neutral-800 border-neutral-700 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{className:"text-neutral-400",children:"Confirm New Password"}),r.jsx(H,{type:"password",value:q.confirm,onChange:z=>F({...q,confirm:z.target.value}),className:"bg-neutral-800 border-neutral-700 text-white"})]}),r.jsxs(V,{type:"submit",className:"bg-red-800 hover:bg-red-700 text-white",children:[r.jsx(ph,{className:"mr-2 h-4 w-4"})," Update Password"]})]})})]})})]})}),r.jsx(qs,{open:k,onOpenChange:T,children:r.jsxs(_s,{className:"bg-neutral-900 border-neutral-800 text-white",children:[r.jsx(Ss,{children:r.jsx(Cs,{children:A?"Edit User":"Create New User"})}),r.jsxs("form",{onSubmit:R,className:"space-y-4 mt-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Full Name"}),r.jsx(H,{value:C.full_name,onChange:z=>I({...C,full_name:z.target.value}),className:"bg-neutral-800 border-neutral-700",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Email"}),r.jsx(H,{type:"email",value:C.email,onChange:z=>I({...C,email:z.target.value}),className:"bg-neutral-800 border-neutral-700",required:!0})]}),!A&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Password"}),r.jsx(H,{type:"password",value:C.password,onChange:z=>I({...C,password:z.target.value}),className:"bg-neutral-800 border-neutral-700",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Role"}),r.jsxs(tt,{value:C.role,onValueChange:z=>I({...C,role:z}),children:[r.jsx(Je,{className:"bg-neutral-800 border-neutral-700",children:r.jsx(st,{})}),r.jsx(Qe,{className:"bg-neutral-800 border-neutral-700 text-white",children:lp.map(z=>r.jsx(ye,{value:z,children:z.replace("_"," ")},z))})]}),r.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"* Only these roles are allowed"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Status"}),r.jsxs(tt,{value:C.status,onValueChange:z=>I({...C,status:z}),children:[r.jsx(Je,{className:"bg-neutral-800 border-neutral-700",children:r.jsx(st,{})}),r.jsxs(Qe,{className:"bg-neutral-800 border-neutral-700 text-white",children:[r.jsx(ye,{value:"ACTIVE",children:"Active"}),r.jsx(ye,{value:"INACTIVE",children:"Inactive"}),r.jsx(ye,{value:"BLOCKED",children:"Blocked"})]})]})]})]}),r.jsx(V,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 mt-4",children:A?"Update User":"Create User"})]})]})})]})},CP=()=>{const{superAdmin:e,isLoading:t}=kx();return console.log("[SuperAdminRoute] Checking access:",{isLoading:t,hasUser:!!e,user:e}),t?r.jsxs("div",{className:"min-h-screen bg-neutral-950 flex flex-col items-center justify-center text-white",children:[r.jsx(pe,{className:"h-10 w-10 animate-spin text-red-600 mb-4"}),r.jsx("p",{className:"text-neutral-400 font-mono",children:"Verifying clearance..."})]}):e?e.role!=="SUPERADMIN"?(console.warn("[SuperAdminRoute] Access denied: Invalid role",e.role),r.jsx("div",{className:"min-h-screen bg-neutral-950 flex items-center justify-center text-white p-4",children:r.jsxs("div",{className:"max-w-md text-center",children:[r.jsx(uc,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-neutral-400 mb-6",children:"Your account credentials do not have GOD MODE privileges."}),r.jsx(Tt,{to:"/admin/register/superadmin"})]})})):r.jsx(la,{}):(console.warn("[SuperAdminRoute] Access denied: No active session"),r.jsx(Tt,{to:"/admin/register/superadmin",replace:!0}))},q9=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"HR Dashboard"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Is,{title:"Total Employees",value:"124",icon:St}),r.jsx(Is,{title:"Present Today",value:"118",icon:wI,className:"text-green-600"}),r.jsx(Is,{title:"On Leave",value:"6",icon:dc,className:"text-orange-600"})]}),r.jsx("div",{className:"p-10 border-2 border-dashed rounded-lg text-center text-gray-400",children:r.jsx("p",{children:"Employee Attendance & Performance Charts Placeholder"})})]}),B9=({isOpen:e,onClose:t,title:s,children:n,className:a})=>e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:le("bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",a),children:[r.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[r.jsx("h3",{className:"font-semibold text-lg",children:s}),r.jsx(V,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8",children:r.jsx(yt,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"p-4 max-h-[80vh] overflow-y-auto",children:n})]})}):null,$9=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!1),[a,i]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const{data:c,error:d}=await j.from("employees").select("*").order("full_name");if(d)throw d;t(c||[])}catch(c){console.error("Failed to fetch staff:",c)}finally{i(!1)}})()},[]);const o=l=>{l.preventDefault(),n(!1),M({title:"Employee Created",description:"New employee has been onboarded successfully."})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-800",children:"Employee Directory"}),r.jsxs(V,{onClick:()=>n(!0),className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(Bt,{className:"h-4 w-4 mr-2"})," Add Employee"]})]}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm overflow-hidden",children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{children:"Name"}),r.jsx(me,{children:"Role"}),r.jsx(me,{children:"Email"}),r.jsx(me,{children:"Status"}),r.jsx(me,{children:"Join Date"}),r.jsx(me,{className:"text-right",children:"Actions"})]})}),r.jsx(rs,{children:e.map(l=>r.jsxs(Le,{children:[r.jsx(ie,{className:"font-medium",children:l.name}),r.jsx(ie,{children:l.role}),r.jsx(ie,{children:l.email}),r.jsx(ie,{children:r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${l.status==="Active"?"bg-green-100 text-green-800":"bg-neutral-100 text-neutral-800"}`,children:l.status})}),r.jsx(ie,{children:l.joined}),r.jsx(ie,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"ghost",size:"icon",title:"Manage Role",children:r.jsx(WI,{className:"h-4 w-4 text-blue-500"})}),r.jsx(V,{variant:"ghost",size:"icon",title:"Deactivate",children:r.jsx(KI,{className:"h-4 w-4 text-red-500"})})]})})]},l.id))})]})}),r.jsx(B9,{isOpen:s,onClose:()=>n(!1),title:"Onboard New Employee",children:r.jsxs("form",{className:"space-y-4",onSubmit:o,children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Full Name"}),r.jsx(H,{className:"mt-1",placeholder:"Jane Doe",required:!0})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Email Address"}),r.jsx(H,{type:"email",className:"mt-1",placeholder:"jane@company.com",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Phone Number"}),r.jsx(H,{className:"mt-1",placeholder:"+91 98765 43210"})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Role"}),r.jsxs("select",{className:"flex h-10 w-full rounded-md border border-neutral-200 bg-white px-3 py-2 text-sm ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-950 disabled:cursor-not-allowed disabled:opacity-50 mt-1",children:[r.jsx("option",{children:"Data Entry Specialist"}),r.jsx("option",{children:"Support Agent"}),r.jsx("option",{children:"Sales Representative"})]})]})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Department"}),r.jsx(H,{className:"mt-1",placeholder:"e.g. Operations"})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx(V,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700",children:"Add Employee"})})]})})]})},U9=()=>{const e=Ue(),{login:t}=jh(),[s,n]=m.useState({email:"",password:""}),[a,i]=m.useState(!1),[o,l]=m.useState(""),c=async d=>{if(d.preventDefault(),l(""),!s.email||!s.password){l("Please enter both email and password");return}i(!0);try{const u=await t(s.email,s.password);u?u.role==="DATA_ENTRY"?e("/employee/dataentry/dashboard"):u.role==="SUPPORT"?e("/employee/support/dashboard"):u.role==="SALES"?e("/employee/sales/dashboard"):e("/"):l("Invalid credentials")}catch(u){console.error(u),l("An unexpected error occurred during login.")}finally{i(!1)}};return r.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0",children:[r.jsx("div",{className:"absolute -top-[30%] -right-[10%] w-[800px] h-[800px] rounded-full bg-blue-600/10 blur-3xl"}),r.jsx("div",{className:"absolute top-[60%] -left-[10%] w-[600px] h-[600px] rounded-full bg-purple-600/10 blur-3xl"})]}),r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center relative z-10 mb-8",children:[r.jsx(_r,{className:"mx-auto brightness-0 invert"}),r.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white tracking-tight",children:"Employee Portal"}),r.jsx("p",{className:"mt-2 text-center text-sm text-slate-400",children:"Restricted access for authorized personnel only"})]}),r.jsx("div",{className:"mt-2 sm:mx-auto sm:w-full sm:max-w-md relative z-10",children:r.jsxs(ve,{className:"border-slate-800 bg-slate-950/50 backdrop-blur-xl shadow-2xl text-slate-200",children:[r.jsxs(De,{children:[r.jsx(Re,{className:"text-xl text-center",children:"Sign In"}),r.jsx(Rs,{className:"text-center text-slate-400",children:"Enter your staff credentials to continue"})]}),r.jsxs(_e,{children:[o&&r.jsxs("div",{className:"mb-4 p-3 rounded bg-red-500/10 border border-red-500/20 flex items-center gap-2 text-red-400 text-sm",children:[r.jsx(Ns,{className:"w-4 h-4"})," ",o]}),r.jsxs("form",{className:"space-y-6",onSubmit:c,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"email",className:"text-slate-300",children:"Work Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(sr,{className:"absolute left-3 top-3 h-5 w-5 text-slate-500"}),r.jsx(H,{id:"email",type:"email",required:!0,value:s.email,onChange:d=>n({...s,email:d.target.value}),className:"pl-10 bg-slate-900/50 border-slate-700 focus:border-blue-500 text-white placeholder:text-slate-600",placeholder:"name@itm.com"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(U,{htmlFor:"password",className:"text-slate-300",children:"Password"}),r.jsx("a",{href:"#",onClick:d=>{d.preventDefault(),M({title:"Contact IT Support",description:"Please contact admin to reset password."})},className:"text-xs text-blue-400 hover:text-blue-300",children:"Forgot password?"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Za,{className:"absolute left-3 top-3 h-5 w-5 text-slate-500"}),r.jsx(H,{id:"password",type:"password",required:!0,value:s.password,onChange:d=>n({...s,password:d.target.value}),className:"pl-10 bg-slate-900/50 border-slate-700 focus:border-blue-500 text-white placeholder:text-slate-600",placeholder:""})]})]}),r.jsxs(V,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-500 text-white h-11",disabled:a,children:[a?r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(ux,{className:"mr-2 h-4 w-4"}),"Access Workspace"]})]})]}),r.jsx(Sc,{className:"bg-slate-900/50 border-t border-slate-800 p-4 rounded-b-xl",children:r.jsxs("div",{className:"w-full",children:[r.jsx("p",{className:"text-xs text-center text-slate-500 mb-2",children:"Test Credentials"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-[10px] text-slate-400 text-center",children:[r.jsxs("div",{className:"p-1 bg-slate-800 rounded border border-slate-700 cursor-pointer hover:bg-slate-700",onClick:()=>n({email:"data@itm.com",password:"data"}),children:[r.jsx("span",{className:"font-bold text-blue-400",children:"Data Entry"}),r.jsx("br",{}),"data@itm.com"]}),r.jsxs("div",{className:"p-1 bg-slate-800 rounded border border-slate-700 cursor-pointer hover:bg-slate-700",onClick:()=>n({email:"support@itm.com",password:"support"}),children:[r.jsx("span",{className:"font-bold text-purple-400",children:"Support"}),r.jsx("br",{}),"support@itm.com"]}),r.jsxs("div",{className:"p-1 bg-slate-800 rounded border border-slate-700 cursor-pointer hover:bg-slate-700",onClick:()=>n({email:"sales@itm.com",password:"sales"}),children:[r.jsx("span",{className:"font-bold text-emerald-400",children:"Sales"}),r.jsx("br",{}),"sales@itm.com"]})]})]})})]})})]})},gd=({title:e,value:t,icon:s,color:n,subtext:a})=>r.jsx(ve,{children:r.jsx(_e,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-neutral-500",children:e}),r.jsx("h3",{className:"text-2xl font-bold mt-2 text-neutral-900",children:t}),a&&r.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:a})]}),r.jsx("div",{className:`p-3 rounded-full ${n}`,children:r.jsx(s,{className:"w-6 h-6 text-white"})})]})})}),z9=()=>{var l;const{user:e}=jh(),[t,s]=m.useState({totalVendors:0,totalProducts:0,pendingKyc:0,approvedKyc:0}),[n,a]=m.useState([]),[i,o]=m.useState(!0);return m.useEffect(()=>{e&&(async()=>{try{const[d,u]=await Promise.all([ut.getDashboardStats(e==null?void 0:e.id),ut.getRecentActivities(e==null?void 0:e.id)]);s(d),a(u)}catch(d){console.error("Dashboard Error",d)}finally{o(!1)}})()},[e]),i?r.jsx("div",{className:"p-8",children:"Loading dashboard..."}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-neutral-900",children:["Welcome back, ",(l=e==null?void 0:e.name)==null?void 0:l.split(" ")[0],"!"]}),r.jsx("p",{className:"text-neutral-500 mt-2",children:"Here's what's happening with your assigned vendors today."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(gd,{title:"Total Assigned Vendors",value:t.totalVendors,icon:St,color:"bg-blue-600",subtext:"Vendors created by you"}),r.jsx(gd,{title:"Total Products",value:t.totalProducts,icon:Ua,color:"bg-purple-600",subtext:"Across all your vendors"}),r.jsx(gd,{title:"Pending KYC",value:t.pendingKyc,icon:Ns,color:"bg-amber-500",subtext:"Require verification"}),r.jsx(gd,{title:"Approved KYC",value:t.approvedKyc,icon:AI,color:"bg-emerald-600",subtext:"Successfully verified"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2 space-y-6",children:r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{children:"Recent Activity"})}),r.jsx(_e,{children:n.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No recent activity."}):r.jsx("div",{className:"space-y-4",children:n.map((c,d)=>r.jsxs("div",{className:"flex items-start gap-4 pb-4 border-b last:border-0 last:pb-0",children:[r.jsx("div",{className:`mt-1 w-2 h-2 rounded-full ${c.type==="VENDOR"?"bg-blue-500":"bg-green-500"}`}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-neutral-900",children:c.message}),r.jsx("p",{className:"text-xs text-neutral-500",children:new Date(c.time).toLocaleString()})]})]},d))})})]})}),r.jsx("div",{className:"space-y-6",children:r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{children:"Quick Actions"})}),r.jsxs(_e,{className:"space-y-3",children:[r.jsx(re,{to:"/employee/dataentry/vendor-onboarding",children:r.jsxs(V,{className:"w-full justify-start",variant:"outline",children:[r.jsx(Bt,{className:"mr-2 h-4 w-4"})," Create New Vendor"]})}),r.jsx(re,{to:"/employee/dataentry/vendors",children:r.jsxs(V,{className:"w-full justify-start",variant:"outline",children:[r.jsx(Ua,{className:"mr-2 h-4 w-4"})," Manage Vendor Products"]})}),r.jsx(re,{to:"/employee/dataentry/categories/upload",children:r.jsxs(V,{className:"w-full justify-start",variant:"outline",children:[r.jsx(Ur,{className:"mr-2 h-4 w-4"})," Bulk Import Categories"]})}),r.jsx(re,{to:"/employee/dataentry/records",children:r.jsxs(V,{className:"w-full justify-start text-blue-600",variant:"ghost",children:["View All Records ",r.jsx(Qa,{className:"ml-2 h-4 w-4"})]})})]})]})})]})]})},H9=()=>{const[e,t]=m.useState([]),[s,n]=m.useState([]),[a,i]=m.useState(null),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState(""),[p,f]=m.useState(!1);m.useEffect(()=>{g()},[]),m.useEffect(()=>{a&&x(a.id)},[a]);const g=async()=>{try{l(!0);const{data:v,error:b}=await j.from("states").select("*").eq("is_active",!0).order("name");if(b)throw b;t(v||[]),v&&v.length>0&&!a&&i(v[0])}catch(v){M({title:"Error",description:"Failed to load states: "+v.message,variant:"destructive"})}finally{l(!1)}},x=async v=>{try{const{data:b,error:N}=await j.from("cities").select("*").eq("state_id",v).eq("is_active",!0).order("name");if(N)throw N;n(b||[])}catch(b){M({title:"Error",description:"Failed to load cities: "+b.message,variant:"destructive"})}},w=async()=>{if(!u.trim()||!a){M({title:"Error",description:"Please enter a city name",variant:"destructive"});return}try{f(!0);let v=u.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");const{data:b,error:N}=await j.from("cities").select("id, slug").eq("state_id",a.id).eq("slug",v).maybeSingle();if(N&&!N.message.includes("PGRST116"))throw N;if(b){const A=Math.random().toString(36).substring(2,8);v=`${v}-${A}`}const{data:k,error:T}=await j.from("cities").insert([{state_id:a.id,name:u,slug:v,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select();if(T)throw T.message.includes("row-level security")?new Error("RLS policy not configured. Please contact admin to enable city creation."):T.message.includes("unique constraint")?new Error("A city with this name already exists in this state."):T;M({title:"Success",description:`City "${u}" added successfully`}),h(""),d(!1),x(a.id)}catch(v){M({title:"Error",description:"Failed to add city: "+v.message,variant:"destructive"})}finally{f(!1)}},y=async v=>{if(window.confirm("Are you sure you want to delete this city?"))try{const{error:b}=await j.from("cities").update({is_active:!1}).eq("id",v);if(b)throw b;M({title:"Success",description:"City deleted successfully"}),a&&x(a.id)}catch(b){M({title:"Error",description:"Failed to delete city: "+b.message,variant:"destructive"})}};return o?r.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading locations..."}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsx("h2",{className:"text-2xl font-bold",children:"Location Management"})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:[r.jsx("h3",{className:"font-semibold mb-4 text-lg",children:"States"}),r.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:e.length>0?e.map(v=>r.jsxs("div",{onClick:()=>i(v),className:`p-3 rounded cursor-pointer transition-all ${(a==null?void 0:a.id)===v.id?"bg-blue-500 text-white shadow-md":"bg-gray-50 hover:bg-gray-100 text-gray-900"}`,children:[r.jsx("div",{className:"font-medium text-sm",children:v.name}),r.jsx("div",{className:"text-xs opacity-75",children:v.slug})]},v.id)):r.jsxs("div",{className:"p-4 text-center text-gray-500",children:[r.jsx(Ns,{className:"w-5 h-5 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No states available"})]})})]}),r.jsxs("div",{className:"col-span-1 lg:col-span-3 border rounded-lg p-4 bg-white shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"font-semibold text-lg",children:["Cities in ",(a==null?void 0:a.name)||"Select a State"]}),a&&r.jsxs(qs,{open:c,onOpenChange:d,children:[r.jsx(Tc,{asChild:!0,children:r.jsxs(V,{size:"sm",className:"gap-1",children:[r.jsx(Bt,{className:"w-4 h-4"}),"Add City"]})}),r.jsxs(_s,{children:[r.jsx(Ss,{children:r.jsxs(Cs,{children:["Add City to ",a.name]})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"city-name",children:"City Name"}),r.jsx(H,{id:"city-name",value:u,onChange:v=>h(v.target.value),placeholder:"e.g., Pune, Mumbai, Delhi",onKeyPress:v=>{v.key==="Enter"&&w()}})]}),r.jsx(V,{onClick:w,disabled:p,className:"w-full",children:p?"Adding...":"Add City"})]})]})]})]}),a?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{className:"bg-gray-50",children:[r.jsx(me,{children:"City Name"}),r.jsx(me,{children:"Slug"}),r.jsx(me,{className:"text-right",children:"Status"}),r.jsx(me,{className:"text-right w-20",children:"Action"})]})}),r.jsx(rs,{children:s.length>0?s.map(v=>r.jsxs(Le,{className:"hover:bg-gray-50",children:[r.jsx(ie,{className:"font-medium",children:v.name}),r.jsx(ie,{className:"text-gray-600",children:v.slug}),r.jsx(ie,{className:"text-right",children:r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})}),r.jsx(ie,{className:"text-right",children:r.jsx("button",{onClick:()=>y(v.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Delete city",children:r.jsx(vr,{className:"w-4 h-4"})})})]},v.id)):r.jsx(Le,{children:r.jsxs(ie,{colSpan:4,className:"text-center text-gray-500 py-8",children:[r.jsx(Ns,{className:"w-5 h-5 mx-auto mb-2 opacity-50"}),r.jsxs("p",{children:["No cities found in ",a.name]})]})})})]})}):r.jsx("div",{className:"flex items-center justify-center h-40 text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ns,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Please select a state from the left panel"})]})})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Tip:"})," Click on a state to view its cities. You can add new cities or delete existing ones. All changes are saved immediately to the database."]})})]})},W9=()=>{const e=Ue(),[t,s]=m.useState([]),[n,a]=m.useState(!0),[i,o]=m.useState(""),[l,c]=m.useState([]),[d,u]=m.useState("");m.useEffect(()=>{h()},[]);const h=async()=>{try{a(!0);const{data:g,error:x}=await j.from("vendors").select("*").eq("is_active",!0).order("company_name");if(x)throw x;s(g||[]),c(g||[])}catch(g){console.error(g),M({title:"Error",description:"Failed to load vendors",variant:"destructive"})}finally{a(!1)}},p=g=>{if(o(g),!g.trim()){c(t);return}const x=g.toLowerCase(),w=t.filter(y=>{var v,b,N,k;return((v=y.company_name)==null?void 0:v.toLowerCase().includes(x))||((b=y.owner_name)==null?void 0:b.toLowerCase().includes(x))||((N=y.vendor_id)==null?void 0:N.toLowerCase().includes(x))||((k=y.email)==null?void 0:k.toLowerCase().includes(x))});c(w)},f=async()=>{if(!d.trim()){M({title:"Error",description:"Please enter a vendor ID",variant:"destructive"});return}const g=t.find(x=>{var w;return((w=x.vendor_id)==null?void 0:w.toLowerCase())===d.toLowerCase()});g?e(`/employee/dataentry/vendors/${g.id}/products`):M({title:"Not Found",description:`Vendor ID "${d}" not found`,variant:"destructive"})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Vendor Management"}),r.jsx("p",{className:"text-gray-600",children:"View and manage all vendors"})]}),r.jsxs(ve,{className:"bg-blue-50 border-blue-200",children:[r.jsx(De,{children:r.jsx(Re,{className:"text-lg",children:"Quick Vendor Lookup"})}),r.jsxs(_e,{children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(H,{placeholder:"Enter Vendor ID (e.g., VEN-001)",value:d,onChange:g=>u(g.target.value),onKeyPress:g=>g.key==="Enter"&&f()}),r.jsxs(V,{onClick:f,className:"gap-1",children:[r.jsx(Et,{className:"w-4 h-4"}),"Search"]})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Type a vendor ID and press Enter or click Search to quickly navigate to their products"})]})]}),r.jsxs(ve,{children:[r.jsxs(De,{children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsxs(Re,{children:["All Vendors (",l.length,")"]})}),r.jsx("div",{className:"mt-4",children:r.jsx(H,{placeholder:"Search by company name, owner, vendor ID, or email...",value:i,onChange:g=>p(g.target.value),className:"max-w-md"})})]}),r.jsx(_e,{children:n?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx(pe,{className:"animate-spin text-gray-400"})}):l.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:r.jsx("p",{children:"No vendors found"})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{children:"Vendor ID"}),r.jsx(me,{children:"Company"}),r.jsx(me,{children:"Owner"}),r.jsx(me,{children:"Email"}),r.jsx(me,{children:"KYC Status"}),r.jsx(me,{className:"text-right",children:"Actions"})]})}),r.jsx(rs,{children:l.map(g=>r.jsxs(Le,{children:[r.jsx(ie,{className:"font-mono font-semibold",children:g.vendor_id}),r.jsx(ie,{className:"font-medium",children:g.company_name}),r.jsx(ie,{children:g.owner_name}),r.jsx(ie,{className:"text-sm text-gray-600",children:g.email}),r.jsx(ie,{children:r.jsx(Me,{variant:g.kyc_status==="VERIFIED"?"default":g.kyc_status==="REJECTED"?"destructive":"secondary",children:g.kyc_status||"PENDING"})}),r.jsx(ie,{className:"text-right",children:r.jsx(re,{to:`/employee/dataentry/vendors/${g.id}/products`,children:r.jsxs(V,{size:"sm",variant:"outline",className:"gap-1",children:[r.jsx(Xn,{className:"w-4 h-4"}),"View Products"]})})})]},g.id))})]})})})]})]})},Hb=()=>{const{vendorId:e}=Wr(),[t,s]=m.useState([]),[n,a]=m.useState(null),[i,o]=m.useState(!0);return m.useEffect(()=>{e&&(async()=>{o(!0);try{const[c,d]=await Promise.all([ut.getVendorById(e),ut.getVendorProducts(e)]);a(c),s(d||[])}catch(c){console.error("Failed to load vendor products",c)}finally{o(!1)}})()},[e]),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(re,{to:"/employee/dataentry/vendors",children:r.jsx(V,{variant:"ghost",size:"icon",children:r.jsx(Vr,{className:"w-4 h-4"})})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-neutral-800",children:i?"Loading...":`${(n==null?void 0:n.company_name)||"Vendor"} Products`}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage products for this vendor"})]}),r.jsx("div",{className:"ml-auto",children:r.jsx(re,{to:`/employee/dataentry/vendors/${e}/products/add`,children:r.jsxs(V,{className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(Bt,{className:"w-4 h-4 mr-2"})," Add Product"]})})})]}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm overflow-hidden",children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{children:"Image"}),r.jsx(me,{children:"Product Name"}),r.jsx(me,{children:"Price"}),r.jsx(me,{children:"Category"}),r.jsx(me,{children:"Status"}),r.jsx(me,{className:"text-right",children:"Actions"})]})}),r.jsx(rs,{children:i?r.jsx(Le,{children:r.jsx(ie,{colSpan:6,className:"text-center py-8",children:r.jsx(pe,{className:"animate-spin mx-auto"})})}):t.length===0?r.jsx(Le,{children:r.jsx(ie,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No products found for this vendor."})}):t.map(l=>{var u,h,p;const c=l.product_images&&l.product_images.length>0?l.product_images[0].image_url:null,d=((u=l.micro_category)==null?void 0:u.name)||((h=l.sub_category)==null?void 0:h.name)||((p=l.head_category)==null?void 0:p.name)||"Uncategorized";return r.jsxs(Le,{children:[r.jsx(ie,{children:r.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center overflow-hidden",children:c?r.jsx("img",{src:c,alt:l.name,className:"w-full h-full object-cover"}):r.jsx(MI,{className:"w-5 h-5 text-gray-400"})})}),r.jsx(ie,{className:"font-medium",children:l.name}),r.jsxs(ie,{children:["",l.price||"N/A"]}),r.jsx(ie,{children:d}),r.jsx(ie,{children:r.jsx(Me,{variant:l.status==="ACTIVE"?"default":"secondary",children:l.status||"ACTIVE"})}),r.jsx(ie,{className:"text-right",children:r.jsx(re,{to:`/employee/dataentry/vendors/${e}/products/${l.id}/edit`,children:r.jsx(V,{variant:"ghost",size:"sm",children:"Edit"})})})]},l.id)})})]})})]})},Wb=()=>{const{vendorId:e,productId:t}=Wr(),s=Ue(),n=!!t,[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState({name:"",price:"",quantity:"",description:"",head_category:"",head_category_id:"",sub_category:"",sub_category_id:"",micro_category:"",micro_category_id:"",images:[],video:""}),[u,h]=m.useState([]),[p,f]=m.useState([]),[g,x]=m.useState([]),[w,y]=m.useState([]),[v,b]=m.useState(null);m.useEffect(()=>{N()},[n,t]);const N=async()=>{i(!0);try{console.log(" Loading initial data... isEdit:",n,"productId:",t),console.log(" Fetching categories tree...");const F=await ut.getCategoriesTree();if(console.log(" Categories loaded:",F==null?void 0:F.length),h(F),n&&t){console.log(" Loading product for edit:",t);const D=await ut.getProductById(t);console.log(" Product loaded:",D);let S=D.head_category_id||"",E=D.sub_category_id||"",O=D.micro_category_id||"",P="",R="",L="";const B=F.find(W=>W.id===S);if(B){P=B.name,f(B.subs);const W=B.subs.find(z=>z.id===E);if(W){R=W.name,x(W.micros);const z=W.micros.find(X=>X.id===O);z&&(L=z.name)}}let Q=[];if(D.product_images&&Array.isArray(D.product_images)&&D.product_images.length>0)Q=D.product_images.map(W=>W.image_url);else if(D.images){if(Q=D.images,typeof Q=="string")try{Q=JSON.parse(Q)}catch{Q=[]}Array.isArray(Q)||(Q=[])}d({name:D.name||"",price:D.price||"",quantity:D.stock||"",description:D.description||"",head_category:P,head_category_id:S,sub_category:R,sub_category_id:E,micro_category:L,micro_category_id:O,images:Q,video:D.video_url||""})}}catch(F){console.error(" Error loading data:",F),console.error("Error details:",F==null?void 0:F.message,F==null?void 0:F.code),M({title:"Error",description:(F==null?void 0:F.message)||"Failed to load data",variant:"destructive"})}finally{console.log(" Loading complete"),i(!1)}},k=F=>{const D=u.find(S=>S.id===F);d(S=>({...S,head_category_id:F,head_category:(D==null?void 0:D.name)||"",sub_category:"",sub_category_id:"",micro_category:"",micro_category_id:""})),f(D?D.subs:[])},T=F=>{const D=p.find(S=>S.id===F);d(S=>({...S,sub_category_id:F,sub_category:(D==null?void 0:D.name)||"",micro_category:"",micro_category_id:""})),x(D?D.micros:[])},A=F=>{const D=g.find(S=>S.id===F);d(S=>({...S,micro_category_id:F,micro_category:D?D.name:""}))},_=()=>{if(!(!c.name||c.micro_category_id)){for(const F of u)for(const D of F.subs)for(const S of D.micros)if(c.name.toLowerCase().includes(S.name.toLowerCase())){d(E=>({...E,head_category:F.name,sub_category:D.name,micro_category:S.name,micro_category_id:S.id})),f(F.subs),x(D.micros),M({title:"Category Detected",description:`Auto-selected: ${S.name}`});return}}},C=F=>{const D=Array.from(F.target.files);if(D.length+c.images.length>5){M({title:"Limit Exceeded",description:"Max 5 images allowed",variant:"destructive"});return}y(S=>[...S,...D])},I=F=>{const D=F.target.files[0];if(D&&D.size>50*1024*1024){M({title:"File too large",description:"Video max 50MB",variant:"destructive"});return}b(D)},q=async F=>{if(F.preventDefault(),!c.micro_category_id&&!n){M({title:"Required",description:"Please select a category",variant:"destructive"});return}l(!0);try{const D=[];for(const P of w){const R=await ut.uploadProductMedia(P,"image");D.push(R)}let S=c.video;v&&(S=await ut.uploadProductMedia(v,"video"));const E=[...c.images,...D],O={vendor_id:e,name:c.name,price:parseFloat(c.price),moq:1,stock:parseInt(c.quantity),description:c.description,head_category_id:c.head_category_id||null,sub_category_id:c.sub_category_id||null,micro_category_id:c.micro_category_id,category:c.micro_category,images:E,video_url:S,status:"ACTIVE"};n?(await ut.updateProduct(t,O),M({title:"Success",description:"Product updated"})):(await ut.addProduct(O),M({title:"Success",description:"Product created"})),s(`/employee/dataentry/vendors/${e}/products`)}catch(D){console.error(D),M({title:"Error",description:"Operation failed",variant:"destructive"})}finally{l(!1)}};return a&&n?r.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>s(-1),children:r.jsx(Vr,{className:"w-5 h-5"})}),r.jsx("h1",{className:"text-2xl font-bold",children:"Loading..."})]}),r.jsx(ve,{children:r.jsxs(_e,{className:"pt-6 text-center py-8",children:[r.jsx(pe,{className:"animate-spin mx-auto w-8 h-8"}),r.jsx("p",{className:"text-gray-500 mt-4",children:"Loading product details..."})]})})]}):r.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>s(-1),children:r.jsx(Vr,{className:"w-5 h-5"})}),r.jsx("h1",{className:"text-2xl font-bold",children:n?"Edit Product":"Add New Product"})]}),r.jsx("form",{onSubmit:q,children:r.jsx(ve,{children:r.jsxs(_e,{className:"space-y-6 pt-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(U,{children:["Product Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(H,{required:!0,value:c.name,onChange:F=>d({...c,name:F.target.value}),onBlur:_,placeholder:"e.g. Cotton Saree"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Head Category"}),r.jsxs(tt,{value:c.head_category_id,onValueChange:k,children:[r.jsx(Je,{children:r.jsx(st,{placeholder:"Select..."})}),r.jsx(Qe,{children:u.map(F=>r.jsx(ye,{value:F.id,children:F.name},F.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Sub Category"}),r.jsxs(tt,{value:c.sub_category_id,onValueChange:T,disabled:!c.head_category_id||a,children:[r.jsx(Je,{children:r.jsx(st,{placeholder:a?"Loading...":"Select..."})}),r.jsx(Qe,{children:p.map(F=>r.jsx(ye,{value:F.id,children:F.name},F.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(U,{children:["Micro Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs(tt,{value:c.micro_category_id,onValueChange:A,disabled:!c.sub_category_id||a,children:[r.jsx(Je,{children:r.jsx(st,{placeholder:a?"Loading...":"Select..."})}),r.jsx(Qe,{children:g.map(F=>r.jsx(ye,{value:F.id,children:F.name},F.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(U,{children:["Price () ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(H,{type:"number",required:!0,min:"0",value:c.price,onChange:F=>d({...c,price:F.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(U,{children:["Quantity ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(H,{type:"number",required:!0,min:"0",value:c.quantity,onChange:F=>d({...c,quantity:F.target.value})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Description"}),r.jsx(Gr,{value:c.description,onChange:F=>d({...c,description:F.target.value}),rows:4})]}),r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsx("h3",{className:"font-medium",children:"Product Media"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Images (Max 5)"}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.images.map((F,D)=>r.jsxs("div",{className:"relative w-24 h-24 border rounded overflow-hidden",children:[r.jsx("img",{src:F,alt:"",className:"w-full h-full object-cover"}),r.jsx("button",{type:"button",className:"absolute top-0 right-0 bg-red-500 text-white p-1 rounded-bl",onClick:()=>d(S=>({...S,images:S.images.filter((E,O)=>O!==D)})),children:r.jsx(yt,{className:"w-3 h-3"})})]},D)),w.map((F,D)=>r.jsxs("div",{className:"relative w-24 h-24 border rounded bg-gray-50 flex items-center justify-center",children:[r.jsx("span",{className:"text-xs text-gray-500 truncate px-1",children:F.name}),r.jsx("button",{type:"button",className:"absolute top-0 right-0 bg-red-500 text-white p-1 rounded-bl",onClick:()=>y(S=>S.filter((E,O)=>O!==D)),children:r.jsx(yt,{className:"w-3 h-3"})})]},`new-${D}`)),r.jsxs("label",{className:"w-24 h-24 border-2 border-dashed rounded flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50",children:[r.jsx(Ur,{className:"w-6 h-6 text-gray-400"}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Add Image"}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:C})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{children:"Video (Max 50MB)"}),r.jsxs("div",{className:"flex items-center gap-4",children:[c.video&&!v&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[r.jsx(D0,{className:"w-4 h-4"})," Video Uploaded",r.jsx(V,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(F=>({...F,video:""})),children:"Remove"})]}),v&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[r.jsx(D0,{className:"w-4 h-4"})," ",v.name,r.jsx(V,{type:"button",variant:"ghost",size:"sm",onClick:()=>b(null),children:"Remove"})]}),!c.video&&!v&&r.jsx(H,{type:"file",accept:"video/*",onChange:I,className:"max-w-xs"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>s(-1),children:"Cancel"}),r.jsxs(V,{type:"submit",className:"bg-[#003D82]",disabled:o,children:[o?r.jsx(pe,{className:"animate-spin mr-2"}):null,n?"Update Product":"Create Product"]})]})]})})})]})};var Jv="Checkbox",[K9,kH]=ks(Jv),[G9,Y9]=K9(Jv),kP=m.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[p,f]=m.useState(null),g=He(t,N=>f(N)),x=m.useRef(!1),w=p?u||!!p.closest("form"):!0,[y=!1,v]=Fr({prop:a,defaultProp:i,onChange:d}),b=m.useRef(y);return m.useEffect(()=>{const N=p==null?void 0:p.form;if(N){const k=()=>v(b.current);return N.addEventListener("reset",k),()=>N.removeEventListener("reset",k)}},[p,v]),r.jsxs(G9,{scope:s,state:y,disabled:l,children:[r.jsx(Ee.button,{type:"button",role:"checkbox","aria-checked":Wn(y)?"mixed":y,"aria-required":o,"data-state":AP(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onKeyDown:fe(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:fe(e.onClick,N=>{v(k=>Wn(k)?!0:!k),w&&(x.current=N.isPropagationStopped(),x.current||N.stopPropagation())})}),w&&r.jsx(X9,{control:p,bubbles:!x.current,name:n,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Wn(i)?!1:i})]})});kP.displayName=Jv;var EP="CheckboxIndicator",PP=m.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:n,...a}=e,i=Y9(EP,s);return r.jsx(Us,{present:n||Wn(i.state)||i.state===!0,children:r.jsx(Ee.span,{"data-state":AP(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});PP.displayName=EP;var X9=e=>{const{control:t,checked:s,bubbles:n=!0,defaultChecked:a,...i}=e,o=m.useRef(null),l=Rv(s),c=vv(t);m.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==s&&f){const g=new Event("click",{bubbles:n});u.indeterminate=Wn(s),f.call(u,Wn(s)?!1:s),u.dispatchEvent(g)}},[l,s,n]);const d=m.useRef(Wn(s)?!1:s);return r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Wn(e){return e==="indeterminate"}function AP(e){return Wn(e)?"indeterminate":e?"checked":"unchecked"}var TP=kP,J9=PP;const DP=$e.forwardRef(({className:e,...t},s)=>r.jsx(TP,{ref:s,className:le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(J9,{className:le("flex items-center justify-center text-current"),children:r.jsx(Sr,{className:"h-4 w-4"})})}));DP.displayName=TP.displayName;const Q9=({isOpen:e,onClose:t,category:s=null,level:n,parentId:a=null,onSave:i})=>{const[o,l]=m.useState({name:"",slug:"",description:"",is_active:!0}),[c,d]=m.useState(!1),[u,h]=m.useState({});m.useEffect(()=>{l(s?{name:s.name||"",slug:s.slug||"",description:s.description||"",is_active:s.is_active!==!1}:{name:"",slug:"",description:"",is_active:!0}),h({})},[s,e]);const p=y=>y.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),f=y=>{l(v=>({...v,name:y,slug:p(y)}))},g=()=>{const y={};return o.name.trim()||(y.name="Name is required"),o.slug.trim()||(y.slug="Slug is required"),h(y),Object.keys(y).length===0},x=async()=>{if(g()){d(!0);try{await i({...o,parentId:a,id:s==null?void 0:s.id}),t()}catch(y){console.error("Error saving category:",y)}finally{d(!1)}}},w=()=>{switch(n){case"head":return"Head Category";case"sub":return"Sub Category";case"micro":return"Micro Category";default:return"Category"}};return r.jsx(qs,{open:e,onOpenChange:t,children:r.jsxs(_s,{className:"max-w-xl",children:[r.jsx(Ss,{children:r.jsxs(Cs,{children:[s?"Edit":"Add New"," ",w()]})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsxs(U,{htmlFor:"name",children:["Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(H,{id:"name",value:o.name,onChange:y=>f(y.target.value),placeholder:`Enter ${w().toLowerCase()} name`,className:u.name?"border-red-500":""}),u.name&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:u.name})]}),r.jsxs("div",{children:[r.jsxs(U,{htmlFor:"slug",children:["Slug ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(H,{id:"slug",value:o.slug,onChange:y=>l(v=>({...v,slug:y.target.value})),placeholder:"auto-generated-from-name",className:u.slug?"border-red-500":""}),u.slug&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:u.slug}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL-friendly identifier (auto-generated, can be edited)"})]}),n!=="micro"&&r.jsxs("div",{children:[r.jsx(U,{htmlFor:"description",children:"Description"}),r.jsx(Gr,{id:"description",value:o.description||"",onChange:y=>l(v=>({...v,description:y.target.value})),placeholder:`Optional description for ${w().toLowerCase()}`,rows:3})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(DP,{id:"is_active",checked:o.is_active,onCheckedChange:y=>l(v=>({...v,is_active:y}))}),r.jsx(U,{htmlFor:"is_active",className:"cursor-pointer",children:"Active (visible to users)"})]})]}),r.jsxs(xn,{children:[r.jsx(V,{variant:"outline",onClick:t,disabled:c,children:"Cancel"}),r.jsx(V,{onClick:x,disabled:c,children:c?"Saving...":s?"Update":"Create"})]})]})})},Z9=({isOpen:e,onClose:t,category:s,level:n,childCount:a=0,onConfirm:i})=>{const[o,l]=m.useState(!1),c=()=>{switch(n){case"head":return"Head Category";case"sub":return"Sub Category";case"micro":return"Micro Category";default:return"Category"}},d=async()=>{l(!0);try{await i(s.id),t()}catch(u){console.error("Error deleting category:",u)}finally{l(!1)}};return r.jsx(qs,{open:e,onOpenChange:t,children:r.jsxs(_s,{children:[r.jsx(Ss,{children:r.jsxs(Cs,{className:"flex items-center gap-2",children:[r.jsx(Ns,{className:"w-5 h-5 text-red-500"}),"Delete ",c(),"?"]})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:r.jsx("p",{className:"text-sm font-medium text-red-900",children:s==null?void 0:s.name})}),a>0&&r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded",children:r.jsxs("p",{className:"text-sm text-yellow-900",children:[r.jsx("strong",{children:" Warning:"})," This ",c().toLowerCase()," has ",a," child categor",a===1?"y":"ies",".",n==="head"&&" Deleting will also remove all sub-categories and micro-categories.",n==="sub"&&" Deleting will also remove all micro-categories."]})}),r.jsxs("p",{className:"text-sm text-gray-600",children:["This action cannot be undone. Are you sure you want to delete this ",c().toLowerCase(),"?"]})]}),r.jsxs(xn,{children:[r.jsx(V,{variant:"outline",onClick:t,disabled:o,children:"Cancel"}),r.jsx(V,{variant:"destructive",onClick:d,disabled:o,children:o?"Deleting...":"Delete"})]})]})})},xd={getAll:async()=>{const{data:e,error:t}=await j.from("head_categories").select("*").order("name");if(t)throw t;return e},getActive:async()=>{const{data:e,error:t}=await j.from("head_categories").select("*").eq("is_active",!0).order("name");if(t)throw t;return e},create:async e=>{const{name:t,slug:s,description:n,is_active:a}=e,{data:i,error:o}=await j.from("head_categories").insert([{name:t.trim(),slug:s.trim(),description:(n==null?void 0:n.trim())||null,is_active:a!==!1}]).select().single();if(o)throw o;return i},update:async(e,t)=>{const{name:s,slug:n,description:a,is_active:i}=t,{data:o,error:l}=await j.from("head_categories").update({name:s.trim(),slug:n.trim(),description:(a==null?void 0:a.trim())||null,is_active:i!==!1}).eq("id",e).select().single();if(l)throw l;return o},delete:async e=>{const{data:t,error:s}=await j.from("sub_categories").select("id",{count:"exact"}).eq("head_category_id",e);if(s)throw s;if(t&&t.length>0)throw new Error(`Cannot delete. This head category has ${t.length} sub-categories.`);const{error:n}=await j.from("head_categories").delete().eq("id",e);if(n)throw n},getChildCount:async e=>{const{count:t,error:s}=await j.from("sub_categories").select("id",{count:"exact"}).eq("head_category_id",e);if(s)throw s;return t||0}},vd={getByHeadCategory:async e=>{const{data:t,error:s}=await j.from("sub_categories").select("*").eq("head_category_id",e).order("name");if(s)throw s;return t},getActiveByHeadCategory:async e=>{const{data:t,error:s}=await j.from("sub_categories").select("*").eq("head_category_id",e).eq("is_active",!0).order("name");if(s)throw s;return t},create:async(e,t)=>{const{name:s,slug:n,description:a,is_active:i}=e,{data:o,error:l}=await j.from("sub_categories").insert([{head_category_id:t,name:s.trim(),slug:n.trim(),description:(a==null?void 0:a.trim())||null,is_active:i!==!1}]).select().single();if(l)throw l;return o},update:async(e,t)=>{const{name:s,slug:n,description:a,is_active:i}=t,{data:o,error:l}=await j.from("sub_categories").update({name:s.trim(),slug:n.trim(),description:(a==null?void 0:a.trim())||null,is_active:i!==!1}).eq("id",e).select().single();if(l)throw l;return o},delete:async e=>{const{data:t,error:s}=await j.from("micro_categories").select("id",{count:"exact"}).eq("sub_category_id",e);if(s)throw s;if(t&&t.length>0)throw new Error(`Cannot delete. This sub-category has ${t.length} micro-categories.`);const{error:n}=await j.from("sub_categories").delete().eq("id",e);if(n)throw n},getChildCount:async e=>{const{count:t,error:s}=await j.from("micro_categories").select("id",{count:"exact"}).eq("sub_category_id",e);if(s)throw s;return t||0}},cp={getBySubCategory:async e=>{const{data:t,error:s}=await j.from("micro_categories").select("*").eq("sub_category_id",e).order("name");if(s)throw s;return t},getActiveBySubCategory:async e=>{const{data:t,error:s}=await j.from("micro_categories").select("*").eq("sub_category_id",e).eq("is_active",!0).order("name");if(s)throw s;return t},create:async(e,t)=>{const{name:s,slug:n,is_active:a}=e,{data:i,error:o}=await j.from("micro_categories").insert([{sub_category_id:t,name:s.trim(),slug:n.trim(),is_active:a!==!1}]).select().single();if(o)throw o;return i},update:async(e,t)=>{const{name:s,slug:n,is_active:a}=t,{data:i,error:o}=await j.from("micro_categories").update({name:s.trim(),slug:n.trim(),is_active:a!==!1}).eq("id",e).select().single();if(o)throw o;return i},delete:async e=>{const{error:t}=await j.from("micro_categories").delete().eq("id",e);if(t)throw t}},e7=()=>{const[e,t]=m.useState([]),[s,n]=m.useState({}),[a,i]=m.useState({}),[o,l]=m.useState({}),[c,d]=m.useState({}),[u,h]=m.useState({}),[p,f]=m.useState(null),[g,x]=m.useState(!1),[w,y]=m.useState({meta_tags:"",description:"",states:"",cities:""});m.useState([]),m.useState([]);const[v,b]=m.useState(""),[N,k]=m.useState({heads:[],subs:[],micros:[]}),[T,A]=m.useState(!1),[_,C]=m.useState(!1),[I,q]=m.useState(!1),[F,D]=m.useState(null),[S,E]=m.useState(null),[O,P]=m.useState(null),[R,L]=m.useState(0),[B,Q]=m.useState(!1);m.useEffect(()=>{W()},[]);const W=async()=>{try{A(!0);const{data:K,error:ee}=await j.from("head_categories").select("*").eq("is_active",!0).order("name");if(ee)throw ee;t(K||[])}catch(K){M({title:"Error",description:K.message,variant:"destructive"})}finally{A(!1)}},z=async K=>{try{const{data:ee,error:Ne}=await j.from("sub_categories").select("*").eq("head_category_id",K).eq("is_active",!0).order("name");if(Ne)throw Ne;i(Ie=>({...Ie,[K]:ee||[]}))}catch(ee){M({title:"Error",description:ee.message,variant:"destructive"})}},X=async K=>{try{const{data:ee,error:Ne}=await j.from("micro_categories").select("*").eq("sub_category_id",K).eq("is_active",!0).order("name");if(Ne)throw Ne;d(Ie=>({...Ie,[K]:ee||[]})),ee&&ee.length>0&&ee.forEach(Ie=>{de(Ie.id)})}catch(ee){M({title:"Error",description:ee.message,variant:"destructive"})}},de=async K=>{try{const{data:ee,error:Ne}=await j.from("micro_category_meta").select("*").eq("micro_categories",K).maybeSingle();if(Ne&&Ne.code!=="PGRST116"){console.error("Error fetching meta:",Ne);return}h(Ie=>({...Ie,[K]:ee||null}))}catch(ee){console.error("Error fetching meta:",ee)}},ue=K=>{if(b(K),!K.trim()){k({heads:[],subs:[],micros:[]});return}const ee=K.toLowerCase(),Ne=e.filter(J=>J.name.toLowerCase().includes(ee)||J.slug.toLowerCase().includes(ee)),Ie=[];Object.entries(a).forEach(([J,ae])=>{ae.forEach(ge=>{(ge.name.toLowerCase().includes(ee)||ge.slug.toLowerCase().includes(ee))&&Ie.push({...ge,headCategoryId:J})})});const $=[];Object.entries(c).forEach(([J,ae])=>{ae.forEach(ge=>{(ge.name.toLowerCase().includes(ee)||ge.slug.toLowerCase().includes(ee))&&$.push({...ge,subCategoryId:J})})}),k({heads:Ne,subs:Ie,micros:$})},te=K=>{s[K]?n(ee=>({...ee,[K]:!1})):(n(ee=>({...ee,[K]:!0})),z(K))},ce=K=>{o[K]?l(ee=>({...ee,[K]:!1})):(l(ee=>({...ee,[K]:!0})),X(K))},ne=K=>{f(K);const ee=u[K.id];y({meta_tags:(ee==null?void 0:ee.meta_tags)||"",description:(ee==null?void 0:ee.description)||""}),x(!0)},he=async()=>{try{if(u[p.id]){const{error:ee}=await j.from("micro_category_meta").update({meta_tags:w.meta_tags,description:w.description,updated_at:new Date().toISOString()}).eq("micro_categories",p.id);if(ee){if(ee.code==="42501")M({title:"Permission Denied",description:"RLS policy blocks this operation. Contact admin to fix permissions.",variant:"destructive"});else throw ee;return}}else{const{error:ee}=await j.from("micro_category_meta").insert([{micro_categories:p.id,meta_tags:w.meta_tags,description:w.description,created_at:new Date().toISOString()}]);if(ee){if(ee.code==="42501")M({title:"Permission Denied",description:"RLS policy blocks this operation. Contact admin to fix permissions.",variant:"destructive"});else throw ee;return}}M({title:"Success",description:"Meta information saved"}),x(!1),de(p.id)}catch(K){M({title:"Error",description:K.message,variant:"destructive"})}},xe=(K,ee=null,Ne=null)=>{D(K),E(null),P(ee?{id:ee,name:Ne}:null),C(!0)},we=async(K,ee,Ne=null)=>{D(K),E(ee),P(Ne?{id:Ne}:null),C(!0)},Se=async(K,ee,Ne=null)=>{D(K),E(ee),P(Ne?{id:Ne}:null);try{let Ie=0;K==="head"?Ie=await xd.getChildCount(ee.id):K==="sub"&&(Ie=await vd.getChildCount(ee.id)),L(Ie)}catch(Ie){console.error("Error getting child count:",Ie),L(0)}q(!0)},qe=async K=>{Q(!0);try{let ee;F==="head"?(K.id?(ee=await xd.update(K.id,K),M({title:"Success",description:"Head category updated"})):(ee=await xd.create(K),M({title:"Success",description:"Head category created"})),await W()):F==="sub"?(K.id?(ee=await vd.update(K.id,K),M({title:"Success",description:"Sub category updated"})):(ee=await vd.create(K,K.parentId),M({title:"Success",description:"Sub category created"})),await z(K.parentId)):F==="micro"&&(K.id?(ee=await cp.update(K.id,K),M({title:"Success",description:"Micro category updated"})):(ee=await cp.create(K,K.parentId),M({title:"Success",description:"Micro category created"})),await X(K.parentId)),C(!1)}catch(ee){M({title:"Error",description:ee.message,variant:"destructive"})}finally{Q(!1)}},Fe=async K=>{try{F==="head"?(await xd.delete(K),M({title:"Success",description:"Head category deleted"}),await W()):F==="sub"?(await vd.delete(K),M({title:"Success",description:"Sub category deleted"}),await z(O.id)):F==="micro"&&(await cp.delete(K),M({title:"Success",description:"Micro category deleted"}),await X(O.id)),q(!1)}catch(ee){M({title:"Error",description:ee.message,variant:"destructive"})}};return T?r.jsx("div",{className:"p-6 text-center",children:"Loading categories..."}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Category Management"}),r.jsxs(V,{onClick:()=>xe("head"),className:"gap-2",children:[r.jsx(Bt,{className:"w-4 h-4"}),"Add Head Category"]})]}),r.jsxs("div",{className:"bg-white rounded border p-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Et,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"}),r.jsx(H,{placeholder:"Search head, sub, or micro categories...",value:v,onChange:K=>ue(K.target.value),className:"pl-10"})]}),v&&r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>ue(""),className:"gap-1",children:[r.jsx(yt,{className:"w-4 h-4"}),"Clear"]})]}),v&&(N.heads.length>0||N.subs.length>0||N.micros.length>0)&&r.jsxs("div",{className:"mt-4 space-y-3",children:[N.heads.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:["HEAD CATEGORIES (",N.heads.length,")"]}),N.heads.map(K=>r.jsxs("div",{className:"p-2 bg-blue-50 border-l-4 border-blue-500 rounded mb-2 cursor-pointer hover:bg-blue-100",onClick:()=>{n(ee=>({...ee,[K.id]:!0})),z(K.id),ue(""),setTimeout(()=>{var ee;(ee=document.getElementById(`head-${K.id}`))==null||ee.scrollIntoView({behavior:"smooth"})},100)},children:[r.jsx("div",{className:"font-medium text-sm",children:K.name}),r.jsx("div",{className:"text-xs text-gray-500",children:K.slug})]},K.id))]}),N.subs.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:["SUB CATEGORIES (",N.subs.length,")"]}),N.subs.map(K=>{var ee;return r.jsxs("div",{className:"p-2 bg-green-50 border-l-4 border-green-500 rounded mb-2 cursor-pointer hover:bg-green-100",onClick:()=>{s[K.headCategoryId]?ce(K.id):(te(K.headCategoryId),setTimeout(()=>{ce(K.id)},300)),ue("")},children:[r.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["in: ",(ee=e.find(Ne=>Ne.id==K.headCategoryId))==null?void 0:ee.name]}),r.jsx("div",{className:"font-medium text-sm",children:K.name}),r.jsx("div",{className:"text-xs text-gray-500",children:K.slug})]},K.id)})]}),N.micros.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:["MICRO CATEGORIES (",N.micros.length,")"]}),N.micros.map(K=>r.jsxs("div",{className:"p-2 bg-purple-50 border-l-4 border-purple-500 rounded mb-2 cursor-pointer hover:bg-purple-100",children:[r.jsx("div",{className:"font-medium text-sm",children:K.name}),r.jsx("div",{className:"text-xs text-gray-500",children:K.slug}),u[K.id]&&r.jsx("div",{className:"text-xs text-green-600 mt-1",children:" Meta tags configured"})]},K.id))]})]}),v&&N.heads.length===0&&N.subs.length===0&&N.micros.length===0&&r.jsxs("div",{className:"mt-4 p-4 text-center text-gray-500",children:['No categories found matching "',v,'"']})]}),r.jsxs("div",{className:"bg-white rounded border",children:[r.jsx("div",{className:"p-4 border-b bg-gray-50",children:r.jsx("p",{className:"text-sm text-gray-600",children:"Click on categories to expand and manage subcategories and meta information"})}),r.jsx("div",{className:"divide-y",children:e.map(K=>{var ee;return r.jsxs("div",{className:"border-b",id:`head-${K.id}`,children:[r.jsxs("div",{className:"p-4 hover:bg-gray-50 flex items-center gap-3 justify-between group",children:[r.jsxs("div",{className:"flex-1 cursor-pointer flex items-center gap-3",onClick:()=>te(K.id),children:[s[K.id]?r.jsx(io,{className:"w-5 h-5"}):r.jsx(Xt,{className:"w-5 h-5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-lg",children:K.name}),r.jsx("div",{className:"text-xs text-gray-500",children:K.slug})]})]}),r.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>we("head",K),className:"gap-1",children:[r.jsx(Sm,{className:"w-4 h-4"}),"Edit"]}),r.jsx(V,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",onClick:()=>Se("head",K),children:r.jsx(vr,{className:"w-4 h-4"})})]})]}),s[K.id]&&r.jsx("div",{className:"bg-gray-50 border-t",children:((ee=a[K.id])==null?void 0:ee.map(Ne=>{var Ie;return r.jsxs("div",{className:"border-b",children:[r.jsxs("div",{className:"p-4 ml-8 hover:bg-white flex items-center gap-3 justify-between group",children:[r.jsxs("div",{className:"flex-1 cursor-pointer flex items-center gap-3",onClick:()=>ce(Ne.id),children:[o[Ne.id]?r.jsx(io,{className:"w-4 h-4"}):r.jsx(Xt,{className:"w-4 h-4"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:Ne.name}),r.jsx("div",{className:"text-xs text-gray-500",children:Ne.slug})]})]}),r.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>we("sub",Ne,K.id),className:"gap-1",children:[r.jsx(Sm,{className:"w-4 h-4"}),"Edit"]}),r.jsx(V,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",onClick:()=>Se("sub",Ne,K.id),children:r.jsx(vr,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"flex gap-2 ml-8 px-4 py-2 bg-gray-50 border-b",children:r.jsxs(V,{size:"sm",onClick:()=>xe("sub",K.id,K.name),className:"gap-1 ml-auto",children:[r.jsx(Bt,{className:"w-3 h-3"}),"Add Sub Category"]})}),r.jsx("div",{className:"flex gap-2 ml-16 px-4 py-2 bg-gray-50 border-b",children:r.jsxs(V,{size:"sm",onClick:()=>xe("micro",Ne.id,Ne.name),className:"gap-1 ml-auto",children:[r.jsx(Bt,{className:"w-3 h-3"}),"Add Micro Category"]})}),o[Ne.id]&&r.jsx("div",{className:"bg-white border-t",children:((Ie=c[Ne.id])==null?void 0:Ie.map($=>r.jsxs("div",{className:"p-4 ml-16 border-b hover:bg-blue-50 flex items-center justify-between gap-3 group",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm",children:$.name}),r.jsx("div",{className:"text-xs text-gray-500",children:$.slug}),u[$.id]&&r.jsx("div",{className:"text-xs text-green-600 mt-1",children:" Meta tags configured"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(qs,{open:g&&(p==null?void 0:p.id)===$.id,onOpenChange:x,children:[r.jsx(Tc,{asChild:!0,children:r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>ne($),className:"gap-1",children:[r.jsx(M1,{className:"w-4 h-4"}),"Meta"]})}),r.jsxs(_s,{className:"max-w-2xl",children:[r.jsx(Ss,{children:r.jsxs(Cs,{children:["Meta Tags & Description - ",$.name]})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[r.jsxs("p",{className:"text-sm text-blue-900",children:[r.jsx("strong",{children:" Note:"})," State and city names will be automatically appended to these meta tags and description on the website."]}),r.jsx("p",{className:"text-xs text-blue-700 mt-2",children:'Example: "Mobile Phones"  "Mobile Phones in Delhi, Delhi" on website'})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Base Meta Tags (comma separated)"}),r.jsx(H,{value:w.meta_tags,onChange:J=>y(ae=>({...ae,meta_tags:J.target.value})),placeholder:"e.g. electronics, phones, mobile"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only the base keywords - location will be added automatically"})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Base Description"}),r.jsx(Gr,{value:w.description,onChange:J=>y(ae=>({...ae,description:J.target.value})),placeholder:"e.g. High-quality mobile phones with latest features and competitive prices",rows:4}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Keep under 150 characters - " in [City], [State]" will be appended'})]}),r.jsx(V,{onClick:he,className:"w-full",children:"Save Meta Information"})]})]})]}),r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>we("micro",$,Ne.id),className:"gap-1",children:[r.jsx(Sm,{className:"w-4 h-4"}),"Edit"]}),r.jsx(V,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",onClick:()=>Se("micro",$,Ne.id),children:r.jsx(vr,{className:"w-4 h-4"})})]})]},$.id)))||r.jsx("div",{className:"p-4 ml-16 text-sm text-gray-500",children:"No micro categories"})})]},Ne.id)}))||r.jsx("div",{className:"p-4 ml-8 text-sm text-gray-500",children:"No sub categories"})})]},K.id)})}),e.length===0&&r.jsx("div",{className:"p-8 text-center text-gray-500",children:"No categories found. Create head categories first."})]}),r.jsx(Q9,{isOpen:_,onClose:()=>C(!1),category:S,level:F,parentId:O==null?void 0:O.id,onSave:qe}),r.jsx(Z9,{isOpen:I,onClose:()=>q(!1),category:S,level:F,childCount:R,onConfirm:Fe})]})},t7=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function fo(e,t,s){const n=s7(e),{webkitRelativePath:a}=e,i=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof n.path!="string"&&Kb(n,"path",i),s!==void 0&&Object.defineProperty(n,"handle",{value:s,writable:!1,configurable:!1,enumerable:!0}),Kb(n,"relativePath",i),n}function s7(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),a=t7.get(n);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function Kb(e,t,s){Object.defineProperty(e,t,{value:s,writable:!1,configurable:!1,enumerable:!0})}const r7=[".DS_Store","Thumbs.db"];function n7(e){return ni(this,void 0,void 0,function*(){return qu(e)&&a7(e.dataTransfer)?c7(e.dataTransfer,e.type):i7(e)?o7(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?l7(e):[]})}function a7(e){return qu(e)}function i7(e){return qu(e)&&qu(e.target)}function qu(e){return typeof e=="object"&&e!==null}function o7(e){return ag(e.target.files).map(t=>fo(t))}function l7(e){return ni(this,void 0,void 0,function*(){return(yield Promise.all(e.map(s=>s.getFile()))).map(s=>fo(s))})}function c7(e,t){return ni(this,void 0,void 0,function*(){if(e.items){const s=ag(e.items).filter(a=>a.kind==="file");if(t!=="drop")return s;const n=yield Promise.all(s.map(d7));return Gb(RP(n))}return Gb(ag(e.files).map(s=>fo(s)))})}function Gb(e){return e.filter(t=>r7.indexOf(t.name)===-1)}function ag(e){if(e===null)return[];const t=[];for(let s=0;s<e.length;s++){const n=e[s];t.push(n)}return t}function d7(e){if(typeof e.webkitGetAsEntry!="function")return Yb(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?IP(t):Yb(e,t)}function RP(e){return e.reduce((t,s)=>[...t,...Array.isArray(s)?RP(s):[s]],[])}function Yb(e,t){return ni(this,void 0,void 0,function*(){var s;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,fo(o)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return fo(n,(s=t==null?void 0:t.fullPath)!==null&&s!==void 0?s:void 0)})}function u7(e){return ni(this,void 0,void 0,function*(){return e.isDirectory?IP(e):h7(e)})}function IP(e){const t=e.createReader();return new Promise((s,n)=>{const a=[];function i(){t.readEntries(o=>ni(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(u7));a.push(l),i()}else try{const l=yield Promise.all(a);s(l)}catch(l){n(l)}}),o=>{n(o)})}i()})}function h7(e){return ni(this,void 0,void 0,function*(){return new Promise((t,s)=>{e.file(n=>{const a=fo(n,e.fullPath);t(a)},n=>{s(n)})})})}var dp=function(e,t){if(e&&t){var s=Array.isArray(t)?t:t.split(",");if(s.length===0)return!0;var n=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return s.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):a===l})}return!0};function Xb(e){return f7(e)||p7(e)||MP(e)||m7()}function m7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f7(e){if(Array.isArray(e))return ig(e)}function Jb(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,n)}return s}function Qb(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Jb(Object(s),!0).forEach(function(n){OP(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Jb(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function OP(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function sc(e,t){return v7(e)||x7(e,t)||MP(e,t)||g7()}function g7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MP(e,t){if(e){if(typeof e=="string")return ig(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ig(e,t)}}function ig(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}function x7(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var n=[],a=!0,i=!1,o,l;try{for(s=s.call(e);!(a=(o=s.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&s.return!=null&&s.return()}finally{if(i)throw l}}return n}}function v7(e){if(Array.isArray(e))return e}var y7=typeof dp=="function"?dp:dp.default,w7="file-invalid-type",b7="file-too-large",j7="file-too-small",N7="too-many-files",_7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=t.split(","),n=s.length>1?"one of ".concat(s.join(", ")):s[0];return{code:w7,message:"File type must be ".concat(n)}},Zb=function(t){return{code:b7,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},ej=function(t){return{code:j7,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},S7={code:N7,message:"Too many files"};function LP(e,t){var s=e.type==="application/x-moz-file"||y7(e,t);return[s,s?null:_7(t)]}function FP(e,t,s){if(Sa(e.size))if(Sa(t)&&Sa(s)){if(e.size>s)return[!1,Zb(s)];if(e.size<t)return[!1,ej(t)]}else{if(Sa(t)&&e.size<t)return[!1,ej(t)];if(Sa(s)&&e.size>s)return[!1,Zb(s)]}return[!0,null]}function Sa(e){return e!=null}function C7(e){var t=e.files,s=e.accept,n=e.minSize,a=e.maxSize,i=e.multiple,o=e.maxFiles,l=e.validator;return!i&&t.length>1||i&&o>=1&&t.length>o?!1:t.every(function(c){var d=LP(c,s),u=sc(d,1),h=u[0],p=FP(c,n,a),f=sc(p,1),g=f[0],x=l?l(c):null;return h&&g&&!x})}function Bu(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function yd(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function tj(e){e.preventDefault()}function k7(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function E7(e){return e.indexOf("Edge/")!==-1}function P7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return k7(e)||E7(e)}function Er(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return t.some(function(l){return!Bu(n)&&l&&l.apply(void 0,[n].concat(i)),Bu(n)})}}function A7(){return"showOpenFilePicker"in window}function T7(e){if(Sa(e)){var t=Object.entries(e).filter(function(s){var n=sc(s,2),a=n[0],i=n[1],o=!0;return VP(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(qP))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(s,n){var a=sc(n,2),i=a[0],o=a[1];return Qb(Qb({},s),{},OP({},i,o))},{});return[{description:"Files",accept:t}]}return e}function D7(e){if(Sa(e))return Object.entries(e).reduce(function(t,s){var n=sc(s,2),a=n[0],i=n[1];return[].concat(Xb(t),[a],Xb(i))},[]).filter(function(t){return VP(t)||qP(t)}).join(",")}function R7(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function I7(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function VP(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function qP(e){return/^.*\.[\w]+$/.test(e)}var O7=["children"],M7=["open"],L7=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],F7=["refKey","onChange","onClick"];function V7(e){return $7(e)||B7(e)||BP(e)||q7()}function q7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $7(e){if(Array.isArray(e))return og(e)}function up(e,t){return H7(e)||z7(e,t)||BP(e,t)||U7()}function U7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BP(e,t){if(e){if(typeof e=="string")return og(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return og(e,t)}}function og(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}function z7(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var n=[],a=!0,i=!1,o,l;try{for(s=s.call(e);!(a=(o=s.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&s.return!=null&&s.return()}finally{if(i)throw l}}return n}}function H7(e){if(Array.isArray(e))return e}function sj(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,n)}return s}function ct(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(s),!0).forEach(function(n){lg(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sj(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function lg(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function $u(e,t){if(e==null)return{};var s=W7(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function W7(e,t){if(e==null)return{};var s={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}var Qv=m.forwardRef(function(e,t){var s=e.children,n=$u(e,O7),a=Zv(n),i=a.open,o=$u(a,M7);return m.useImperativeHandle(t,function(){return{open:i}},[i]),$e.createElement(m.Fragment,null,s(ct(ct({},o),{},{open:i})))});Qv.displayName="Dropzone";var $P={disabled:!1,getFilesFromEvent:n7,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Qv.defaultProps=$P;Qv.propTypes={children:Pe.func,accept:Pe.objectOf(Pe.arrayOf(Pe.string)),multiple:Pe.bool,preventDropOnDocument:Pe.bool,noClick:Pe.bool,noKeyboard:Pe.bool,noDrag:Pe.bool,noDragEventsBubbling:Pe.bool,minSize:Pe.number,maxSize:Pe.number,maxFiles:Pe.number,disabled:Pe.bool,getFilesFromEvent:Pe.func,onFileDialogCancel:Pe.func,onFileDialogOpen:Pe.func,useFsAccessApi:Pe.bool,autoFocus:Pe.bool,onDragEnter:Pe.func,onDragLeave:Pe.func,onDragOver:Pe.func,onDrop:Pe.func,onDropAccepted:Pe.func,onDropRejected:Pe.func,onError:Pe.func,validator:Pe.func};var cg={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Zv(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=ct(ct({},$P),e),s=t.accept,n=t.disabled,a=t.getFilesFromEvent,i=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,u=t.onDragLeave,h=t.onDragOver,p=t.onDrop,f=t.onDropAccepted,g=t.onDropRejected,x=t.onFileDialogCancel,w=t.onFileDialogOpen,y=t.useFsAccessApi,v=t.autoFocus,b=t.preventDropOnDocument,N=t.noClick,k=t.noKeyboard,T=t.noDrag,A=t.noDragEventsBubbling,_=t.onError,C=t.validator,I=m.useMemo(function(){return D7(s)},[s]),q=m.useMemo(function(){return T7(s)},[s]),F=m.useMemo(function(){return typeof w=="function"?w:rj},[w]),D=m.useMemo(function(){return typeof x=="function"?x:rj},[x]),S=m.useRef(null),E=m.useRef(null),O=m.useReducer(K7,cg),P=up(O,2),R=P[0],L=P[1],B=R.isFocused,Q=R.isFileDialogActive,W=m.useRef(typeof window<"u"&&window.isSecureContext&&y&&A7()),z=function(){!W.current&&Q&&setTimeout(function(){if(E.current){var Z=E.current.files;Z.length||(L({type:"closeDialog"}),D())}},300)};m.useEffect(function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}},[E,Q,D,W]);var X=m.useRef([]),de=function(Z){S.current&&S.current.contains(Z.target)||(Z.preventDefault(),X.current=[])};m.useEffect(function(){return b&&(document.addEventListener("dragover",tj,!1),document.addEventListener("drop",de,!1)),function(){b&&(document.removeEventListener("dragover",tj),document.removeEventListener("drop",de))}},[S,b]),m.useEffect(function(){return!n&&v&&S.current&&S.current.focus(),function(){}},[S,v,n]);var ue=m.useCallback(function(G){_?_(G):console.error(G)},[_]),te=m.useCallback(function(G){G.preventDefault(),G.persist(),$(G),X.current=[].concat(V7(X.current),[G.target]),yd(G)&&Promise.resolve(a(G)).then(function(Z){if(!(Bu(G)&&!A)){var Oe=Z.length,ke=Oe>0&&C7({files:Z,accept:I,minSize:o,maxSize:i,multiple:l,maxFiles:c,validator:C}),Xe=Oe>0&&!ke;L({isDragAccept:ke,isDragReject:Xe,isDragActive:!0,type:"setDraggedFiles"}),d&&d(G)}}).catch(function(Z){return ue(Z)})},[a,d,ue,A,I,o,i,l,c,C]),ce=m.useCallback(function(G){G.preventDefault(),G.persist(),$(G);var Z=yd(G);if(Z&&G.dataTransfer)try{G.dataTransfer.dropEffect="copy"}catch{}return Z&&h&&h(G),!1},[h,A]),ne=m.useCallback(function(G){G.preventDefault(),G.persist(),$(G);var Z=X.current.filter(function(ke){return S.current&&S.current.contains(ke)}),Oe=Z.indexOf(G.target);Oe!==-1&&Z.splice(Oe,1),X.current=Z,!(Z.length>0)&&(L({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),yd(G)&&u&&u(G))},[S,u,A]),he=m.useCallback(function(G,Z){var Oe=[],ke=[];G.forEach(function(Xe){var jt=LP(Xe,I),ns=up(jt,2),zs=ns[0],zt=ns[1],bn=FP(Xe,o,i),Mt=up(bn,2),li=Mt[0],fa=Mt[1],Kh=C?C(Xe):null;if(zs&&li&&!Kh)Oe.push(Xe);else{var Gh=[zt,fa];Kh&&(Gh=Gh.concat(Kh)),ke.push({file:Xe,errors:Gh.filter(function(NA){return NA})})}}),(!l&&Oe.length>1||l&&c>=1&&Oe.length>c)&&(Oe.forEach(function(Xe){ke.push({file:Xe,errors:[S7]})}),Oe.splice(0)),L({acceptedFiles:Oe,fileRejections:ke,isDragReject:ke.length>0,type:"setFiles"}),p&&p(Oe,ke,Z),ke.length>0&&g&&g(ke,Z),Oe.length>0&&f&&f(Oe,Z)},[L,l,I,o,i,c,p,f,g,C]),xe=m.useCallback(function(G){G.preventDefault(),G.persist(),$(G),X.current=[],yd(G)&&Promise.resolve(a(G)).then(function(Z){Bu(G)&&!A||he(Z,G)}).catch(function(Z){return ue(Z)}),L({type:"reset"})},[a,he,ue,A]),we=m.useCallback(function(){if(W.current){L({type:"openDialog"}),F();var G={multiple:l,types:q};window.showOpenFilePicker(G).then(function(Z){return a(Z)}).then(function(Z){he(Z,null),L({type:"closeDialog"})}).catch(function(Z){R7(Z)?(D(Z),L({type:"closeDialog"})):I7(Z)?(W.current=!1,E.current?(E.current.value=null,E.current.click()):ue(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ue(Z)});return}E.current&&(L({type:"openDialog"}),F(),E.current.value=null,E.current.click())},[L,F,D,y,he,ue,q,l]),Se=m.useCallback(function(G){!S.current||!S.current.isEqualNode(G.target)||(G.key===" "||G.key==="Enter"||G.keyCode===32||G.keyCode===13)&&(G.preventDefault(),we())},[S,we]),qe=m.useCallback(function(){L({type:"focus"})},[]),Fe=m.useCallback(function(){L({type:"blur"})},[]),K=m.useCallback(function(){N||(P7()?setTimeout(we,0):we())},[N,we]),ee=function(Z){return n?null:Z},Ne=function(Z){return k?null:ee(Z)},Ie=function(Z){return T?null:ee(Z)},$=function(Z){A&&Z.stopPropagation()},J=m.useMemo(function(){return function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=G.refKey,Oe=Z===void 0?"ref":Z,ke=G.role,Xe=G.onKeyDown,jt=G.onFocus,ns=G.onBlur,zs=G.onClick,zt=G.onDragEnter,bn=G.onDragOver,Mt=G.onDragLeave,li=G.onDrop,fa=$u(G,L7);return ct(ct(lg({onKeyDown:Ne(Er(Xe,Se)),onFocus:Ne(Er(jt,qe)),onBlur:Ne(Er(ns,Fe)),onClick:ee(Er(zs,K)),onDragEnter:Ie(Er(zt,te)),onDragOver:Ie(Er(bn,ce)),onDragLeave:Ie(Er(Mt,ne)),onDrop:Ie(Er(li,xe)),role:typeof ke=="string"&&ke!==""?ke:"presentation"},Oe,S),!n&&!k?{tabIndex:0}:{}),fa)}},[S,Se,qe,Fe,K,te,ce,ne,xe,k,T,n]),ae=m.useCallback(function(G){G.stopPropagation()},[]),ge=m.useMemo(function(){return function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=G.refKey,Oe=Z===void 0?"ref":Z,ke=G.onChange,Xe=G.onClick,jt=$u(G,F7),ns=lg({accept:I,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ee(Er(ke,xe)),onClick:ee(Er(Xe,ae)),tabIndex:-1},Oe,E);return ct(ct({},ns),jt)}},[E,s,l,xe,n]);return ct(ct({},R),{},{isFocused:B&&!n,getRootProps:J,getInputProps:ge,rootRef:S,inputRef:E,open:ee(we)})}function K7(e,t){switch(t.type){case"focus":return ct(ct({},e),{},{isFocused:!0});case"blur":return ct(ct({},e),{},{isFocused:!1});case"openDialog":return ct(ct({},cg),{},{isFileDialogActive:!0});case"closeDialog":return ct(ct({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return ct(ct({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return ct(ct({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return ct({},cg);default:return e}}function rj(){}var UP={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(s,n){e.exports=n()})(Vt,function s(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,o={},l=0,c={parse:function(_,C){var I=(C=C||{}).dynamicTyping||!1;if(A(I)&&(C.dynamicTypingFunction=I,I={}),C.dynamicTyping=I,C.transform=!!A(C.transform)&&C.transform,C.worker&&c.WORKERS_SUPPORTED){var q=function(){if(!c.WORKERS_SUPPORTED)return!1;var D=(E=n.URL||n.webkitURL||null,O=s.toString(),c.BLOB_URL||(c.BLOB_URL=E.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))),S=new n.Worker(D),E,O;return S.onmessage=v,S.id=l++,o[S.id]=S}();return q.userStep=C.step,q.userChunk=C.chunk,q.userComplete=C.complete,q.userError=C.error,C.step=A(C.step),C.chunk=A(C.chunk),C.complete=A(C.complete),C.error=A(C.error),delete C.worker,void q.postMessage({input:_,config:C,workerId:q.id})}var F=null;return c.NODE_STREAM_INPUT,typeof _=="string"?(_=function(D){return D.charCodeAt(0)===65279?D.slice(1):D}(_),F=C.download?new h(C):new f(C)):_.readable===!0&&A(_.read)&&A(_.on)?F=new g(C):(n.File&&_ instanceof File||_ instanceof Object)&&(F=new p(C)),F.stream(_)},unparse:function(_,C){var I=!1,q=!0,F=",",D=`\r
`,S='"',E=S+S,O=!1,P=null,R=!1;(function(){if(typeof C=="object"){if(typeof C.delimiter!="string"||c.BAD_DELIMITERS.filter(function(W){return C.delimiter.indexOf(W)!==-1}).length||(F=C.delimiter),(typeof C.quotes=="boolean"||typeof C.quotes=="function"||Array.isArray(C.quotes))&&(I=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(O=C.skipEmptyLines),typeof C.newline=="string"&&(D=C.newline),typeof C.quoteChar=="string"&&(S=C.quoteChar),typeof C.header=="boolean"&&(q=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");P=C.columns}C.escapeChar!==void 0&&(E=C.escapeChar+S),(typeof C.escapeFormulae=="boolean"||C.escapeFormulae instanceof RegExp)&&(R=C.escapeFormulae instanceof RegExp?C.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var L=new RegExp(w(S),"g");if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return B(null,_,O);if(typeof _[0]=="object")return B(P||Object.keys(_[0]),_,O)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||P),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),B(_.fields||[],_.data||[],O);throw new Error("Unable to serialize unrecognized input");function B(W,z,X){var de="";typeof W=="string"&&(W=JSON.parse(W)),typeof z=="string"&&(z=JSON.parse(z));var ue=Array.isArray(W)&&0<W.length,te=!Array.isArray(z[0]);if(ue&&q){for(var ce=0;ce<W.length;ce++)0<ce&&(de+=F),de+=Q(W[ce],ce);0<z.length&&(de+=D)}for(var ne=0;ne<z.length;ne++){var he=ue?W.length:z[ne].length,xe=!1,we=ue?Object.keys(z[ne]).length===0:z[ne].length===0;if(X&&!ue&&(xe=X==="greedy"?z[ne].join("").trim()==="":z[ne].length===1&&z[ne][0].length===0),X==="greedy"&&ue){for(var Se=[],qe=0;qe<he;qe++){var Fe=te?W[qe]:qe;Se.push(z[ne][Fe])}xe=Se.join("").trim()===""}if(!xe){for(var K=0;K<he;K++){0<K&&!we&&(de+=F);var ee=ue&&te?W[K]:K;de+=Q(z[ne][ee],K)}ne<z.length-1&&(!X||0<he&&!we)&&(de+=D)}}return de}function Q(W,z){if(W==null)return"";if(W.constructor===Date)return JSON.stringify(W).slice(1,25);var X=!1;R&&typeof W=="string"&&R.test(W)&&(W="'"+W,X=!0);var de=W.toString().replace(L,E);return(X=X||I===!0||typeof I=="function"&&I(W,z)||Array.isArray(I)&&I[z]||function(ue,te){for(var ce=0;ce<te.length;ce++)if(-1<ue.indexOf(te[ce]))return!0;return!1}(de,c.BAD_DELIMITERS)||-1<de.indexOf(F)||de.charAt(0)===" "||de.charAt(de.length-1)===" ")?S+de+S:de}}};if(c.RECORD_SEP=String.fromCharCode(30),c.UNIT_SEP=String.fromCharCode(31),c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!a&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=x,c.NetworkStreamer=h,c.FileStreamer=p,c.StringStreamer=f,c.ReadableStreamStreamer=g,n.jQuery){var d=n.jQuery;d.fn.parse=function(_){var C=_.config||{},I=[];return this.each(function(D){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var S=0;S<this.files.length;S++)I.push({file:this.files[S],inputElem:this,instanceConfig:d.extend({},C)})}),q(),this;function q(){if(I.length!==0){var D,S,E,O,P=I[0];if(A(_.before)){var R=_.before(P.file,P.inputElem);if(typeof R=="object"){if(R.action==="abort")return D="AbortError",S=P.file,E=P.inputElem,O=R.reason,void(A(_.error)&&_.error({name:D},S,E,O));if(R.action==="skip")return void F();typeof R.config=="object"&&(P.instanceConfig=d.extend(P.instanceConfig,R.config))}else if(R==="skip")return void F()}var L=P.instanceConfig.complete;P.instanceConfig.complete=function(B){A(L)&&L(B,P.file,P.inputElem),F()},c.parse(P.file,P.instanceConfig)}else A(_.complete)&&_.complete()}function F(){I.splice(0,1),q()}}}function u(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var I=k(C);I.chunkSize=parseInt(I.chunkSize),C.step||C.chunk||(I.chunkSize=null),this._handle=new x(I),(this._handle.streamer=this)._config=I}).call(this,_),this.parseChunk=function(C,I){if(this.isFirstChunk&&A(this._config.beforeFirstChunk)){var q=this._config.beforeFirstChunk(C);q!==void 0&&(C=q)}this.isFirstChunk=!1,this._halted=!1;var F=this._partialLine+C;this._partialLine="";var D=this._handle.parse(F,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var S=D.meta.cursor;this._finished||(this._partialLine=F.substring(S-this._baseIndex),this._baseIndex=S),D&&D.data&&(this._rowCount+=D.data.length);var E=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)n.postMessage({results:D,workerId:c.WORKER_ID,finished:E});else if(A(this._config.chunk)&&!I){if(this._config.chunk(D,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);D=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(D.data),this._completeResults.errors=this._completeResults.errors.concat(D.errors),this._completeResults.meta=D.meta),this._completed||!E||!A(this._config.complete)||D&&D.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||D&&D.meta.paused||this._nextChunk(),D}this._halted=!0},this._sendError=function(C){A(this._config.error)?this._config.error(C):i&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:C,finished:!1})}}function h(_){var C;(_=_||{}).chunkSize||(_.chunkSize=c.RemoteChunkSize),u.call(this,_),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),a||(C.onload=T(this._chunkLoaded,this),C.onerror=T(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var I=this._config.downloadRequestHeaders;for(var q in I)C.setRequestHeader(q,I[q])}if(this._config.chunkSize){var F=this._start+this._config.chunkSize-1;C.setRequestHeader("Range","bytes="+this._start+"-"+F)}try{C.send(this._config.downloadRequestBody)}catch(D){this._chunkError(D.message)}a&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:C.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(I){var q=I.getResponseHeader("Content-Range");return q===null?-1:parseInt(q.substring(q.lastIndexOf("/")+1))}(C),this.parseChunk(C.responseText)))},this._chunkError=function(I){var q=C.statusText||I;this._sendError(new Error(q))}}function p(_){var C,I;(_=_||{}).chunkSize||(_.chunkSize=c.LocalChunkSize),u.call(this,_);var q=typeof FileReader<"u";this.stream=function(F){this._input=F,I=F.slice||F.webkitSlice||F.mozSlice,q?((C=new FileReader).onload=T(this._chunkLoaded,this),C.onerror=T(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input;if(this._config.chunkSize){var D=Math.min(this._start+this._config.chunkSize,this._input.size);F=I.call(F,this._start,D)}var S=C.readAsText(F,this._config.encoding);q||this._chunkLoaded({target:{result:S}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(C.error)}}function f(_){var C;u.call(this,_=_||{}),this.stream=function(I){return C=I,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var I,q=this._config.chunkSize;return q?(I=C.substring(0,q),C=C.substring(q)):(I=C,C=""),this._finished=!C,this.parseChunk(I)}}}function g(_){u.call(this,_=_||{});var C=[],I=!0,q=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){q&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):I=!0},this._streamData=T(function(F){try{C.push(typeof F=="string"?F:F.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(D){this._streamError(D)}},this),this._streamError=T(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=T(function(){this._streamCleanUp(),q=!0,this._streamData("")},this),this._streamCleanUp=T(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(_){var C,I,q,F=Math.pow(2,53),D=-F,S=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,E=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,O=this,P=0,R=0,L=!1,B=!1,Q=[],W={data:[],errors:[],meta:{}};if(A(_.step)){var z=_.step;_.step=function(ne){if(W=ne,ue())de();else{if(de(),W.data.length===0)return;P+=ne.data.length,_.preview&&P>_.preview?I.abort():(W.data=W.data[0],z(W,O))}}}function X(ne){return _.skipEmptyLines==="greedy"?ne.join("").trim()==="":ne.length===1&&ne[0].length===0}function de(){return W&&q&&(ce("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),q=!1),_.skipEmptyLines&&(W.data=W.data.filter(function(ne){return!X(ne)})),ue()&&function(){if(!W)return;function ne(xe,we){A(_.transformHeader)&&(xe=_.transformHeader(xe,we)),Q.push(xe)}if(Array.isArray(W.data[0])){for(var he=0;ue()&&he<W.data.length;he++)W.data[he].forEach(ne);W.data.splice(0,1)}else W.data.forEach(ne)}(),function(){if(!W||!_.header&&!_.dynamicTyping&&!_.transform)return W;function ne(xe,we){var Se,qe=_.header?{}:[];for(Se=0;Se<xe.length;Se++){var Fe=Se,K=xe[Se];_.header&&(Fe=Se>=Q.length?"__parsed_extra":Q[Se]),_.transform&&(K=_.transform(K,Fe)),K=te(Fe,K),Fe==="__parsed_extra"?(qe[Fe]=qe[Fe]||[],qe[Fe].push(K)):qe[Fe]=K}return _.header&&(Se>Q.length?ce("FieldMismatch","TooManyFields","Too many fields: expected "+Q.length+" fields but parsed "+Se,R+we):Se<Q.length&&ce("FieldMismatch","TooFewFields","Too few fields: expected "+Q.length+" fields but parsed "+Se,R+we)),qe}var he=1;return!W.data.length||Array.isArray(W.data[0])?(W.data=W.data.map(ne),he=W.data.length):W.data=ne(W.data,0),_.header&&W.meta&&(W.meta.fields=Q),R+=he,W}()}function ue(){return _.header&&Q.length===0}function te(ne,he){return xe=ne,_.dynamicTypingFunction&&_.dynamicTyping[xe]===void 0&&(_.dynamicTyping[xe]=_.dynamicTypingFunction(xe)),(_.dynamicTyping[xe]||_.dynamicTyping)===!0?he==="true"||he==="TRUE"||he!=="false"&&he!=="FALSE"&&(function(we){if(S.test(we)){var Se=parseFloat(we);if(D<Se&&Se<F)return!0}return!1}(he)?parseFloat(he):E.test(he)?new Date(he):he===""?null:he):he;var xe}function ce(ne,he,xe,we){var Se={type:ne,code:he,message:xe};we!==void 0&&(Se.row=we),W.errors.push(Se)}this.parse=function(ne,he,xe){var we=_.quoteChar||'"';if(_.newline||(_.newline=function(Fe,K){Fe=Fe.substring(0,1048576);var ee=new RegExp(w(K)+"([^]*?)"+w(K),"gm"),Ne=(Fe=Fe.replace(ee,"")).split("\r"),Ie=Fe.split(`
`),$=1<Ie.length&&Ie[0].length<Ne[0].length;if(Ne.length===1||$)return`
`;for(var J=0,ae=0;ae<Ne.length;ae++)Ne[ae][0]===`
`&&J++;return J>=Ne.length/2?`\r
`:"\r"}(ne,we)),q=!1,_.delimiter)A(_.delimiter)&&(_.delimiter=_.delimiter(ne),W.meta.delimiter=_.delimiter);else{var Se=function(Fe,K,ee,Ne,Ie){var $,J,ae,ge;Ie=Ie||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var G=0;G<Ie.length;G++){var Z=Ie[G],Oe=0,ke=0,Xe=0;ae=void 0;for(var jt=new y({comments:Ne,delimiter:Z,newline:K,preview:10}).parse(Fe),ns=0;ns<jt.data.length;ns++)if(ee&&X(jt.data[ns]))Xe++;else{var zs=jt.data[ns].length;ke+=zs,ae!==void 0?0<zs&&(Oe+=Math.abs(zs-ae),ae=zs):ae=zs}0<jt.data.length&&(ke/=jt.data.length-Xe),(J===void 0||Oe<=J)&&(ge===void 0||ge<ke)&&1.99<ke&&(J=Oe,$=Z,ge=ke)}return{successful:!!(_.delimiter=$),bestDelimiter:$}}(ne,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess);Se.successful?_.delimiter=Se.bestDelimiter:(q=!0,_.delimiter=c.DefaultDelimiter),W.meta.delimiter=_.delimiter}var qe=k(_);return _.preview&&_.header&&qe.preview++,C=ne,I=new y(qe),W=I.parse(C,he,xe),de(),L?{meta:{paused:!0}}:W||{meta:{paused:!1}}},this.paused=function(){return L},this.pause=function(){L=!0,I.abort(),C=A(_.chunk)?"":C.substring(I.getCharIndex())},this.resume=function(){O.streamer._halted?(L=!1,O.streamer.parseChunk(C,!0)):setTimeout(O.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,I.abort(),W.meta.aborted=!0,A(_.complete)&&_.complete(W),C=""}}function w(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(_){var C,I=(_=_||{}).delimiter,q=_.newline,F=_.comments,D=_.step,S=_.preview,E=_.fastMode,O=C=_.quoteChar===void 0||_.quoteChar===null?'"':_.quoteChar;if(_.escapeChar!==void 0&&(O=_.escapeChar),(typeof I!="string"||-1<c.BAD_DELIMITERS.indexOf(I))&&(I=","),F===I)throw new Error("Comment character same as delimiter");F===!0?F="#":(typeof F!="string"||-1<c.BAD_DELIMITERS.indexOf(F))&&(F=!1),q!==`
`&&q!=="\r"&&q!==`\r
`&&(q=`
`);var P=0,R=!1;this.parse=function(L,B,Q){if(typeof L!="string")throw new Error("Input must be a string");var W=L.length,z=I.length,X=q.length,de=F.length,ue=A(D),te=[],ce=[],ne=[],he=P=0;if(!L)return zt();if(_.header&&!B){var xe=L.split(q)[0].split(I),we=[],Se={},qe=!1;for(var Fe in xe){var K=xe[Fe];A(_.transformHeader)&&(K=_.transformHeader(K,Fe));var ee=K,Ne=Se[K]||0;for(0<Ne&&(qe=!0,ee=K+"_"+Ne),Se[K]=Ne+1;we.includes(ee);)ee=ee+"_"+Ne;we.push(ee)}if(qe){var Ie=L.split(q);Ie[0]=we.join(I),L=Ie.join(q)}}if(E||E!==!1&&L.indexOf(C)===-1){for(var $=L.split(q),J=0;J<$.length;J++){if(ne=$[J],P+=ne.length,J!==$.length-1)P+=q.length;else if(Q)return zt();if(!F||ne.substring(0,de)!==F){if(ue){if(te=[],Xe(ne.split(I)),bn(),R)return zt()}else Xe(ne.split(I));if(S&&S<=J)return te=te.slice(0,S),zt(!0)}}return zt()}for(var ae=L.indexOf(I,P),ge=L.indexOf(q,P),G=new RegExp(w(O)+w(C),"g"),Z=L.indexOf(C,P);;)if(L[P]!==C)if(F&&ne.length===0&&L.substring(P,P+de)===F){if(ge===-1)return zt();P=ge+X,ge=L.indexOf(q,P),ae=L.indexOf(I,P)}else if(ae!==-1&&(ae<ge||ge===-1))ne.push(L.substring(P,ae)),P=ae+z,ae=L.indexOf(I,P);else{if(ge===-1)break;if(ne.push(L.substring(P,ge)),zs(ge+X),ue&&(bn(),R))return zt();if(S&&te.length>=S)return zt(!0)}else for(Z=P,P++;;){if((Z=L.indexOf(C,Z+1))===-1)return Q||ce.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:te.length,index:P}),ns();if(Z===W-1)return ns(L.substring(P,Z).replace(G,C));if(C!==O||L[Z+1]!==O){if(C===O||Z===0||L[Z-1]!==O){ae!==-1&&ae<Z+1&&(ae=L.indexOf(I,Z+1)),ge!==-1&&ge<Z+1&&(ge=L.indexOf(q,Z+1));var Oe=jt(ge===-1?ae:Math.min(ae,ge));if(L.substr(Z+1+Oe,z)===I){ne.push(L.substring(P,Z).replace(G,C)),L[P=Z+1+Oe+z]!==C&&(Z=L.indexOf(C,P)),ae=L.indexOf(I,P),ge=L.indexOf(q,P);break}var ke=jt(ge);if(L.substring(Z+1+ke,Z+1+ke+X)===q){if(ne.push(L.substring(P,Z).replace(G,C)),zs(Z+1+ke+X),ae=L.indexOf(I,P),Z=L.indexOf(C,P),ue&&(bn(),R))return zt();if(S&&te.length>=S)return zt(!0);break}ce.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:te.length,index:P}),Z++}}else Z++}return ns();function Xe(Mt){te.push(Mt),he=P}function jt(Mt){var li=0;if(Mt!==-1){var fa=L.substring(Z+1,Mt);fa&&fa.trim()===""&&(li=fa.length)}return li}function ns(Mt){return Q||(Mt===void 0&&(Mt=L.substring(P)),ne.push(Mt),P=W,Xe(ne),ue&&bn()),zt()}function zs(Mt){P=Mt,Xe(ne),ne=[],ge=L.indexOf(q,P)}function zt(Mt){return{data:te,errors:ce,meta:{delimiter:I,linebreak:q,aborted:R,truncated:!!Mt,cursor:he+(B||0)}}}function bn(){D(zt()),te=[],ce=[]}},this.abort=function(){R=!0},this.getCharIndex=function(){return P}}function v(_){var C=_.data,I=o[C.workerId],q=!1;if(C.error)I.userError(C.error,C.file);else if(C.results&&C.results.data){var F={abort:function(){q=!0,b(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:N,resume:N};if(A(I.userStep)){for(var D=0;D<C.results.data.length&&(I.userStep({data:C.results.data[D],errors:C.results.errors,meta:C.results.meta},F),!q);D++);delete C.results}else A(I.userChunk)&&(I.userChunk(C.results,F,C.file),delete C.results)}C.finished&&!q&&b(C.workerId,C.results)}function b(_,C){var I=o[_];A(I.userComplete)&&I.userComplete(C),I.terminate(),delete o[_]}function N(){throw new Error("Not implemented.")}function k(_){if(typeof _!="object"||_===null)return _;var C=Array.isArray(_)?[]:{};for(var I in _)C[I]=k(_[I]);return C}function T(_,C){return function(){_.apply(C,arguments)}}function A(_){return typeof _=="function"}return i&&(n.onmessage=function(_){var C=_.data;if(c.WORKER_ID===void 0&&C&&(c.WORKER_ID=C.workerId),typeof C.input=="string")n.postMessage({workerId:c.WORKER_ID,results:c.parse(C.input,C.config),finished:!0});else if(n.File&&C.input instanceof File||C.input instanceof Object){var I=c.parse(C.input,C.config);I&&n.postMessage({workerId:c.WORKER_ID,results:I,finished:!0})}}),(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(u.prototype)).constructor=p,(f.prototype=Object.create(f.prototype)).constructor=f,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(UP);var G7=UP.exports;const zP=na(G7),Y7=()=>{const[e,t]=m.useState(null),[s,n]=m.useState([]),[a,i]=m.useState(!1),[o,l]=m.useState(null),c=f=>{const g=f[0];g&&(t(g),l(null),zP.parse(g,{header:!0,skipEmptyLines:!0,complete:x=>{n(x.data),M({title:"File Parsed",description:`Found ${x.data.length} rows.`})},error:x=>{M({title:"Parse Error",description:x.message,variant:"destructive"})}}))},{getRootProps:d,getInputProps:u,isDragActive:h}=Zv({onDrop:c,accept:{"text/csv":[".csv"]},maxFiles:1}),p=async()=>{if(s.length){i(!0);try{const f=await ut.importCategoriesCSV(s);l(f),M({title:"Import Complete",description:`Successfully processed. Success: ${f.success}, Failed: ${f.failed}`,variant:f.failed>0?"warning":"default"}),f.failed===0&&(t(null),n([]))}catch(f){M({title:"Upload Failed",description:f.message,variant:"destructive"})}finally{i(!1)}}};return r.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(re,{to:"/employee/dataentry/categories",children:r.jsx(V,{variant:"ghost",size:"icon",children:r.jsx(Vr,{className:"w-5 h-5"})})}),r.jsx("h1",{className:"text-2xl font-bold text-neutral-800",children:"Category Bulk Import"})]}),r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{children:"Upload Categories CSV"})}),r.jsxs(_e,{className:"space-y-6",children:[r.jsxs("div",{...d(),className:`border-2 border-dashed rounded-lg p-10 text-center cursor-pointer transition-colors ${h?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[r.jsx("input",{...u()}),r.jsx(Ur,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-medium text-gray-700",children:h?"Drop CSV here":"Drag & drop CSV file here, or click to select"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Required headers: ",r.jsx("span",{className:"font-mono bg-gray-100 px-1",children:"head_category, sub_category, micro_category"})]})]}),e&&r.jsxs("div",{className:"bg-white border rounded-lg p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded text-green-700",children:r.jsx(Qt,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[s.length," rows found"]})]})]}),r.jsxs(V,{onClick:p,disabled:a,className:"bg-[#003D82]",children:[a?r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Import Data"]})]}),o&&r.jsxs("div",{className:`p-4 rounded-lg border flex items-center gap-3 ${o.failed>0?"bg-amber-50 border-amber-200":"bg-green-50 border-green-200"}`,children:[o.failed>0?r.jsx(Wi,{className:"text-amber-600"}):r.jsx(os,{className:"text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Import Finished"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[o.success," records inserted. ",o.failed," records skipped/failed."]})]})]})]})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[r.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"CSV Format Guidelines"}),r.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-800 space-y-1",children:[r.jsxs("li",{children:["File must be in ",r.jsx("strong",{children:".csv"})," format"]}),r.jsxs("li",{children:["Headers: ",r.jsx("code",{children:"head_category"}),", ",r.jsx("code",{children:"sub_category"}),", ",r.jsx("code",{children:"micro_category"}),", ",r.jsx("code",{children:"description"}),", ",r.jsx("code",{children:"meta_tags"})]}),r.jsx("li",{children:"Ensure no empty rows in between data"})]})]})]})},X7=()=>{const[e,t]=m.useState(null),[s,n]=m.useState([]),[a,i]=m.useState(!1),o=u=>{const h=u[0];t(h),zP.parse(h,{header:!0,skipEmptyLines:!0,complete:p=>n(p.data)})},{getRootProps:l,getInputProps:c}=Zv({onDrop:o,accept:{"text/csv":[".csv"]}}),d=async()=>{i(!0);try{const u=await ut.importLocationsCSV(s);M({title:"Import Complete",description:`Success: ${u.success}, Failed: ${u.failed}`}),u.failed===0&&(t(null),n([]))}catch(u){M({title:"Error",description:u.message,variant:"destructive"})}finally{i(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Bulk Import Locations"}),r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{children:"Upload States & Cities CSV"})}),r.jsx(_e,{children:e?r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-4 items-center",children:[r.jsxs("p",{className:"font-medium",children:[e.name," (",s.length," rows)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>{t(null),n([])},children:"Cancel"}),r.jsxs(V,{onClick:d,disabled:a,children:[a&&r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"})," Import"]})]})]}),r.jsx("div",{className:"border rounded max-h-[300px] overflow-auto",children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{children:"State"}),r.jsx(me,{children:"City"})]})}),r.jsx(rs,{children:s.slice(0,50).map((u,h)=>r.jsxs(Le,{children:[r.jsx(ie,{children:u.state_name||r.jsx("span",{className:"text-red-500",children:"Missing"})}),r.jsx(ie,{children:u.city_name||r.jsx("span",{className:"text-red-500",children:"Missing"})})]},h))})]})})]}):r.jsxs("div",{...l(),className:"border-2 border-dashed p-10 text-center cursor-pointer rounded bg-slate-50 hover:bg-slate-100",children:[r.jsx("input",{...c()}),r.jsx(Ur,{className:"w-10 h-10 mx-auto text-gray-400 mb-2"}),r.jsx("p",{children:"Drag 'n' drop CSV here (Cols: state_name, city_name)"})]})})]})]})},J7=()=>{const[e,t]=m.useState(!1),[s,n]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState({companyName:"",ownerName:"",email:"",phone:"",address:"",stateId:"",cityId:"",gstNumber:"",tempPassword:""});m.useEffect(()=>{je.getStates().then(n).catch(console.error)},[]);const c=async u=>{l(p=>({...p,stateId:u,cityId:""}));const h=await je.getCities(u);i(h)},d=async u=>{var h,p;u.preventDefault(),t(!0);try{const f=o.tempPassword||Math.random().toString(36).slice(-8)+"Aa1!",{data:g,error:x}=await j.auth.signUp({email:o.email,password:f,options:{data:{role:"VENDOR",full_name:o.ownerName}}});if(x)throw x;const w=g.user.id,y=(h=s.find(N=>N.id===o.stateId))==null?void 0:h.name,v=(p=a.find(N=>N.id===o.cityId))==null?void 0:p.name;await je.registerVendor({userId:w,companyName:o.companyName,ownerName:o.ownerName,email:o.email,phone:o.phone,address:o.address,gstNumber:o.gstNumber,stateId:o.stateId,cityId:o.cityId,stateName:y,cityName:v});const b=await je.getVendorByUserId(w);M({title:"Vendor Created ",description:`Vendor ID: ${b.vendor_id}`}),l({companyName:"",ownerName:"",email:"",phone:"",address:"",stateId:"",cityId:"",gstNumber:"",tempPassword:""})}catch(f){console.error(f),M({title:"Error",description:f.message||"Something went wrong",variant:"destructive"})}finally{t(!1)}};return r.jsx("div",{className:"p-6 max-w-3xl",children:r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{children:"Internal Vendor Onboarding"})}),r.jsx(_e,{children:r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Company Name"}),r.jsx(H,{required:!0,value:o.companyName,onChange:u=>l(h=>({...h,companyName:u.target.value}))})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Owner Name"}),r.jsx(H,{required:!0,value:o.ownerName,onChange:u=>l(h=>({...h,ownerName:u.target.value}))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"Email"}),r.jsx(H,{type:"email",required:!0,value:o.email,onChange:u=>l(h=>({...h,email:u.target.value}))})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Business Phone"}),r.jsx(H,{required:!0,value:o.phone,onChange:u=>l(h=>({...h,phone:u.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx(U,{children:"GST Number"}),r.jsx(H,{value:o.gstNumber,onChange:u=>l(h=>({...h,gstNumber:u.target.value}))})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Business Address"}),r.jsx(H,{value:o.address,onChange:u=>l(h=>({...h,address:u.target.value}))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(U,{children:"State"}),r.jsxs(tt,{value:o.stateId,onValueChange:c,children:[r.jsx(Je,{children:r.jsx(st,{placeholder:"Select State"})}),r.jsx(Qe,{children:s.map(u=>r.jsx(ye,{value:u.id,children:u.name},u.id))})]})]}),r.jsxs("div",{children:[r.jsx(U,{children:"City"}),r.jsxs(tt,{value:o.cityId,onValueChange:u=>l(h=>({...h,cityId:u})),children:[r.jsx(Je,{children:r.jsx(st,{placeholder:"Select City"})}),r.jsx(Qe,{children:a.map(u=>r.jsx(ye,{value:u.id,children:u.name},u.id))})]})]})]}),r.jsxs("div",{children:[r.jsx(U,{children:"Temporary Password (optional)"}),r.jsx(H,{value:o.tempPassword,onChange:u=>l(h=>({...h,tempPassword:u.target.value}))})]}),r.jsx(V,{type:"submit",disabled:e,children:e?"Creating Vendor...":"Create Vendor"})]})})]})})},Q7=()=>{const[e,t]=m.useState(null),[s,n]=m.useState([]),[a,i]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{const l=await ut.getDashboardStats();t(l);const c=await ut.getVendors({createdByMe:!0});n(c)}catch(l){console.error(l)}finally{i(!1)}})()},[]),a?r.jsx("div",{className:"p-8",children:r.jsx(pe,{className:"animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"My Data Entry Records"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs(ve,{children:[r.jsx(De,{className:"pb-2",children:r.jsx(Re,{className:"text-sm font-medium text-gray-500",children:"Total Vendors"})}),r.jsx(_e,{children:r.jsx("div",{className:"text-2xl font-bold",children:e==null?void 0:e.totalVendors})})]}),r.jsxs(ve,{children:[r.jsx(De,{className:"pb-2",children:r.jsx(Re,{className:"text-sm font-medium text-gray-500",children:"Products Listed"})}),r.jsx(_e,{children:r.jsx("div",{className:"text-2xl font-bold",children:e==null?void 0:e.totalProducts})})]}),r.jsxs(ve,{children:[r.jsx(De,{className:"pb-2",children:r.jsx(Re,{className:"text-sm font-medium text-gray-500",children:"KYC Pending"})}),r.jsx(_e,{children:r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e==null?void 0:e.pendingKyc})})]}),r.jsxs(ve,{children:[r.jsx(De,{className:"pb-2",children:r.jsx(Re,{className:"text-sm font-medium text-gray-500",children:"KYC Approved"})}),r.jsx(_e,{children:r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e==null?void 0:e.approvedKyc})})]})]}),r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{children:"Submission History"})}),r.jsx(_e,{children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{children:"Date"}),r.jsx(me,{children:"Vendor"}),r.jsx(me,{children:"Products"}),r.jsx(me,{children:"KYC Status"})]})}),r.jsx(rs,{children:s.map(o=>{var l,c;return r.jsxs(Le,{children:[r.jsx(ie,{children:new Date(o.created_at).toLocaleDateString()}),r.jsx(ie,{className:"font-medium",children:o.company_name}),r.jsx(ie,{children:((c=(l=o.products)==null?void 0:l[0])==null?void 0:c.count)||0}),r.jsx(ie,{children:r.jsx(tc,{variant:o.kyc_status==="VERIFIED"?"success":"warning",children:o.kyc_status})})]},o.id)})})]})})]})]})},nj={sendNotification:async(e,t,s,n)=>{try{const{data:a,error:i}=await j.from("notifications").insert([{user_id:e,type:t,title:s,message:n,is_read:!1,created_at:new Date().toISOString()}]).select().single();if(i)throw i;return a}catch(a){throw console.error("Error sending notification:",a),a}},sendNotificationToRole:async(e,t,s,n)=>{try{const{data:a,error:i}=await j.from("employees").select("user_id").eq("role",e);if(i)throw i;if(!a||a.length===0)return[];const l=a.map(u=>u.user_id).map(u=>({user_id:u,type:t,title:s,message:n,is_read:!1,created_at:new Date().toISOString()})),{data:c,error:d}=await j.from("notifications").insert(l).select();if(d)throw d;return c}catch(a){throw console.error("Error sending notification to role:",a),a}},getNotifications:async(e,t=50)=>{try{const{data:s,error:n}=await j.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(t);if(n)throw n;return s||[]}catch(s){throw console.error("Error fetching notifications:",s),s}},getUnreadCount:async e=>{try{const{count:t,error:s}=await j.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("is_read",!1);if(s)throw s;return t||0}catch(t){return console.error("Error fetching unread count:",t),0}},markAsRead:async e=>{try{const{error:t}=await j.from("notifications").update({is_read:!0}).eq("id",e);if(t)throw t}catch(t){throw console.error("Error marking notification as read:",t),t}},markAllAsRead:async e=>{try{const{error:t}=await j.from("notifications").update({is_read:!0}).eq("user_id",e).eq("is_read",!1);if(t)throw t}catch(t){throw console.error("Error marking all notifications as read:",t),t}},deleteNotification:async e=>{try{const{error:t}=await j.from("notifications").delete().eq("id",e);if(t)throw t}catch(t){throw console.error("Error deleting notification:",t),t}},subscribeToNotifications:(e,t)=>j.channel(`notifications:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},n=>t(n.new)).subscribe()},aj=()=>{const{user:e}=jh(),[t,s]=m.useState([]),[n,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(null),[d,u]=m.useState([]),[h,p]=m.useState(!1),[f,g]=m.useState(!1),[x,w]=m.useState("");m.useEffect(()=>{y()},[e]);const y=async()=>{if(e){o(!0);try{const{withDocuments:T,withoutDocuments:A}=await ut.getVendorsGroupedByKycDocuments();s(T||[]),a(A||[])}catch(T){console.error(T),M({title:"Error",description:"Failed to load pending KYC vendors",variant:"destructive"}),s([]),a([])}finally{o(!1)}}},v=async T=>{c(T),p(!0);try{const A=await ut.getVendorDocuments(T.id);u(A||[])}catch{M({title:"Error",description:"Failed to load documents"})}finally{p(!1)}},b=async()=>{if(l&&window.confirm(`Approve KYC for ${l.company_name}?`))try{await ut.approveVendorKyc(l.id),await nj.sendNotificationToRole("DATA_ENTRY","KYC_APPROVED","KYC Approved",`Vendor "${l.company_name}" (${l.vendor_id}) KYC has been approved.`),M({title:"Approved",description:"Vendor KYC has been verified. Notifications sent to data entry team."}),c(null),y()}catch{M({title:"Error",description:"Failed to approve vendor",variant:"destructive"})}},N=async()=>{if(x)try{await ut.rejectVendorKyc(l.id,x),await nj.sendNotificationToRole("DATA_ENTRY","KYC_REJECTED","KYC Rejected",`Vendor "${l.company_name}" (${l.vendor_id}) KYC has been rejected.`),M({title:"Rejected",description:"Vendor KYC rejected and remarks sent. Notifications sent to data entry team."}),g(!1),c(null),w(""),y()}catch{M({title:"Error",description:"Failed to reject vendor",variant:"destructive"})}},k=({vendors:T,title:A,emptyMessage:_,variant:C="default"})=>r.jsxs(ve,{children:[r.jsx(De,{children:r.jsxs(Re,{className:"flex items-center gap-2",children:[C==="warning"&&r.jsx(Ns,{className:"w-5 h-5 text-amber-500"}),A]})}),r.jsx(_e,{children:i?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx(pe,{className:"animate-spin"})}):r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{children:"Vendor ID"}),r.jsx(me,{children:"Company"}),r.jsx(me,{children:"Status"}),r.jsx(me,{children:"Submitted On"}),r.jsx(me,{className:"text-right",children:"Actions"})]})}),r.jsx(rs,{children:T.length===0?r.jsx(Le,{children:r.jsx(ie,{colSpan:5,className:"text-center py-8 text-gray-500",children:_})}):T.map(I=>r.jsxs(Le,{children:[r.jsx(ie,{className:"font-mono text-xs",children:I.vendor_id}),r.jsxs(ie,{children:[r.jsx("div",{className:"font-medium",children:I.company_name}),r.jsx("div",{className:"text-xs text-gray-500",children:I.owner_name})]}),r.jsx(ie,{children:r.jsx(Me,{variant:I.kyc_status==="VERIFIED"?"success":I.kyc_status==="REJECTED"?"destructive":"warning",children:I.kyc_status})}),r.jsx(ie,{children:new Date(I.created_at).toLocaleDateString()}),r.jsx(ie,{className:"text-right",children:r.jsx(V,{size:"sm",variant:"outline",onClick:()=>v(I),children:"Review"})})]},I.id))})]})})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-neutral-800",children:"KYC Approvals"}),(e==null?void 0:e.role)==="ADMIN"&&r.jsx(Me,{variant:"outline",children:"Admin View"})]}),r.jsx(k,{vendors:t,title:"Vendors with Documents",emptyMessage:"No vendors with submitted documents.",variant:"default"}),r.jsx(k,{vendors:n,title:"Vendors Awaiting Documents",emptyMessage:"No vendors awaiting documents.",variant:"warning"}),r.jsx(qs,{open:!!l&&!f,onOpenChange:T=>!T&&c(null),children:r.jsxs(_s,{className:"max-w-3xl",children:[r.jsx(Ss,{children:r.jsxs(Cs,{children:["Review KYC: ",l==null?void 0:l.company_name]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-6 py-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Vendor Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-gray-500",children:"ID:"})," ",l==null?void 0:l.vendor_id]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-gray-500",children:"Email:"})," ",l==null?void 0:l.email]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-gray-500",children:"Phone:"})," ",l==null?void 0:l.phone]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-gray-500",children:"Address:"})," ",(l==null?void 0:l.address)||"N/A"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Documents"}),h?r.jsx(pe,{className:"animate-spin"}):d.length===0?r.jsx("p",{className:"text-sm text-red-500 italic",children:"No documents uploaded yet."}):r.jsx("div",{className:"space-y-2",children:d.map((T,A)=>r.jsxs("div",{className:"flex items-center justify-between p-2 border rounded bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qt,{className:"w-4 h-4 text-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium block",children:T.document_type}),r.jsx("span",{className:"text-xs text-gray-500",children:T.original_name||"Document"})]})]}),r.jsxs("a",{href:T.document_url,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:["View ",r.jsx(fx,{className:"w-3 h-3"})]})]},A))})]})]}),r.jsxs(xn,{className:"gap-2 sm:gap-0",children:[r.jsxs(V,{variant:"destructive",onClick:()=>g(!0),children:[r.jsx(yt,{className:"w-4 h-4 mr-2"})," Reject"]}),r.jsxs(V,{className:"bg-green-600 hover:bg-green-700",onClick:b,children:[r.jsx(Sr,{className:"w-4 h-4 mr-2"})," Approve"]})]})]})}),r.jsx(qs,{open:f,onOpenChange:g,children:r.jsxs(_s,{children:[r.jsx(Ss,{children:r.jsx(Cs,{children:"Reject KYC Application"})}),r.jsxs("div",{className:"py-4",children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Reason for Rejection *"}),r.jsx(Gr,{value:x,onChange:T=>w(T.target.value),placeholder:"Please explain why the KYC is being rejected...",rows:4})]}),r.jsxs(xn,{children:[r.jsx(V,{variant:"ghost",onClick:()=>g(!1),children:"Cancel"}),r.jsx(V,{variant:"destructive",onClick:N,disabled:!x,children:"Confirm Rejection"})]})]})})]})},Z7=()=>{const[e,t]=m.useState({open:0,resolved:0,avgTime:0}),[s,n]=m.useState([]),[a,i]=m.useState(!0);m.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0);const{data:c,error:d}=await j.from("support_tickets").select("id, subject, status, priority, created_at, resolved_at, description, vendor_id, buyer_id").order("created_at",{ascending:!1}).limit(100);if(d)throw console.error("Tickets fetch error:",d),d;if(console.log("Loaded tickets from DB:",c),!c||c.length===0){t({open:0,resolved:0,avgTime:"2h 15m"}),n([]),i(!1);return}const u=(c==null?void 0:c.filter(p=>p.status&&(p.status.toUpperCase()==="OPEN"||p.status.toUpperCase()==="IN_PROGRESS")))||[],h=(c==null?void 0:c.filter(p=>{var y;if(!(((y=p.status)==null?void 0:y.toUpperCase())==="CLOSED")||!p.resolved_at)return!1;const x=new Date(p.resolved_at).toDateString(),w=new Date().toDateString();return x===w}))||[];console.log("Open tickets:",u.length),console.log("Resolved today:",h.length),t({open:u.length,resolved:h.length,avgTime:"2h 15m"}),n((c==null?void 0:c.slice(0,5))||[])}catch(c){console.error("Dashboard error:",c),M({title:"Error",description:"Failed to load dashboard data",variant:"destructive"}),t({open:0,resolved:0,avgTime:"2h 15m"}),n([])}finally{i(!1)}},l=c=>{switch(c){case"OPEN":return"secondary";case"IN_PROGRESS":return"warning";case"RESOLVED":return"default";default:return"outline"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Support Dashboard"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Overview of support tickets and team performance"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Is,{title:"Open Tickets",value:e.open,icon:qr,className:"text-red-600"}),r.jsx(Is,{title:"Resolved Today",value:e.resolved,icon:os,className:"text-green-600"}),r.jsx(Is,{title:"Avg Response Time",value:e.avgTime,icon:dc,className:"text-blue-600"})]}),r.jsxs(ve,{children:[r.jsx(De,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(Re,{children:"Recent Tickets"}),r.jsx(re,{to:"/employee/support/tickets",children:r.jsx(V,{variant:"outline",size:"sm",children:"View All"})})]})}),r.jsx(_e,{children:a?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx(pe,{className:"animate-spin text-gray-400"})}):s.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Ns,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No tickets found"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{children:"Ticket ID"}),r.jsx(me,{children:"Subject"}),r.jsx(me,{children:"Priority"}),r.jsx(me,{children:"Status"}),r.jsx(me,{children:"Created"}),r.jsx(me,{className:"text-right",children:"Action"})]})}),r.jsx(rs,{children:s.map(c=>{var d;return r.jsxs(Le,{children:[r.jsxs(ie,{className:"font-mono text-sm",children:[(d=c.id)==null?void 0:d.substring(0,8),"..."]}),r.jsx(ie,{className:"max-w-xs truncate",children:c.subject}),r.jsx(ie,{children:r.jsx(Me,{variant:c.priority==="HIGH"?"destructive":c.priority==="MEDIUM"?"secondary":"outline",children:c.priority||"NORMAL"})}),r.jsx(ie,{children:r.jsx(Me,{variant:l(c.status),children:c.status})}),r.jsx(ie,{className:"text-sm text-gray-600",children:new Date(c.created_at).toLocaleDateString()}),r.jsx(ie,{className:"text-right",children:r.jsx(re,{to:"/employee/support/tickets",children:r.jsx(V,{size:"sm",variant:"ghost",children:"View"})})})]},c.id)})})]})})})]})]})},ez=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{const{data:i,error:o}=await j.from("support_tickets").select("*").order("created_at",{ascending:!1}).limit(100);if(o)throw o;t(i||[])}catch(i){console.error("Failed to fetch tickets:",i)}finally{n(!1)}})()},[]),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-800",children:"All Tickets"}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm overflow-hidden",children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{children:"ID"}),r.jsx(me,{children:"User"}),r.jsx(me,{children:"Type"}),r.jsx(me,{children:"Priority"}),r.jsx(me,{children:"Status"}),r.jsx(me,{className:"text-right",children:"Action"})]})}),r.jsx(rs,{children:s?r.jsx(Le,{children:r.jsx(ie,{colSpan:6,className:"text-center py-4",children:"Loading tickets..."})}):e.length===0?r.jsx(Le,{children:r.jsx(ie,{colSpan:6,className:"text-center py-4 text-gray-500",children:"No tickets found"})}):e.map(a=>{var i,o;return r.jsxs(Le,{children:[r.jsxs(ie,{className:"font-mono text-xs",children:[(i=a.id)==null?void 0:i.substring(0,8),"..."]}),r.jsx(ie,{className:"max-w-xs truncate",children:a.subject||"N/A"}),r.jsx(ie,{children:((o=a.description)==null?void 0:o.substring(0,20))||"N/A"}),r.jsx(ie,{children:r.jsx("span",{className:`text-xs font-bold ${a.priority==="HIGH"||a.priority==="High"?"text-red-600":"text-gray-600"}`,children:a.priority||"NORMAL"})}),r.jsx(ie,{children:a.status||"UNKNOWN"}),r.jsx(ie,{className:"text-right",children:r.jsx(V,{size:"sm",variant:"outline",children:"View"})})]},a.id)})})]})})]})},tz=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sales Dashboard"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Is,{title:"New Leads",value:"128",icon:St,trend:"+12% this week"}),r.jsx(Is,{title:"Conversions",value:"15",icon:ca,className:"text-green-600"}),r.jsx(Is,{title:"Revenue",value:"1.2L",icon:mh})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Sales Pipeline"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Pipeline visualization placeholder."})]})]}),sz=[{id:"L101",title:"Need 500 T-Shirts",budget:"50,000",category:"Apparel",status:"Available",date:"2023-10-25"},{id:"L102",title:"Industrial Pump Required",budget:"1,20,000",category:"Machinery",status:"Sold",date:"2023-10-24"},{id:"L103",title:"Looking for Organic Spices",budget:"25,000",category:"Food & Beverage",status:"Available",date:"2023-10-23"}],rz=()=>{const[e,t]=m.useState("");return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-800",children:"Sales CRM: Lead Management"}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Et,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-neutral-500"}),r.jsx(H,{placeholder:"Search leads...",className:"pl-9",value:e,onChange:s=>t(s.target.value)})]})]}),r.jsxs(Te,{children:[r.jsx(Qs,{children:r.jsx(Zs,{children:"All Leads"})}),r.jsx(ls,{children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{children:"Lead ID"}),r.jsx(me,{children:"Requirement"}),r.jsx(me,{children:"Category"}),r.jsx(me,{children:"Budget"}),r.jsx(me,{children:"Status"}),r.jsx(me,{children:"Posted Date"}),r.jsx(me,{className:"text-right",children:"Actions"})]})}),r.jsx(rs,{children:sz.map(s=>r.jsxs(Le,{children:[r.jsx(ie,{className:"font-medium",children:s.id}),r.jsx(ie,{children:s.title}),r.jsx(ie,{children:s.category}),r.jsx(ie,{children:s.budget}),r.jsx(ie,{children:r.jsx(tc,{variant:s.status==="Available"?"success":"secondary",children:s.status})}),r.jsx(ie,{children:s.date}),r.jsx(ie,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{size:"icon",variant:"ghost",title:"View Details",children:r.jsx(Xn,{className:"h-4 w-4 text-blue-600"})}),r.jsx(V,{size:"icon",variant:"ghost",title:"Send to Vendor",children:r.jsx(ei,{className:"h-4 w-4 text-green-600"})}),r.jsx(V,{size:"icon",variant:"ghost",title:"Change Price",children:r.jsx(mh,{className:"h-4 w-4 text-amber-600"})})]})})]},s.id))})]})})]})]})},nz=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const{data:o,error:l}=await j.from("vendor_plans").select("*").order("created_at",{ascending:!1});if(l)throw l;t(o||[])}catch(o){console.error("Failed to fetch pricing rules:",o)}finally{n(!1)}})()},[]);const a=i=>{t(e.map(o=>o.id===i?{...o,status:"PENDING_APPROVAL"}:o)),M({title:"Submitted",description:"Rule sent for manager approval."})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-800",children:"Pricing Rules Engine"}),r.jsxs(V,{className:"bg-[#003D82]",children:[r.jsx(Bt,{className:"h-4 w-4 mr-2"})," New Rule"]})]}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm overflow-hidden",children:r.jsxs(ts,{children:[r.jsx(ss,{children:r.jsxs(Le,{children:[r.jsx(me,{children:"Rule Name"}),r.jsx(me,{children:"Type"}),r.jsx(me,{children:"Value"}),r.jsx(me,{children:"Status"}),r.jsx(me,{className:"text-right",children:"Action"})]})}),r.jsx(rs,{children:e.map(i=>r.jsxs(Le,{children:[r.jsx(ie,{className:"font-medium",children:i.name}),r.jsx(ie,{children:i.type}),r.jsx(ie,{children:i.value}),r.jsx(ie,{children:r.jsx("span",{className:`px-2 py-1 rounded text-xs border ${i.status==="ACTIVE"?"bg-green-50 border-green-200 text-green-700":i.status==="PENDING_APPROVAL"?"bg-orange-50 border-orange-200 text-orange-700":"bg-gray-50 border-gray-200 text-gray-700"}`,children:i.status.replace("_"," ")})}),r.jsx(ie,{className:"text-right",children:i.status==="DRAFT"&&r.jsx(V,{size:"sm",variant:"outline",onClick:()=>a(i.id),children:"Submit"})})]},i.id))})]})})]})},az=Ja("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),HP=m.forwardRef(({className:e,variant:t,...s},n)=>r.jsx("div",{ref:n,role:"alert",className:le(az({variant:t}),e),...s}));HP.displayName="Alert";const WP=m.forwardRef(({className:e,...t},s)=>r.jsx("h5",{ref:s,className:le("mb-1 font-medium leading-none tracking-tight",e),...t}));WP.displayName="AlertTitle";const KP=m.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:le("text-sm [&_p]:leading-relaxed",e),...t}));KP.displayName="AlertDescription";const ij=({portalName:e,colorScheme:t,defaultEmail:s,icon:n})=>{const a=Ue(),{login:i}=Cx(),[o,l]=m.useState({email:"",password:""}),[c,d]=m.useState(!1),[u,h]=m.useState(""),p=x=>{const w={blue:"bg-blue-600 hover:bg-blue-700 text-blue-600",emerald:"bg-emerald-600 hover:bg-emerald-700 text-emerald-600",purple:"bg-purple-600 hover:bg-purple-700 text-purple-600"};return w[t]||w.blue},f=p().split(" ")[0],g=async x=>{x.preventDefault(),d(!0),h("");try{const w=await i(o.email,o.password);if(w){if(w.status==="BLOCKED"){h("Your account has been suspended. Contact administrator."),d(!1);return}switch(w.role){case"ADMIN":a("/admin/dashboard");break;case"HR":a("/hr/dashboard");break;case"DATA_ENTRY":case"DATAENTRY":a("/employee/dataentry/dashboard");break;case"SUPPORT":a("/employee/support/dashboard");break;case"SALES":a("/employee/sales/dashboard");break;case"EMPLOYEE":a("/employee/dataentry/dashboard");break;default:console.error("Unknown role:",w.role),h(`Role mismatch: '${w.role}' not recognized for this portal.`)}}else h("Invalid login credentials")}catch(w){console.error(w),h("System error. Please try again.")}finally{d(!1)}};return r.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"h-16 w-16 rounded-xl flex items-center justify-center shadow-lg bg-white",children:n&&r.jsx(n,{className:`h-8 w-8 ${p().split(" ").pop()}`})})}),r.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:e}),r.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Restricted System Access"})]}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:r.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl shadow-slate-200/50 rounded-2xl sm:px-10 border border-slate-100",children:[r.jsxs("form",{className:"space-y-6",onSubmit:g,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"email",children:"Work Email"}),r.jsx(H,{id:"email",type:"email",required:!0,value:o.email,onChange:x=>l({...o,email:x.target.value}),placeholder:s||"name@company.com",className:"h-11 bg-slate-50 border-slate-200 focus:bg-white transition-colors"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(U,{htmlFor:"password",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(H,{id:"password",type:"password",required:!0,value:o.password,onChange:x=>l({...o,password:x.target.value}),placeholder:"",className:"h-11 bg-slate-50 border-slate-200 focus:bg-white transition-colors pr-10"}),r.jsx(Za,{className:"absolute right-3 top-3 h-5 w-5 text-slate-400"})]})]}),u&&r.jsxs(HP,{variant:"destructive",className:"bg-red-50 border-red-100 text-red-800",children:[r.jsx(Ns,{className:"h-4 w-4"}),r.jsxs("div",{className:"ml-2",children:[r.jsx(WP,{children:"Authentication Failed"}),r.jsx(KP,{children:u})]})]}),r.jsx(V,{type:"submit",className:`w-full h-11 text-base font-medium shadow-lg hover:shadow-xl transition-all ${f}`,disabled:c,children:c?r.jsx(pe,{className:"mr-2 h-5 w-5 animate-spin"}):"Sign In"})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100",children:r.jsx("p",{className:"text-xs text-center text-slate-400",children:"Authorized personnel only. All activities are monitored."})})]})})]})},Jo=()=>r.jsxs(bo,{children:[r.jsx(Y,{path:"login",element:r.jsx(U9,{})}),r.jsx(Y,{path:"admin/login",element:r.jsx(ij,{portalName:"Admin Portal",colorScheme:"blue",defaultEmail:"aditi@admin.com",icon:$r})}),r.jsx(Y,{path:"hr/login",element:r.jsx(ij,{portalName:"HR Portal",colorScheme:"emerald",defaultEmail:"harsh@hr.com",icon:St})}),r.jsx(Y,{path:"superadmin/login",element:r.jsx(_P,{})}),r.jsx(Y,{element:r.jsx(CP,{}),children:r.jsx(Y,{path:"superadmin/dashboard",element:r.jsx(SP,{})})}),r.jsx(Y,{element:r.jsx(Fu,{allowedRoles:["ADMIN"]}),children:r.jsxs(Y,{element:r.jsx(zb,{role:"ADMIN"}),children:[r.jsx(Y,{index:!0,element:r.jsx(Tt,{to:"dashboard",replace:!0})}),r.jsx(Y,{path:"dashboard",element:r.jsx(R9,{})}),r.jsx(Y,{path:"staff",element:r.jsx(I9,{})}),r.jsx(Y,{path:"audit-logs",element:r.jsx(M9,{})}),r.jsx(Y,{path:"settings",element:r.jsx(L9,{})}),r.jsx(Y,{path:"kyc",element:r.jsx(V9,{})})]})}),r.jsx(Y,{element:r.jsx(Fu,{allowedRoles:["HR"]}),children:r.jsxs(Y,{element:r.jsx(zb,{role:"HR"}),children:[r.jsx(Y,{index:!0,element:r.jsx(Tt,{to:"dashboard",replace:!0})}),r.jsx(Y,{path:"dashboard",element:r.jsx(q9,{})}),r.jsx(Y,{path:"staff",element:r.jsx($9,{})})]})}),r.jsxs(Y,{path:"dataentry",element:r.jsx(ip,{allowedRole:"DATA_ENTRY"}),children:[r.jsx(Y,{index:!0,element:r.jsx(Tt,{to:"dashboard",replace:!0})}),r.jsx(Y,{path:"dashboard",element:r.jsx(z9,{})}),r.jsx(Y,{path:"categories",element:r.jsx(e7,{})}),r.jsx(Y,{path:"categories/upload",element:r.jsx(Y7,{})}),r.jsx(Y,{path:"locations",element:r.jsx(H9,{})}),r.jsx(Y,{path:"bulk-import",element:r.jsx(X7,{})}),r.jsx(Y,{path:"vendor-onboarding",element:r.jsx(J7,{})}),r.jsx(Y,{path:"records",element:r.jsx(Q7,{})}),r.jsx(Y,{path:"vendors",element:r.jsx(W9,{})}),r.jsx(Y,{path:"vendors/:vendorId",element:r.jsx(Hb,{})}),r.jsx(Y,{path:"vendors/:vendorId/products",element:r.jsx(Hb,{})}),r.jsx(Y,{path:"vendors/:vendorId/products/add",element:r.jsx(Wb,{})}),r.jsx(Y,{path:"vendors/:vendorId/products/:productId/edit",element:r.jsx(Wb,{})}),r.jsx(Y,{path:"kyc-review",element:r.jsx(aj,{})}),r.jsx(Y,{path:"kyc",element:r.jsx(aj,{})})]}),r.jsxs(Y,{path:"support",element:r.jsx(ip,{allowedRole:"SUPPORT"}),children:[r.jsx(Y,{index:!0,element:r.jsx(Tt,{to:"dashboard",replace:!0})}),r.jsx(Y,{path:"dashboard",element:r.jsx(Z7,{})}),r.jsx(Y,{path:"tickets",element:r.jsx(ez,{})})]}),r.jsxs(Y,{path:"sales",element:r.jsx(ip,{allowedRole:"SALES"}),children:[r.jsx(Y,{index:!0,element:r.jsx(Tt,{to:"dashboard",replace:!0})}),r.jsx(Y,{path:"dashboard",element:r.jsx(tz,{})}),r.jsx(Y,{path:"leads",element:r.jsx(rz,{})}),r.jsx(Y,{path:"pricing-rules",element:r.jsx(nz,{})})]}),r.jsx(Y,{path:"*",element:r.jsx(Tt,{to:"login"})})]}),iz=()=>{var i;const{user:e,logout:t}=es(),s=Ue(),n=async()=>{await t(),s("/")},a=({mobile:o=!1,onClick:l=()=>{}})=>r.jsxs(r.Fragment,{children:[r.jsx(re,{to:"/directory",onClick:l,className:`${o?"flex items-center p-3 hover:bg-slate-100 rounded-md text-slate-800":"text-gray-300 hover:text-white hover:bg-slate-800 px-3 py-2 rounded-md text-sm font-medium transition-colors"}`,children:"Directory"}),r.jsx(re,{to:"/directory/search",onClick:l,className:`${o?"flex items-center p-3 hover:bg-slate-100 rounded-md text-slate-800":"text-gray-300 hover:text-white hover:bg-slate-800 px-3 py-2 rounded-md text-sm font-medium transition-colors"}`,children:"Products"}),r.jsx(re,{to:"/pricing",onClick:l,className:`${o?"flex items-center p-3 hover:bg-slate-100 rounded-md text-slate-800":"text-gray-300 hover:text-white hover:bg-slate-800 px-3 py-2 rounded-md text-sm font-medium transition-colors"}`,children:"Pricing"})]});return r.jsx("header",{className:"fixed top-0 w-full z-50 bg-slate-900 border-b border-slate-800 shadow-md h-16",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full",children:r.jsxs("div",{className:"flex justify-between items-center h-full",children:[r.jsxs("div",{className:"flex items-center gap-4 md:gap-8",children:[r.jsx("div",{className:"md:hidden",children:r.jsxs(KE,{children:[r.jsx(GE,{asChild:!0,children:r.jsx(V,{variant:"ghost",size:"icon",className:"text-gray-300 hover:text-white",children:r.jsx(oo,{className:"h-6 w-6"})})}),r.jsxs(Wv,{side:"left",className:"w-[300px] sm:w-[400px]",children:[r.jsx(Kv,{className:"text-left border-b pb-4 mb-4",children:r.jsx(_r,{className:"h-8"})}),r.jsxs("nav",{className:"flex flex-col gap-2",children:[r.jsx(a,{mobile:!0,onClick:()=>{}}),r.jsx("div",{className:"border-t my-4 pt-4",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg mb-2",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:(i=e.email)==null?void 0:i.charAt(0).toUpperCase()}),r.jsxs("div",{className:"overflow-hidden",children:[r.jsx("p",{className:"font-medium text-sm truncate",children:e.name||e.email}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.role})]})]}),r.jsx(re,{to:e.role==="VENDOR"?"/vendor/dashboard":e.role==="BUYER"?"/buyer/dashboard":"/admin/dashboard",children:r.jsxs(V,{className:"w-full justify-start",variant:"outline",children:[r.jsx(pr,{className:"mr-2 h-4 w-4"})," Dashboard"]})}),r.jsx(V,{onClick:n,variant:"ghost",className:"w-full justify-start text-red-600 mt-2",children:"Log Out"})]}):r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx(re,{to:"/auth/login",className:"w-full",children:r.jsxs(V,{variant:"outline",className:"w-full justify-start",children:[r.jsx(BI,{className:"mr-2 h-4 w-4"})," Log In"]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-500 px-1",children:"Join Free"}),r.jsx(re,{to:"/buyer/register",className:"w-full block",children:r.jsx(V,{className:"w-full bg-[#00A699] hover:bg-teal-700",children:"As Buyer"})}),r.jsx(re,{to:"/vendor/register",className:"w-full block",children:r.jsx(V,{className:"w-full bg-[#003D82] hover:bg-blue-800",children:"As Vendor"})})]})]})})]})]})]})}),r.jsx("div",{className:"flex-shrink-0 flex items-center",children:r.jsx(_r,{variant:"light",className:"h-6 sm:h-8 w-auto"})}),r.jsx("nav",{className:"hidden md:flex space-x-1",children:r.jsx(a,{})})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[r.jsx(re,{to:"/directory/search",className:"text-gray-400 hover:text-white transition-colors p-2",children:r.jsx(Et,{className:"w-5 h-5"})}),r.jsx("div",{className:"hidden md:flex items-center space-x-4",children:e?r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{className:"text-gray-400 hover:text-white",children:r.jsx(cc,{className:"w-5 h-5"})}),r.jsx("div",{className:"h-6 w-px bg-slate-700 mx-2"}),r.jsx(re,{to:e.role==="VENDOR"?"/vendor/dashboard":e.role==="BUYER"?"/buyer/dashboard":"/admin/dashboard",children:r.jsx(V,{variant:"default",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold shadow-none border border-transparent",children:"Dashboard"})}),r.jsx(V,{variant:"ghost",size:"sm",onClick:n,className:"text-gray-300 hover:text-white hover:bg-slate-800",children:r.jsx(an,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(re,{to:"/auth/login",children:r.jsx(V,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white hover:bg-slate-800",children:"Log in"})}),r.jsxs(Qf,{children:[r.jsx(Zf,{asChild:!0,children:r.jsxs(V,{size:"sm",className:"bg-white text-slate-900 hover:bg-gray-100 font-semibold gap-1",children:["Join Free ",r.jsx(io,{className:"w-4 h-4"})]})}),r.jsxs(Du,{align:"end",className:"w-48",children:[r.jsx(Dv,{children:"Register as"}),r.jsx(Ru,{}),r.jsx(Ta,{onClick:()=>s("/buyer/register"),children:"Buyer (Source Products)"}),r.jsx(Ta,{onClick:()=>s("/vendor/register"),children:"Vendor (Sell Products)"})]})]})]})})]})]})})})},oz=({isOpen:e,onClose:t})=>{console.log("PostRequirementModal isOpen:",e);const[s,n]=m.useState({title:"",category:"",description:"",quantity:"",budget:"",companyName:"",email:"",phone:""}),[a,i]=m.useState(!1),[o,l]=m.useState([]),[c,d]=m.useState(""),[u,h]=m.useState([]),[p,f]=m.useState(!1);m.useEffect(()=>{e&&g()},[e]),m.useEffect(()=>{if(c.length>0){const b=o.filter(N=>N.name.toLowerCase().includes(c.toLowerCase()));h(b),f(!0)}else h([]),f(!1)},[c,o]);const g=async()=>{try{const b=await nr.getHeadCategories();l(b||[])}catch(b){console.error("Error loading categories:",b)}},x=b=>{const{name:N,value:k}=b.target;n(T=>({...T,[N]:k}))},w=b=>{d(b)},y=b=>{n(N=>({...N,category:b.name})),d(b.name),f(!1)},v=async b=>{if(b.preventDefault(),!s.title.trim()){M({title:"Missing Information",description:"Please enter a requirement title",variant:"destructive"});return}if(!s.category.trim()){M({title:"Missing Information",description:"Please enter or select a category",variant:"destructive"});return}if(!s.description.trim()){M({title:"Missing Information",description:"Please provide a description",variant:"destructive"});return}if(!s.quantity.trim()){M({title:"Missing Information",description:"Please enter quantity",variant:"destructive"});return}if(!s.companyName.trim()){M({title:"Missing Information",description:"Please enter company name",variant:"destructive"});return}if(!s.email.trim()){M({title:"Missing Information",description:"Please enter email",variant:"destructive"});return}if(!s.phone.trim()){M({title:"Missing Information",description:"Please enter phone number",variant:"destructive"});return}i(!0);try{const N={title:s.title,product_name:s.title,category:s.category,description:s.description,quantity:s.quantity,budget:parseFloat(s.budget)||0,company_name:s.companyName,buyer_name:s.companyName,buyer_email:s.email,buyer_phone:s.phone,status:"AVAILABLE",created_at:new Date().toISOString()},{error:k}=await j.from("leads").insert([N]);if(k)throw k;M({title:"Requirement Posted!",description:"Suppliers will contact you soon.",className:"bg-green-600 text-white border-green-700"}),n({title:"",category:"",description:"",quantity:"",budget:"",companyName:"",email:"",phone:""}),d(""),t()}catch(N){console.error("Error:",N),M({title:"Error",description:"Failed to post requirement. Please try again.",variant:"destructive"})}finally{i(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Post Your Requirement"}),r.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Connect with verified suppliers"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-blue-500 rounded-lg transition-colors",children:r.jsx(yt,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:v,className:"p-6 space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"What do you need? *"}),r.jsx("input",{type:"text",name:"title",value:s.title,onChange:x,placeholder:"e.g., Industrial Motors, Textiles, etc.",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),r.jsx("input",{type:"text",value:c,onChange:b=>w(b.target.value),placeholder:"Search or type category name...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),p&&u.length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto",children:u.map(b=>r.jsxs("button",{type:"button",onClick:()=>y(b),className:"w-full text-left px-4 py-2.5 hover:bg-blue-50 border-b border-gray-200 last:border-b-0 transition-colors",children:[r.jsx("div",{className:"font-medium text-gray-800",children:b.name}),b.description&&r.jsx("div",{className:"text-xs text-gray-500",children:b.description})]},b.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description *"}),r.jsx("textarea",{name:"description",value:s.description,onChange:x,placeholder:"Describe your requirement in detail...",rows:"4",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Quantity *"}),r.jsx("input",{type:"text",name:"quantity",value:s.quantity,onChange:x,placeholder:"e.g., 100 units",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Budget (Optional)"}),r.jsx("input",{type:"text",name:"budget",value:s.budget,onChange:x,placeholder:"e.g., 50,000",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company Name *"}),r.jsx("input",{type:"text",name:"companyName",value:s.companyName,onChange:x,placeholder:"Your company name",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email *"}),r.jsx("input",{type:"email",name:"email",value:s.email,onChange:x,placeholder:"Your email address",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number *"}),r.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:x,placeholder:"+91 XXXXX XXXXX",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(V,{type:"button",onClick:t,variant:"outline",className:"flex-1",children:"Cancel"}),r.jsxs(V,{type:"submit",disabled:a,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2",children:[r.jsx(ei,{className:"w-4 h-4"}),a?"Posting...":"Post Requirement"]})]})]})]})}):null},lz=({isOpen:e,onClose:t})=>{const[s,n]=m.useState({name:"",email:"",phone:"",subject:"",message:"",category:""}),[a,i]=m.useState(!1),o=c=>{const{name:d,value:u}=c.target;n(h=>({...h,[d]:u}))},l=async c=>{c.preventDefault(),i(!0);try{console.log("Support ticket submitted:",s),alert("Support request submitted! Our team will contact you within 24 hours."),n({name:"",email:"",phone:"",subject:"",message:"",category:""}),t()}catch(d){alert("Error submitting support request. Please try again."),console.error("Error:",d)}finally{i(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Get Support"}),r.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"We're here to help you 24/7"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-blue-500 rounded-lg transition-colors",children:r.jsx(yt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg",children:[r.jsx(sr,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 font-semibold",children:"Email"}),r.jsx("a",{href:"mailto:support@indiantrademart.com",className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"support@indiantrademart.com"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg",children:[r.jsx(Br,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 font-semibold",children:"Phone"}),r.jsx("a",{href:"tel:+918800123456",className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"+91 8800-123-456"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg",children:[r.jsx(qr,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 font-semibold\\",children:"Response Time"}),r.jsx("p",{className:"text-sm text-gray-700 font-medium\\",children:"Within 2 hours"})]})]})]}),r.jsxs("form",{onSubmit:l,className:"space-y-5",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),r.jsx("input",{type:"text",name:"name",value:s.name,onChange:o,placeholder:"Your full name",required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email *"}),r.jsx("input",{type:"email",name:"email",value:s.email,onChange:o,placeholder:"your@email.com",required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone *"}),r.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:o,placeholder:"+91 XXXXX XXXXX",required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),r.jsxs("select",{name:"category",value:s.category,onChange:o,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select issue type"}),r.jsx("option",{value:"account",children:"Account & Login"}),r.jsx("option",{value:"payment",children:"Payment Issues"}),r.jsx("option",{value:"product",children:"Product Related"}),r.jsx("option",{value:"shipping",children:"Shipping & Delivery"}),r.jsx("option",{value:"return",children:"Returns & Refunds"}),r.jsx("option",{value:"technical",children:"Technical Support"}),r.jsx("option",{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject *"}),r.jsx("input",{type:"text",name:"subject",value:s.subject,onChange:o,placeholder:"Brief subject of your issue",required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message *"}),r.jsx("textarea",{name:"message",value:s.message,onChange:o,placeholder:"Please describe your issue in detail...",required:!0,rows:"5",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(V,{type:"button",onClick:t,variant:"outline",className:"flex-1",children:"Cancel"}),r.jsxs(V,{type:"submit",disabled:a,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2",children:[r.jsx(ei,{className:"w-4 h-4"}),a?"Submitting...":"Submit Support Request"]})]})]})]})]})}):null},GP=()=>{const[e,t]=m.useState(!1),[s,n]=m.useState(!1);return r.jsxs(r.Fragment,{children:[e&&r.jsx(oz,{isOpen:e,onClose:()=>t(!1)}),s&&r.jsx(lz,{isOpen:s,onClose:()=>n(!1)}),r.jsx("footer",{className:"bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 text-gray-100",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-12 py-16 border-b border-gray-700",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Indian Trade Mart"}),r.jsx("p",{className:"text-xs text-gray-400 font-semibold tracking-wider",children:"B2B MARKETPLACE"})]}),r.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:"Connecting businesses with trusted technology providers across India."}),r.jsxs("div",{className:"flex gap-4 pt-2",children:[r.jsx("a",{href:"https://www.facebook.com/IndianTradeMart/",className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-gray-300 hover:bg-blue-600 hover:text-white transition-all duration-300",children:r.jsx(C1,{className:"w-5 h-5"})}),r.jsx("a",{href:"https://x.com/IndianTradeMart/",className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-gray-300 hover:bg-blue-500 hover:text-white transition-all duration-300",children:r.jsx(L1,{className:"w-5 h-5"})}),r.jsx("a",{href:"	https://www.linkedin.com/company/indian-trade-mart-itm/",className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-gray-300 hover:bg-blue-700 hover:text-white transition-all duration-300",children:r.jsx(A1,{className:"w-5 h-5"})}),r.jsx("a",{href:"https://www.instagram.com/indiantrademart/",className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-gray-300 hover:bg-pink-600 hover:text-white transition-all duration-300",children:r.jsx(FI,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-bold mb-6 text-white",children:"Information"}),r.jsxs("ul",{className:"space-y-3 text-sm",children:[r.jsx("li",{children:r.jsx(re,{to:"/about-us",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx(re,{to:"/press",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Press Section"})}),r.jsx("li",{children:r.jsx(re,{to:"/investor",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Investor Section"})}),r.jsx("li",{children:r.jsx(re,{to:"/join-sales",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Join Sales"})}),r.jsx("li",{children:r.jsx(re,{to:"/success-stories",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Success Stories"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-bold mb-6 text-white",children:"Support"}),r.jsxs("ul",{className:"space-y-3 text-sm",children:[r.jsx("li",{children:r.jsx(re,{to:"/help",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Help"})}),r.jsx("li",{children:r.jsx(re,{to:"/customer-care",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Customer Care"})}),r.jsx("li",{children:r.jsx(re,{to:"/complaints",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Complaints"})}),r.jsx("li",{children:r.jsx(re,{to:"/jobs",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Jobs & Careers"})}),r.jsx("li",{children:r.jsx(re,{to:"/contact",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Contact Us"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-bold mb-6 text-white",children:"Suppliers Tool Kit"}),r.jsxs("ul",{className:"space-y-3 text-sm",children:[r.jsx("li",{children:r.jsx(re,{to:"/vendor/register",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Sell on Trade Mart"})}),r.jsx("li",{children:r.jsx(re,{to:"/buyleads",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Latest BuyLead"})}),r.jsx("li",{children:r.jsx(re,{to:"/learning-centre",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Learning Centre"})}),r.jsx("li",{children:r.jsx(re,{to:"/logistics",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Ship With Trade Mart"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-bold mb-6 text-white",children:"Buyers Tool Kit"}),r.jsxs("ul",{className:"space-y-3 text-sm",children:[r.jsx("li",{children:r.jsx("button",{onClick:()=>{console.log("Post Requirement clicked"),t(!0)},className:"text-gray-300 hover:text-blue-400 transition-colors text-left",children:"Post Requirement"})}),r.jsx("li",{children:r.jsx(re,{to:"/products",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Products You Buy"})}),r.jsx("li",{children:r.jsx(re,{to:"/directory",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Search Suppliers"})})]})]})]}),r.jsx("div",{className:"py-12 border-b border-gray-700",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(sr,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400 font-semibold",children:"Customer Care"}),r.jsx("a",{href:"mailto:customercare@indiantrademart.com",className:"text-gray-300 hover:text-blue-400 transition-colors text-sm",children:"customercare@indiantrademart.com"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(sr,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400 font-semibold",children:"Support"}),r.jsx("a",{href:"mailto:support@indiantrademart.com",className:"text-gray-300 hover:text-blue-400 transition-colors text-sm",children:"support@indiantrademart.com"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(sr,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400 font-semibold",children:"Business"}),r.jsx("a",{href:"mailto:business@indiantrademart.com",className:"text-gray-300 hover:text-blue-400 transition-colors text-sm",children:"business@indiantrademart.com"})]})]})]})}),r.jsxs("div",{className:"py-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-400",children:[r.jsxs("p",{children:[" ",new Date().getFullYear()," Indian Trade Mart. All rights reserved."]}),r.jsxs("div",{className:"flex gap-6 mt-4 md:mt-0",children:[r.jsx(re,{to:"/terms",className:"hover:text-gray-200 transition-colors",children:"Terms of Use"}),r.jsx(re,{to:"/privacy",className:"hover:text-gray-200 transition-colors",children:"Privacy Policy"}),r.jsx(re,{to:"/",className:"hover:text-gray-200 transition-colors",children:"Link to Us"})]})]})]})})]})},cz=()=>{const{user:e}=es(),t=Zt(),[s,n]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState([]),[c,d]=m.useState([]),[u,h]=m.useState(!1),p=m.useRef(null),f=m.useRef(null),[g,x]=m.useState({productName:"",quantity:"",unit:"",email:"",phone:"",stateId:"",cityId:"",description:""}),w=()=>{const _=t.pathname;return _==="/"||_.startsWith("/directory")||_.startsWith("/product")||_.startsWith("/categories")};m.useEffect(()=>{(async()=>{try{h(!0);const C=await nr.getStates();l(C)}catch(C){console.error("Error loading states:",C)}finally{h(!1)}})()},[]),m.useEffect(()=>{(async()=>{if(g.stateId)try{const C=await nr.getCities(g.stateId);d(C),x(I=>({...I,cityId:""}))}catch(C){console.error("Error loading cities:",C)}else d([])})()},[g.stateId]),m.useEffect(()=>{if(n(!1),y(),!e&&w()&&!sessionStorage.getItem("itm_quote_popup_shown")&&!localStorage.getItem("itm_quote_popup_closed"))return p.current=setTimeout(()=>{v()},35e3),()=>y()},[e,t.pathname]);const y=()=>{p.current&&clearTimeout(p.current),f.current&&clearTimeout(f.current)},v=()=>{n(!0),sessionStorage.setItem("itm_quote_popup_shown","true"),f.current=setTimeout(()=>{x(_=>(!_.productName&&!_.email&&n(!1),_))},35e3)},b=()=>{n(!1),y(),localStorage.setItem("itm_quote_popup_closed","true")},N=_=>{const{name:C,value:I}=_.target;x(q=>({...q,[C]:I}))},k=_=>{x(C=>({...C,stateId:_.target.value}))},T=_=>{x(C=>({...C,cityId:_.target.value}))},A=async _=>{_.preventDefault(),i(!0);try{const C=g.phone.replace(/^\+91\s*/,""),{error:I}=await j.from("leads").insert([{product_name:g.productName,quantity:g.quantity,buyer_name:g.email.split("@")[0],buyer_email:g.email,buyer_phone:C,message:g.description,location:`${g.stateId||""} ${g.cityId||""}`.trim(),status:"AVAILABLE",category:"General",created_at:new Date().toISOString()}]);if(I)throw I;M({title:"Quote Requested",description:"We will connect you with suppliers shortly!",className:"bg-green-600 text-white border-green-700"}),b()}catch(C){console.error("Lead creation error",C),M({title:"Error",description:"Failed to submit request. Please try again.",variant:"destructive"})}finally{i(!1)}};return e?null:r.jsx(dv,{children:s&&r.jsxs("div",{className:"fixed inset-0 z-[9998] flex items-center justify-center p-4",children:[r.jsx(Dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:b}),r.jsxs(Dt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:"relative bg-white rounded-lg shadow-2xl overflow-hidden border border-gray-200 w-[90%] md:w-[500px] z-[9999]",children:[r.jsx("button",{onClick:b,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors z-10 p-1 hover:bg-gray-100 rounded-full",children:r.jsx(yt,{className:"h-5 w-5"})}),r.jsxs("div",{className:"p-6 md:p-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Get a Quote"}),r.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Tell us what you need, and we'll help you get quotes"})]}),r.jsxs("form",{onSubmit:A,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(U,{htmlFor:"productName",className:"text-xs font-bold uppercase text-gray-500",children:["Product Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(H,{id:"productName",name:"productName",placeholder:"e.g. Industrial Pumps",required:!0,value:g.productName,onChange:N})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(U,{htmlFor:"quantity",className:"text-xs font-bold uppercase text-gray-500",children:["Quantity ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(H,{id:"quantity",name:"quantity",type:"number",placeholder:"0",required:!0,value:g.quantity,onChange:N})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(U,{htmlFor:"unit",className:"text-xs font-bold uppercase text-gray-500",children:["Unit ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(H,{id:"unit",name:"unit",placeholder:"e.g. Pcs",required:!0,value:g.unit,onChange:N})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(U,{htmlFor:"email",className:"text-xs font-bold uppercase text-gray-500",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(H,{id:"email",name:"email",type:"email",placeholder:"your@email.com",required:!0,value:g.email,onChange:N})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(U,{htmlFor:"phone",className:"text-xs font-bold uppercase text-gray-500",children:["Phone ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"+91"}),r.jsx(H,{id:"phone",name:"phone",type:"tel",placeholder:"98765 43210",required:!0,className:"rounded-l-none",value:g.phone,onChange:N})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(U,{htmlFor:"state",className:"text-xs font-bold uppercase text-gray-500",children:["State ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"state",value:g.stateId,onChange:k,required:!0,disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#003D82] text-sm",children:[r.jsx("option",{value:"",children:"Select State"}),o.map(_=>r.jsx("option",{value:_.id,children:_.name},_.id))]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(U,{htmlFor:"city",className:"text-xs font-bold uppercase text-gray-500",children:["City ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"city",value:g.cityId,onChange:T,required:!0,disabled:!g.stateId||c.length===0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#003D82] text-sm",children:[r.jsx("option",{value:"",children:"Select City"}),c.map(_=>r.jsx("option",{value:_.id,children:_.name},_.id))]})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(U,{htmlFor:"description",className:"text-xs font-bold uppercase text-gray-500",children:"Description"}),r.jsx("textarea",{id:"description",name:"description",placeholder:"Tell us more about your requirement...",rows:"3",value:g.description,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#003D82] text-sm font-sans"})]}),r.jsxs(V,{type:"submit",className:"w-full bg-[#003D82] hover:bg-[#002a5c] text-white font-bold h-11 mt-2",disabled:a,children:[a?r.jsx(pe,{className:"w-4 h-4 animate-spin mr-2"}):null,"Submit Request"]})]})]})]})]})})},dz=()=>{const e=Zt(),[t,s]=m.useState({isBlocked:!1,message:""}),[n,a]=m.useState(!0);return m.useEffect(()=>{(async()=>{const l=e.pathname==="/"?"/":e.pathname.replace(/\/$/,"");try{const{data:c,error:d}=await j.from("page_status").select("*").eq("page_route",l).maybeSingle();c&&c.is_blanked?s({isBlocked:!0,message:c.error_message}):s({isBlocked:!1,message:""})}catch(c){console.error("Unexpected error in page status check:",c),s({isBlocked:!1,message:""})}finally{a(!1)}})();const o=j.channel("public:page_status").on("postgres_changes",{event:"UPDATE",schema:"public",table:"page_status"},l=>{const c=e.pathname==="/"?"/":e.pathname.replace(/\/$/,"");l.new.page_route===c&&s({isBlocked:l.new.is_blanked,message:l.new.error_message})}).subscribe();return()=>{j.removeChannel(o)}},[e.pathname]),n?r.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-white",children:r.jsx(pe,{className:"h-8 w-8 animate-spin text-blue-600"})}):t.isBlocked?r.jsx(NP,{message:t.message}):r.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[r.jsx(iz,{}),r.jsx("main",{className:"flex-grow pt-16",children:r.jsx(la,{})}),r.jsx(GP,{}),r.jsx(cz,{}),r.jsx(z1,{})]})},uz=()=>{const{headSlug:e}=Wr(),[t,s]=m.useState([]),[n,a]=m.useState(!0);return m.useEffect(()=>{e&&(async()=>{try{const o=await nr.getSubCategories(e);s(o)}catch(o){console.error(o)}finally{a(!1)}})()},[e]),r.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans pb-20",children:[r.jsx("div",{className:"bg-white border-b py-4",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("nav",{className:"flex text-sm text-gray-500 mb-4 items-center",children:[r.jsxs(re,{to:"/directory",className:"hover:text-blue-700 flex items-center",children:[r.jsx(xu,{className:"w-3 h-3 mr-1"})," Directory"]}),r.jsx(Xt,{className:"w-4 h-4 mx-2"}),r.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:e==null?void 0:e.replace(/-/g," ")})]}),r.jsx("h1",{className:"text-3xl font-bold text-slate-900 capitalize",children:e==null?void 0:e.replace(/-/g," ")})]})}),r.jsx("div",{className:"container mx-auto px-4 py-8",children:n?r.jsx(pe,{className:"animate-spin mx-auto"}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[t.map(i=>r.jsxs(re,{to:`/directory/${e}/${i.slug}`,className:"bg-white p-5 rounded-lg border hover:border-blue-500 hover:shadow-md transition-all",children:[r.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:i.name}),r.jsx("div",{className:"text-xs text-gray-500",children:"View Categories "})]},i.id)),t.length===0&&r.jsx("div",{className:"col-span-full text-center text-gray-500 py-10",children:"No sub-categories found."})]})})]})},hz=()=>{const{headSlug:e,subSlug:t}=Wr(),[s,n]=m.useState([]),[a,i]=m.useState(!0);return m.useEffect(()=>{t&&(async()=>{try{const l=await nr.getMicroCategories(t);n(l)}catch(l){console.error(l)}finally{i(!1)}})()},[t]),r.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans pb-20",children:[r.jsx("div",{className:"bg-white border-b py-4",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("nav",{className:"flex text-sm text-gray-500 mb-4 items-center flex-wrap",children:[r.jsxs(re,{to:"/directory",className:"hover:text-blue-700 flex items-center",children:[r.jsx(xu,{className:"w-3 h-3 mr-1"})," Directory"]}),r.jsx(Xt,{className:"w-4 h-4 mx-2"}),r.jsx(re,{to:`/directory/${e}`,className:"hover:text-blue-700 capitalize",children:e==null?void 0:e.replace(/-/g," ")}),r.jsx(Xt,{className:"w-4 h-4 mx-2"}),r.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:t==null?void 0:t.replace(/-/g," ")})]}),r.jsx("h1",{className:"text-3xl font-bold text-slate-900 capitalize",children:t==null?void 0:t.replace(/-/g," ")})]})}),r.jsx("div",{className:"container mx-auto px-4 py-8",children:a?r.jsx(pe,{className:"animate-spin mx-auto"}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[s.map(o=>r.jsxs(re,{to:`/directory/${e}/${t}/${o.slug}`,className:"bg-white p-5 rounded-lg border hover:border-blue-500 hover:shadow-md transition-all group",children:[r.jsx("div",{className:"flex justify-between items-start",children:r.jsx("h3",{className:"font-bold text-gray-800 mb-1 group-hover:text-blue-700",children:o.name})}),r.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"View Products "})]},o.id)),s.length===0&&r.jsx("div",{className:"col-span-full text-center text-gray-500 py-10",children:"No categories found."})]})})]})},mz=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!0),[a,i]=m.useState(""),[o,l]=m.useState([]),[c,d]=m.useState(!1),u=Ue(),h=10;m.useEffect(()=>{(async()=>{try{const x=await nr.getHeadCategories();t(x||[])}catch(x){console.error(x)}finally{n(!1)}})()},[]),m.useEffect(()=>{const g=setTimeout(async()=>{if(a.length>=2){const x=await nr.searchMicroCategories(a);l(x)}else l([])},300);return()=>clearTimeout(g)},[a]);const p=m.useMemo(()=>c?e:e.slice(0,h),[e,c]),f=e.length>h;return r.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[r.jsx("div",{className:"bg-[#003D82] py-16 px-4",children:r.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-6",children:"Find Products & Suppliers"}),r.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[r.jsxs("div",{className:"relative flex items-center bg-white rounded-lg shadow-xl",children:[r.jsx(Et,{className:"w-5 h-5 text-gray-400 ml-4"}),r.jsx(H,{className:"border-0 focus-visible:ring-0 h-14 text-lg",placeholder:"Search for any product or category...",value:a,onChange:g=>i(g.target.value)})]}),o.length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 bg-white rounded-lg shadow-xl mt-2 z-50 overflow-hidden text-left border border-gray-100",children:o.map(g=>r.jsxs("div",{className:"px-4 py-3 hover:bg-slate-50 cursor-pointer border-b last:border-0",onClick:()=>{u(`/directory/${g.head_slug}/${g.sub_slug}/${g.slug}`)},children:[r.jsx("div",{className:"font-medium text-slate-800",children:g.name}),r.jsx("div",{className:"text-xs text-slate-500",children:g.path})]},g.id))})]})]})}),r.jsxs("div",{className:"container mx-auto px-4 py-12",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Browse Industries"}),f&&!s&&r.jsx("button",{type:"button",onClick:()=>d(g=>!g),className:"text-sm font-semibold text-blue-700 hover:text-blue-800 underline underline-offset-4",children:c?"View less":"View more"})]}),s?r.jsx("div",{className:"flex justify-center",children:r.jsx(pe,{className:"animate-spin"})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:p.map((g,x)=>r.jsx(Dt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:x*.05},children:r.jsxs(re,{to:`/directory/${g.slug}`,className:"block bg-white rounded-xl border border-slate-200 p-6 hover:shadow-lg hover:border-blue-500 transition-all group h-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center text-2xl group-hover:bg-blue-600 transition-colors",children:""}),r.jsx(Xt,{className:"w-5 h-5 text-gray-300 group-hover:text-blue-600 transition-colors"})]}),r.jsx("h3",{className:"font-bold text-lg text-slate-900 group-hover:text-blue-700",children:g.name}),r.jsx("p",{className:"text-sm text-slate-500 mt-2 line-clamp-2",children:g.description||"Explore products and suppliers in this category."})]})},g.id))}),f&&r.jsx("div",{className:"flex justify-center mt-10",children:r.jsx("button",{type:"button",onClick:()=>d(g=>!g),className:"px-6 py-3 rounded-lg bg-white border border-slate-200 hover:border-blue-500 hover:shadow-md transition-all font-semibold text-slate-800",children:c?"View less":`View more (${e.length-h})`})})]})]})]})},oj=()=>{const{headSlug:e,subSlug:t,microSlug:s}=Wr(),[n,a]=lc(),i=Ue(),[o,l]=m.useState([]),[c,d]=m.useState(!0),[u,h]=m.useState([]),p=n.get("state")||"",f=n.get("q")||"",g=n.get("sort")||"",x=g||"relevance";m.useEffect(()=>{(async()=>{const v=await nr.getStates();h(v)})()},[]),m.useEffect(()=>{(async()=>{d(!0);try{if(!s&&f){const{data:v}=await nr.searchProducts({q:f,stateId:p,sort:g,page:1});l(v||[])}else if(s){const{data:v}=await nr.listProductsByMicro({microSlug:s,stateId:p,q:f,sort:g,page:1});l(v)}else l([])}catch(v){console.error(v),l([])}finally{d(!1)}})()},[s,p,f,g]);const w=(y,v)=>{const b=new URLSearchParams(n);v?b.set(y,v):b.delete(y),a(b)};return r.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans pb-20",children:[r.jsx("div",{className:"bg-white border-b py-4",children:r.jsx("div",{className:"container mx-auto px-4",children:s?r.jsxs(r.Fragment,{children:[r.jsxs("nav",{className:"flex text-sm text-gray-500 mb-2 items-center flex-wrap",children:[r.jsxs(re,{to:"/directory",className:"hover:text-blue-700 flex items-center",children:[r.jsx(xu,{className:"w-3 h-3 mr-1"})," Directory"]}),r.jsx(Xt,{className:"w-4 h-4 mx-2"}),r.jsx(re,{to:`/directory/${e}`,className:"hover:text-blue-700 capitalize",children:e==null?void 0:e.replace(/-/g," ")}),r.jsx(Xt,{className:"w-4 h-4 mx-2"}),r.jsx(re,{to:`/directory/${e}/${t}`,className:"hover:text-blue-700 capitalize",children:t==null?void 0:t.replace(/-/g," ")}),r.jsx(Xt,{className:"w-4 h-4 mx-2"}),r.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:s==null?void 0:s.replace(/-/g," ")})]}),r.jsxs("h1",{className:"text-2xl font-bold text-slate-900 capitalize",children:[s==null?void 0:s.replace(/-/g," ")," Suppliers & Products"]})]}):r.jsxs(r.Fragment,{children:[r.jsx("nav",{className:"flex text-sm text-gray-500 mb-2 items-center flex-wrap",children:r.jsxs(re,{to:"/directory",className:"hover:text-blue-700 flex items-center",children:[r.jsx(xu,{className:"w-3 h-3 mr-1"})," Directory"]})}),r.jsxs("h1",{className:"text-2xl font-bold text-slate-900",children:["Search Results ",f&&`for "${f}"`]})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-6 flex flex-col lg:flex-row gap-6",children:[r.jsx("aside",{className:"w-full lg:w-64 space-y-6",children:r.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-800 mb-4 border-b pb-2",children:[r.jsx(gx,{className:"w-4 h-4"})," Filters"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Search"}),r.jsx(H,{placeholder:"Search within category...",value:f,onChange:y=>w("q",y.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Location (State)"}),r.jsxs(tt,{value:p,onValueChange:y=>w("state",y==="all"?"":y),children:[r.jsx(Je,{children:r.jsx(st,{placeholder:"All India"})}),r.jsxs(Qe,{children:[r.jsx(ye,{value:"all",children:"All India"}),u.map(y=>r.jsx(ye,{value:String(y.id),children:y.name},y.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Sort By"}),r.jsxs(tt,{value:x,onValueChange:y=>w("sort",y==="relevance"?"":y),children:[r.jsx(Je,{children:r.jsx(st,{placeholder:"Relevance"})}),r.jsxs(Qe,{children:[r.jsx(ye,{value:"relevance",children:"Relevance"}),r.jsx(ye,{value:"price_asc",children:"Price: Low to High"}),r.jsx(ye,{value:"price_desc",children:"Price: High to Low"})]})]})]})]})]})}),r.jsx("main",{className:"flex-1",children:c?r.jsx("div",{className:"text-center py-20",children:r.jsx(pe,{className:"animate-spin mx-auto w-8 h-8 text-blue-600"})}):r.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.length===0?r.jsxs("div",{className:"bg-white p-12 text-center rounded-lg border border-dashed",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No products found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters."})]}):o.map(y=>{var v;return r.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm hover:shadow-md transition-shadow flex flex-col md:flex-row gap-6",children:[r.jsx("div",{className:"w-full md:w-48 h-48 bg-slate-100 rounded-md flex-shrink-0 overflow-hidden border",children:r.jsx("img",{src:((v=y.images)==null?void 0:v[0])||"https://via.placeholder.com/300",className:"w-full h-full object-cover",alt:y.name})}),r.jsxs("div",{className:"flex-1",children:[r.jsx(re,{to:`/p/${y.slug}`,className:"text-xl font-bold text-[#003D82] hover:underline mb-1 block",children:y.name}),r.jsxs("div",{className:"text-2xl font-bold text-slate-900 mb-2",children:["",y.price," ",r.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["/ ",y.price_unit]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[y.min_order_qty&&r.jsxs(Me,{variant:"secondary",children:["Min Order: ",y.min_order_qty]}),r.jsx(Me,{variant:"outline",children:"In Stock"})]}),y.vendors&&r.jsxs("div",{className:"border-t pt-3 mt-auto",children:[r.jsx("div",{className:"font-semibold text-slate-800",children:y.vendors.company_name}),r.jsxs("div",{className:"flex items-center text-sm text-slate-500 mt-1 gap-4",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(kt,{className:"w-3 h-3 mr-1"})," ",y.vendors.city,","," ",y.vendors.state]}),y.vendors.verification_badge&&r.jsxs("span",{className:"text-green-600 flex items-center font-medium",children:[r.jsx(Me,{className:"bg-green-100 text-green-800 h-5 px-1 mr-1",children:""})," Verified"]}),y.vendors.seller_rating&&r.jsxs("span",{className:"flex items-center text-amber-500 font-bold",children:[r.jsx(br,{className:"w-3 h-3 fill-current mr-1"})," ",y.vendors.seller_rating]})]})]}),r.jsxs("div",{className:"mt-4 flex gap-3",children:[r.jsx(V,{className:"bg-[#003D82]",onClick:()=>i(`/p/${y.slug}`),children:"View Details"}),r.jsx(V,{variant:"outline",children:"Contact Supplier"})]})]})]},y.id)})})})]})]})},pz=()=>{var k,T,A,_,C,I,q,F,D,S;const{productSlug:e}=Wr(),t=Ue(),{user:s}=es(),[n,a]=m.useState(null),[i,o]=m.useState(!0),[l,c]=m.useState(0),[d,u]=m.useState(!1),[h,p]=m.useState(!1),[f,g]=m.useState(!1),x=async()=>{const E=Gs.getCurrentUrl();await Gs.copyToClipboard(E)?(p(!0),M({title:"Link copied to clipboard!",description:"Share the link with anyone"}),setTimeout(()=>p(!1),2e3)):M({title:"Failed to copy",description:"Please try again",variant:"destructive"})},w=async()=>{var E,O,P;if(!s){M({title:"Please Login",description:"You need to login as a buyer to send enquiry",variant:"destructive"}),t("/buyer/login");return}if(s.role!=="BUYER"){M({title:"Buyer Account Required",description:"Only buyers can send enquiries",variant:"destructive"});return}try{const{error:R}=await j.from("leads").insert([{vendor_id:n.vendors.id,title:n.name,product_name:n.name,product_interest:n.name,description:((E=n.description)==null?void 0:E.replace(/<[^>]*>/g,""))||"",category:((O=n.micro_categories)==null?void 0:O.name)||"General",category_slug:((P=n.micro_categories)==null?void 0:P.slug)||"",status:"AVAILABLE",created_at:new Date().toISOString()}]);if(R)throw R;M({title:"Enquiry Sent",description:"Your enquiry has been submitted to the vendor"}),t(`/directory/vendor/${n.vendors.id}`)}catch(R){console.error("Error creating lead:",R),M({title:"Error",description:"Failed to send enquiry",variant:"destructive"})}},y=()=>{var E;(E=n==null?void 0:n.vendors)!=null&&E.id&&t(`/directory/vendor/${n.vendors.id}`)};if(m.useEffect(()=>{e&&(async()=>{try{const O=await nr.getProductDetailBySlug(e);a(O),(O==null?void 0:O.status)==="DRAFT"&&u(!0)}catch(O){console.warn("Slug lookup failed, trying ID:",O);try{const{data:P,error:R}=await j.from("products").select(`
              *,
              vendors (*)
            `).eq("id",e).single();if(!R&&P){if(P.micro_category_id){const{data:L}=await j.from("micro_categories").select(`
                  id, name, slug,
                  sub_categories (
                    id, name, slug,
                    head_categories (id, name, slug)
                  )
                `).eq("id",P.micro_category_id).single();if(L){P.micro_categories=L;const{data:B}=await j.from("micro_category_meta").select("meta_tags, description").eq("micro_categories",P.micro_category_id).single();B&&(P.meta_tags=B.meta_tags,P.meta_description=B.description)}}a(P),(P==null?void 0:P.status)==="DRAFT"&&u(!0)}else console.error("Product not found by ID or slug")}catch(P){console.error("ID lookup also failed:",P)}}finally{o(!1)}})()},[e]),i)return r.jsx("div",{className:"h-screen flex items-center justify-center",children:r.jsx(pe,{className:"animate-spin w-8 h-8 text-blue-600"})});if(!n)return r.jsx("div",{className:"p-10 text-center",children:"Product not found"});const{vendors:v,micro_categories:b}=n,N=n.images||[];return r.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",children:[r.jsxs(Yn,{children:[r.jsx("title",{children:n.meta_tags||`${n.name} | ${(b==null?void 0:b.name)||"Product"} | IndianTradeMart`}),r.jsx("meta",{name:"description",content:n.meta_description||((k=n.description)==null?void 0:k.replace(/<[^>]*>/g,"").substring(0,160))||n.name}),r.jsx("meta",{name:"keywords",content:`${n.name}, ${(b==null?void 0:b.name)||""}, ${((T=b==null?void 0:b.sub_categories)==null?void 0:T.name)||""}, ${(v==null?void 0:v.company_name)||""}`}),r.jsx("meta",{property:"og:title",content:n.name}),r.jsx("meta",{property:"og:description",content:n.meta_description||((A=n.description)==null?void 0:A.replace(/<[^>]*>/g,"").substring(0,160))||n.name}),N[0]&&r.jsx("meta",{property:"og:image",content:N[0]}),r.jsx("meta",{property:"og:url",content:Gs.getCurrentUrl()})]}),d&&r.jsx("div",{className:"bg-yellow-50 border-b border-yellow-200 py-3 px-4 mb-0 shadow-sm",children:r.jsxs("div",{className:"container mx-auto text-sm text-yellow-800 flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold",children:" Draft Product:"})," This product is in draft status and not visible to other buyers."]})}),r.jsx("div",{className:"bg-white border-b py-3 px-4 mb-4 shadow-sm",children:r.jsxs("div",{className:"container mx-auto text-sm text-gray-500 flex flex-wrap gap-1",children:[r.jsx(re,{to:"/directory",children:"Directory"})," ","  ",b?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:(C=(_=b.sub_categories)==null?void 0:_.head_categories)==null?void 0:C.name})," ","  ",r.jsx("span",{children:(I=b.sub_categories)==null?void 0:I.name})," ","  ",r.jsx(re,{to:`/directory/${(F=(q=b.sub_categories)==null?void 0:q.head_categories)==null?void 0:F.slug}/${(D=b.sub_categories)==null?void 0:D.slug}/${b.slug}`,className:"text-blue-600 font-medium",children:b.name})]}):r.jsx("span",{children:n.category_other||"Uncategorized"})]})}),r.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 auto-rows-max",children:[r.jsxs("div",{className:"md:col-span-1 space-y-4",children:[r.jsx("div",{className:"aspect-square bg-white rounded-lg border overflow-hidden flex items-center justify-center p-2 shadow-sm",children:N[l]?r.jsx("img",{src:N[l],alt:n.name,className:"max-w-full max-h-full object-contain"}):r.jsx("div",{className:"text-gray-300",children:"No Image"})}),r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:N.map((E,O)=>r.jsx("div",{onClick:()=>c(O),className:`w-16 h-16 border rounded cursor-pointer shrink-0 overflow-hidden ${l===O?"ring-2 ring-blue-500":"opacity-70 hover:opacity-100"}`,children:r.jsx("img",{src:E,className:"w-full h-full object-cover",alt:""})},O))})]}),r.jsxs("div",{className:"md:col-span-1 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-start gap-4 mb-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:n.name}),r.jsxs("div",{className:"flex gap-1 flex-wrap justify-end",children:[r.jsx(V,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-green-50",asChild:!0,children:r.jsx("a",{href:Gs.getWhatsAppUrl(n.name,Gs.getCurrentUrl()),target:"_blank",rel:"noopener noreferrer",title:"Share on WhatsApp",children:r.jsx(T1,{className:"w-4 h-4 text-green-600"})})}),r.jsx(V,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-blue-50",asChild:!0,children:r.jsx("a",{href:Gs.getFacebookUrl(Gs.getCurrentUrl()),target:"_blank",rel:"noopener noreferrer",title:"Share on Facebook",children:r.jsx(C1,{className:"w-4 h-4 text-blue-600"})})}),r.jsx(V,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-blue-100",asChild:!0,children:r.jsx("a",{href:Gs.getLinkedInUrl(Gs.getCurrentUrl(),n.name),target:"_blank",rel:"noopener noreferrer",title:"Share on LinkedIn",children:r.jsx(A1,{className:"w-4 h-4 text-blue-700"})})}),r.jsx(V,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-sky-50",asChild:!0,children:r.jsx("a",{href:Gs.getTwitterUrl(n.name,Gs.getCurrentUrl()),target:"_blank",rel:"noopener noreferrer",title:"Share on Twitter",children:r.jsx(L1,{className:"w-4 h-4 text-sky-500"})})}),r.jsx(V,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-gray-100",onClick:x,title:"Copy link",children:h?r.jsx(Sr,{className:"w-4 h-4 text-green-600"}):r.jsx(VI,{className:"w-4 h-4 text-gray-600"})})]})]}),r.jsxs("div",{className:"text-2xl font-bold text-[#003D82]",children:["",n.price," ",r.jsxs("span",{className:"text-base font-normal text-slate-500",children:["/ ",n.price_unit]})]}),n.min_order_qty&&r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Min Order: ",n.min_order_qty," ",n.qty_unit]})]}),r.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 bg-white p-4 rounded border",dangerouslySetInnerHTML:{__html:n.description||"No description available."}}),n.specifications&&n.specifications.length>0&&r.jsxs("div",{className:"bg-white rounded border p-4 shadow-sm",children:[r.jsx("h3",{className:"font-bold mb-3 text-sm uppercase text-gray-500 border-b pb-2",children:"Product Specifications"}),r.jsx("div",{className:"space-y-2 text-sm",children:n.specifications.map((E,O)=>r.jsxs("div",{className:"flex justify-between pb-1",children:[r.jsx("span",{className:"text-slate-500",children:E.key}),r.jsx("span",{className:"font-medium text-slate-900",children:E.value})]},O))})]}),r.jsxs("div",{className:"flex gap-3",children:[n.pdf_url&&r.jsxs("a",{href:n.pdf_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-sm text-blue-600 border border-blue-200 px-3 py-2 rounded hover:bg-blue-50 bg-white shadow-sm",children:[r.jsx(Qt,{className:"w-4 h-4"})," Product Brochure"]}),n.video_url&&r.jsxs("a",{href:n.video_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-sm text-red-600 border border-red-200 px-3 py-2 rounded hover:bg-red-50 bg-white shadow-sm",children:[r.jsx(CI,{className:"w-4 h-4"})," Watch Video"]})]})]}),r.jsx("div",{className:"md:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-blue-100 p-6 sticky top-20 h-fit",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 rounded border bg-slate-50 flex items-center justify-center overflow-hidden",children:v.profile_image?r.jsx("img",{src:v.profile_image,className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-xl font-bold text-slate-300",children:(S=v.company_name)==null?void 0:S[0]})}),r.jsxs("div",{children:[r.jsx("h3",{onClick:y,className:"font-bold text-lg text-slate-900 leading-tight cursor-pointer hover:text-blue-600 transition-colors",children:v.company_name}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-500 mt-1",children:[r.jsx(kt,{className:"w-3 h-3"})," ",v.city,", ",v.state]}),v.verification_badge&&r.jsxs(Me,{className:"bg-green-100 text-green-700 hover:bg-green-100 border-none mt-2 h-5 px-2",children:[r.jsx(os,{className:"w-3 h-3 mr-1"})," Verified Supplier"]})]})]}),r.jsx("div",{className:"space-y-3 mb-6",children:r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:r.jsx(Br,{className:"w-4 h-4"})}),r.jsx("span",{className:"font-medium text-slate-900",children:f?v.phone:Ou.maskPhone(v.phone)})]})}),r.jsx(V,{onClick:w,className:"w-full bg-[#003D82] h-12 text-lg mb-3 hover:bg-blue-800",children:"Send Enquiry"}),r.jsx(V,{variant:"outline",className:"w-full",onClick:()=>g(!f),children:f?"Hide Phone Number":"View Phone Number"})]})})]})]})},fz=()=>{const e=Ue(),[t,s]=m.useState(""),[n,a]=m.useState(""),i=o=>{o.preventDefault(),t.trim()&&e(`/search?q=${encodeURIComponent(t)}&loc=${encodeURIComponent(n)}`)};return r.jsxs("div",{className:"relative bg-slate-900 pt-20 pb-24 lg:pt-32 lg:pb-40 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 opacity-90 z-0"}),r.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 rounded-full bg-blue-500 opacity-10 blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-80 h-80 rounded-full bg-indigo-500 opacity-10 blur-3xl"}),r.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center",children:[r.jsxs("div",{className:"inline-flex items-center rounded-full px-3 py-1 text-sm font-medium text-blue-200 ring-1 ring-inset ring-blue-700/30 bg-blue-900/30 mb-6",children:[r.jsx("span",{className:"flex h-2 w-2 rounded-full bg-blue-400 mr-2"}),"India's Leading B2B Marketplace"]}),r.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold text-white mb-6 tracking-tight",children:["Connect with Trusted ",r.jsx("br",{className:"hidden md:block"}),r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-blue-400",children:"Manufacturers & Suppliers"})]}),r.jsx("p",{className:"text-lg md:text-xl text-slate-300 mb-10 max-w-2xl mx-auto leading-relaxed",children:"Discover verified business partners, source quality products, and grow your network with confidence on our secure platform."}),r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("form",{onSubmit:i,className:"bg-white p-2 rounded-xl shadow-2xl flex flex-col md:flex-row gap-2",children:[r.jsxs("div",{className:"flex items-center md:w-1/3 px-4 bg-slate-50 rounded-lg border border-transparent focus-within:border-blue-500 focus-within:bg-white transition-all duration-200",children:[r.jsx(kt,{className:"h-5 w-5 text-slate-400 mr-3 flex-shrink-0"}),r.jsx(H,{className:"border-0 bg-transparent focus-visible:ring-0 px-0 h-14 text-slate-900 placeholder:text-slate-400 font-medium",placeholder:"Location (e.g. Mumbai)",value:n,onChange:o=>a(o.target.value)})]}),r.jsxs("div",{className:"flex items-center flex-1 px-4 bg-slate-50 rounded-lg border border-transparent focus-within:border-blue-500 focus-within:bg-white transition-all duration-200",children:[r.jsx(Et,{className:"h-5 w-5 text-slate-400 mr-3 flex-shrink-0"}),r.jsx(H,{className:"border-0 bg-transparent focus-visible:ring-0 px-0 h-14 text-slate-900 placeholder:text-slate-400 font-medium",placeholder:"Search products, services, or companies...",value:t,onChange:o=>s(o.target.value)})]}),r.jsx(V,{type:"submit",className:"h-14 px-8 bg-blue-600 hover:bg-blue-700 text-white font-bold text-lg rounded-lg shadow-lg md:w-auto w-full transition-all duration-200",children:"Search"})]})}),r.jsxs("div",{className:"mt-8 flex flex-wrap justify-center items-center gap-4 text-sm text-slate-400",children:[r.jsx("span",{className:"font-semibold text-slate-300",children:"Trending:"}),r.jsx("button",{onClick:()=>s("Industrial Machinery"),className:"hover:text-blue-300 transition-colors px-3 py-1 bg-white/5 rounded-full border border-white/10",children:"Industrial Machinery"}),r.jsx("button",{onClick:()=>s("Textiles"),className:"hover:text-blue-300 transition-colors px-3 py-1 bg-white/5 rounded-full border border-white/10",children:"Textiles"}),r.jsx("button",{onClick:()=>s("Chemicals"),className:"hover:text-blue-300 transition-colors px-3 py-1 bg-white/5 rounded-full border border-white/10",children:"Chemicals"}),r.jsx("button",{onClick:()=>s("Electronics"),className:"hover:text-blue-300 transition-colors px-3 py-1 bg-white/5 rounded-full border border-white/10",children:"Electronics"})]})]})]})},YP={getVendors:async(e={})=>{let t=j.from("vendors").select("*");e.verified&&(t=t.eq("kyc_status","VERIFIED")),e.city&&(t=t.ilike("city",`%${e.city}%`)),e.search&&(t=t.ilike("company_name",`%${e.search}%`));const{data:s,error:n}=await t;return n?(console.error("Error fetching vendors:",n),[]):s},getVendorById:async e=>{const{data:t,error:s}=await j.from("vendors").select("*").eq("id",e).single();if(s)throw s;return t},getTopCities:async(e=10)=>{const{data:t,error:s}=await j.from("cities").select("*").gt("supplier_count",0).order("supplier_count",{ascending:!1}).limit(e);return s?(console.error("Error fetching top cities:",s),[]):t},getBrands:async()=>[]},gz=()=>{const e=Ue(),[t,s]=m.useState([]),n=(l="")=>l.toLowerCase().trim().replace(/&/g,"and").replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),a=(l="")=>l.toLowerCase().trim().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g," ");m.useEffect(()=>{(async()=>{const c=await YP.getTopCities(200),d=["Delhi","Noida","Mumbai","Bangaluru","Chennai","Kolkata","Jaipur","Ahmedabad","Hyderabad","Lucknow"],u={delhi:["delhi","new delhi","ncr delhi"],noida:["noida"],mumbai:["mumbai","bombay"],bangaluru:["bengaluru","bangalore","bangaluru"],chennai:["chennai","madras"],kolkata:["kolkata","calcutta"],jaipur:["jaipur"],ahmedabad:["ahmedabad","ahmedavad"],hyderabad:["hyderabad"],lucknow:["lucknow"]},h=Array.isArray(c)?c:[],p=new Set,f=x=>{const y=(u[x]||[x]).map(v=>a(v));for(const v of h){if(!v||p.has(v.id))continue;const b=a(v.name||"");if(y.some(N=>b.includes(N)))return v}return null},g=d.map(x=>{const w=a(x),y=f(w);return y?(p.add(y.id),y):{id:`custom-${n(x)}`,name:x,slug:n(x),supplier_count:0}});s(g)})()},[]);const i=l=>{const c=Number(l||0);return c>=1e3?(c/1e3).toFixed(1)+"K+":c+"+"},o=({city:l})=>{const c=((l==null?void 0:l.name)||"").toLowerCase();return c.includes("delhi")?r.jsx("img",{alt:"Delhi Gate Icon",className:"w-full h-full object-contain p-2",src:"https://images.unsplash.com/photo-1703083664356-a15a04d42e4c"}):c.includes("noida")?r.jsx("img",{alt:"Noida City Icon",className:"w-full h-full object-contain p-2",src:"https://images.unsplash.com/photo-1582407947304-fd86f028f716"}):c.includes("mumbai")?r.jsx("img",{alt:"Gateway of India Icon",className:"w-full h-full object-contain p-2",src:"https://images.unsplash.com/photo-1518918249916-0a72d4f98658"}):c.includes("bengaluru")||c.includes("bangalore")||c.includes("bangaluru")?r.jsx("img",{alt:"Vidhana Soudha Icon",className:"w-full h-full object-contain p-2",src:"https://images.unsplash.com/photo-1698127091046-3e260f65d6d8"}):c.includes("chennai")?r.jsx("img",{alt:"Chennai Central Icon",className:"w-full h-full object-contain p-2",src:"https://images.unsplash.com/photo-1635472276754-a5369ebf1bba"}):c.includes("kolkata")?r.jsx("img",{alt:"Howrah Bridge Icon",className:"w-full h-full object-contain p-2",src:"https://images.unsplash.com/photo-1571481808344-77708908c5a9"}):c.includes("jaipur")?r.jsx("img",{alt:"Hawa Mahal Icon",className:"w-full h-full object-contain p-2",src:"https://images.unsplash.com/photo-1617516203158-1b87bb39caa7"}):c.includes("ahmedabad")?r.jsx("img",{alt:"Ahmedabad Icon",className:"w-full h-full object-contain p-2",src:"https://images.unsplash.com/photo-1674783358278-bed2d6a4d57d"}):c.includes("hyderabad")?r.jsx("img",{alt:"Charminar Icon",className:"w-full h-full object-contain p-2",src:"https://images.unsplash.com/photo-1610341940372-5aab4d3786cb"}):c.includes("lucknow")?r.jsx("img",{alt:"Lucknow Icon",className:"w-full h-full object-contain p-2",src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxQTEhUSExMSFhUVGB0YFRgYGBgYIBcXFxkYFxgYGBoYHSggGBolHxcYITEiJSkrLi8uGB8zODMtNygtLisBCgoKDg0OGxAQGy0lICUtLS0tLS8tLS0tLS0tNS8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLf/AABEIAOsA1gMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAACAAMEBQYBB//EAEYQAAIBAwIDBQUEBggGAQUAAAECEQADIRIxBEFRBRMiYXEGMoGRoUKx0fAUI1JicsEVJDNTgpLh8QdDY6Ky0iUWc5Ojwv/EABoBAAMBAQEBAAAAAAAAAAAAAAABAgMEBQb/xAAvEQACAQIFAwMDAwUBAAAAAAAAAQIDEQQSEyExQVFhBSKRFKHwFXGxMlKBkuFC/9oADAMBAAIRAxEAPwCgilFFFKK90+YBilFFFKKABilFFFdigAIpRRxSigAaVFFKKABpV2K7FAA0qKKUUADXIoopRQAMUooopRQAMUooopRQAMUooopRQAMUooopRSAGKUUUUopADFKiilQAUUoo4pRVABFKKOKUUABFdiiilFAgYpRRRSigYMUooopRQAMUooopRQAMUooooktEhmEQsTnqYwOfL50m0hpNvYbilFFFKKYgIrsUUUopABFKKOKUUABFKKIilSAGKUUUUooAGKUUUUooAGKVFFKgA6VORXIqhAUqOKUUCApUcUooAClRxSigYFKjilFAAUqOKUUANNVx7NdvhbWl+JspBI0HQsjwnICtO5XMTn1NJxlgMpBkjeB5Z/lRdk3uKtd2iFAq8STdAA8aMOFA04MQrnM+eYry/UIznZI9r0p04pylyWPbCp3hNvu9DAFTbKsp6ldJgZB8PLy2qDT3EMzlLtwILjp4yggMVuXAGjrEA+lABXbh82lHNyedi1FVpZeAIpRRkVytjmuDFKKKKUUBcGK5FHFKKLBcGK5FOVykAEUoo4pRQAEV2iilQMcilFHppRVEgaaWmjilFAAaaUUUUooACKcsoGViDlTsQ20Zzp0zlcTXIqf2cSLVxdJIZXOrHhOkkSNMY0DfPiFc2IqTgll7o68JShUclPoiuIrkUcUaIMasSPCfOYX4SIn8K3lJRW5zRi5OyGYo1UAFjssEg4lZhjM4gwP8XkalaB4CQVDLElcFgsBlCkajiYwSAxE1O7M7Le5pwqhkIiQ8lSATg7SxOPeVoI3rz6/qEYq0eT1cP6XObvL+kr04bVIGpoEqu069gYErPhBIkAsOs1YJwBUln1aV2VFViCGLTqMyYCr5d3E7Vc8J2Ug1Ii6gRoGYAgNIZzgkDGJOxPlYcVYQKy3GhjBV1c2xqJwMZ3AzqM9RMV5FSvOb3Z7dPD06atFGU4/s5mgqNX2Vl2ACqBJwCywG1AkScEyZmtbhSJMHSIloxkLOmfey0Y6TtWr4rhWttJXUufEkawMMZUBRcGTOnSxg+Bomq7iOHDWwZR1AJBA1DWqgNJOkhwS2MHweUVtQxdSl5RhiMDRrcbMz6pPIn0zXIqx4jgGExpJJkksgCgwfDsAPEq+itBOQIUAyQZUGJjnk5HXl12mvYo4qFXg8CvgqlHkbinOGsa20grMYBIEnkBJFcilwLFb6vBhQdgs5IB9+RGR8jV4mpKFNyhyRhKUKlVRnwC6EEgiCDBHQjEVyKf4pIdx0Y/efM/fTUVtF3SZhNWk0DFKKKK7ppkgRSijilFDACKVFFdoAeArkU5ppFaLgN1yKc00tNMLjcUoo9NLTSAbIpjhjuNb+EuvvuMMtnBIIBy584NSiK5wCE95HJmwN8rwhx8q48Yk1G/8Acj0PT5STnb+1ghWGmLZeTpgeYI35HoTiROwIL/Z/BOI1m53iv7rJA03JUEHVKhsEQSpa2VxRcLwgeFe3LXI0NMadLe+pwwMgQwBiD6jSJwIjutOp7gGrVBgqfG7aRkHyieQE15eNrt1Hlfg9r07DxhRTkud/z+UR+zOzUthepZgsEmQScW1nbV4v3STkjAubvBhUAuNoxBCkSAMwTGQYbaBgxPILjLaPgBe4Rpb3Tr1TEnT4RJBxjMCd6l8D2OrZvlWZRItLlVAgDG7kQBMbiuCzZ3OXwQ+EvXLqxZXwwoZoZUGkGTbDYYE4xMwJjeq3tb2dF/D3L+oSUjUoaIggYJbofHg89hpr3akMBb7sLGNUgzG0Y0weXkR6ZL2h9qFsPb1atbw2kGe7Qk6mII8CmAABkiDB0iWrX8ku/JD4Li+J4WUukvbIjSw+ydsrkAggSJGD4ck1b6bfEkvafu7rCWDeLUsBfGC2m9b2M5gkgFDVgvaC3rEwHViNOslipYE+8CIGVAzsZJ603a/s+VLNw7agpkkA+FiNzHP95cxMxzvl7BtwC0yEuJ3dxyvhbKOQSf1bkAh8Hwsc+IgsFyxxlnW2vSWf3FUuVUnSvvAA6ThBJGqFycwA4L2jS4W4biwMgHUYZWUH7REKVnHKJOB79TrqGxcTWQ1swEuMSSNWtFR2JllM++coSAdQaSbxd1yF0/bNXRmAAJBZNQOVBB0g7SRAEwYxsOoqPqIvWyLhUEORGkEfq2MyRtt93OtDxnDsyhk0IyjxMVywlQ6mBqBwBgk743NVNh1Ny0y5DEhTH7SMBg7V6UK2rh5J8o8uphtHFxa/pkK6PE2WMkkFsmCZEncmI3zQxUrjV/WXP42/8jTQt16tNpQX7Hg1bupJ+RqKUVJXhieRpwcC/wCyarMicsuxCiuhanjs8jcx9aL9GA5E0syK05FdFKrHuD0ArlGcNNjeiloqQRQxRceUY0UilPFaWmgWVEfRS0U/prhFFwyjJSmuCtaheQaSzNCBiBqaOEGkfvRJ+E8qlRRdj6CWjQx1Nc8LLqAC2kV0lgMMjAmZ6TJrg9Qnamrdz0/SYXqu/FiXwlhbam8LbgJJUahMAq4KlGI1YPmYM7RVxw2q2uuJe80W1DEZBBCAfaSNRPkI9K/iBHDqAcG7EGZGlw5DTk+4fpV/YI/S0BwtlDhh7s4Qz08LR/GfQeIt+T6Kbstib2fbS1Nve+ZDPp1QxAbMRAyvhxy9azfbvtH+jsIUF7iayAuFViZJk5LGTAHy52/aN9nW6FdtQXwEgCNWoSRGcqOWxrA+1AOu2jku6IC7QoJYyQMAYWTH8VRKor5Qp077sh9sdu3bt0taa5btrC21U6QFCgeIAw85OZ3iqLtLiWuO11xLGNWmBMAKMchC8ulTGuQZhmxzA+eCTTb8ObjnQFKgD7cTkyQTHy8quLNXFWOp2pe7pURnRVOdEAmeTMBJHl+7Wl7K9s+6sJbfvC32vCIGkiNPjEYAMBcEmMQBmr/Z3IEKeYLAjl7sfH5UNvhxzZQAseGfE3UyPw++htCyJnofafApfsd+iAbQskksAfEGO8RkTkZPnW+znFSn6JcgqwZbQlSFcAhrXimFK62E5A1gEALUPsTtq73ttEyoMKIGAAcQsBpEgzJyYg1M7ctC1dIydFxXE5BUMJAPMFCy+hq47owknHZj/ClrZayxko+k6saudt20nLFZRmnJsmNyar+1eGKXrbf3lxHCzsCwVoGoyJdcjmYMyKuO2F/rUgf2tkk+HSZttbZYHn3l2D/F0MwO17qnuyywe+TUYMgd5J64lVBiBz5RSUnGW3XkrLGUd+nA6dLSSMkk7HnmnbVnpH1qJauyARmVX/xE/WaeW4etfQ094K3Y+WnZVGn3LBLBo+76mq9eKNc78mizHnRZaR5V0Wwar1ujrT1vi1HU0rFKSHHRelKmX7RH7NKmkxXj3OPwRHNT5eKefKPL6023DkdfkfPy8vzzvk4RQBp73DAA6rfvKbYCzq62VEdZFFwth1aNDk6dEa0PvJbQSNW5FoH4mvL+uqd18Hrr06j2fyZzu+mfgfPy8vrRDhm5Kx9Fbz8vT51dforCGEwTg6rfibECQ2fd2HTyp6zaYFl0sSVNsjWkjUqLnJg6UUj+eIPrZ9/sL9Opdn/sZ5uGb9hv8p/PT51X9o8WLRAZXkgkQpO1a42ZAaDDyFIu2/EW1mFPM+NtunlWe7dm24hZb7Yd1aCJYAkAYg7Hyq44yTe7+xEvT6duH8lK/bSbBbn+XzAz85+BqZ2Gy3bRud24BL5H2X0qpXSMuDJMxuR61X379zSQbabZzyKlJJ5Y5+XlFWHY1svBdHB7y5JTIQstrwspVsNEzGDbAnMGMXVc4WbNcJh1Sne3PktHU/o3D4We9bbBOlOIjVgQ3hz58hsL2xP6ZdC6YFq3OoyAD35JzuAeR8wNhVTxeLdgEg/rn0kCNRFriAZwIIC5H3bC34Gzr42+kjx2EGqOeriBMciIg+h6158TukOcVxbwCO7bLd5qkeIkEAMMLHiwZyOVZr2p06QxsOHLSWQhhAAEOcQcpE9DFaLje0Ldu0ly4AgdU1YJy7aQPMTzjaoPanDs1i9bQEt7oA30lj4c7+GR51hKPuudNNJxPPrvEIOV3/Kv/tTI4tOlzzwM59elHctxC/fyIxH56Uzd0yQpXUu4BmPUTiumNNWJk7AXePSRi4c5wOZ/i86D+kRBAtsczkgbbbT1NMNbk+m3yolTOfj8jT04iuOW+0bmpQiopJgbsc4gbTPpWx9rNYsq0rLcOWIJJOQTIJkncDJ6GsOOJGLtszkx9Qa2vtLfNzg9bAT3T5AzJ1TPngE9SSedaRVjGq7mg7YH63hzLZRxiJzbuGFI2H6sGDnxGPKj4+z4LZ8bMt9BIEhZWWg6djIBE/a8qtO12OrhSAc6gCDBxY4kwcDPMETudsTF4xZsWmAZtN9MKCAkHdjpJKide+SQIrHqgXDRE4CxptqCNJAAIwOgmOQzGenSnpHn8QRVtwvCsbQX9Z40YyHtggaO6LBSwOld521E1OZiwSVuAbLpuWvFJ7wAS/i8MjH2Sa7Y42cUlt8HHP0+lJuW/wAmcleu/wDp+I+vQ0liJ1fCD58v8J+nUVor3DggieIG6E95aEMwdY/tMNN043nT5U9dBe5qC8Rk6tIe39lrU47zabIB/ibrVfX1PHwyP0yl5+UZkhRHjG8bHqR8sb+YPOuHR+157N0naN8H5EVe2rWnuyDfYYKy9o6wi2pj9Z4gRaJP/wBxzSZMlovwDJ8VqB4u8AP6z95B6R1o+vn4+GN+mU7dflFGFWYnrsDyMfn1FKr7s+2bbTpvuQoUq/dtjTbUMZub/qiZ6u1dpP1CfZfcX6XS8/YhcP2mrW4CqT32FUyBbCsC8jYAMMYOelTuH7RUcXdBMKqhmMNiAAcRP2SZqKfZdB9tvI6bcj6R9KbPsmmSbz46C2Sdt/B8K4FWsek6USDY7Qd+HQIhLi9IA5WwoGqRjfEA8xVjwnaq/pPEH/liCCATIzqlRnfqBQ2vZW2Nrzjl7toY35Ltj6V3/wClrePGSRz0IZkYmMbeVW8TIzjhoJlbw3aDvw9nSonvCziR4ba6A7YOwIPzBzmofb/acXbxKjSHd138c94eW0gp82rQL7OW1j9cwOwhYwcwSAZxNUPtV7PWiyIGJOk50qATI/dxv+YrSGJk5Eyw0Err86FHd9oCdQ0iWthz5Mk4yRIMDH7xrQezV0XtN1lZZe4ZEaVEWhpcGRnSCDiNJyJg5TivZq2sAMpnnM89sCJrVexdoW7aCSNL3BP2BhCNfiXxY8J8m6wbrVHKJlRpZZXLLtkSvDEFDN1/Ev2v6vfAJjeNtzgb8qv+zj/8jdPW1bnAB/524Gx2qh7bBiwxAJN12lfdeOGv7ZJ2gH7zyvezsdoOCTJRRBgEeK+YPXy/d0771ywN5kL2k7PPEcPbtqQp7u0wJ28OcwDUsDJ6ST881IvWj3aMACVtoIzyA8/M0y9iBMn5n5QTWM+TqpvYxHtPwbLeNwqNNzKkdVABBG4ORPqapeP4K0pW5bWHZGF4iR4hoKkzgky+R+znlV97UqxdJBKaTpM4JDMG5eS4npWeYSYj6muqlL2mdSN3cglcn88qSpn89DTl1YiOvXy9KVu3OevmapiSIHC8EUtaCRM7jbeedantlz+gj0g+htW/5tVJ3ZiYH1Pn1q67QWeBEz70fO3Y+W9UndmU1ZGm7VthhwOASSwAiJmxxPT3hJG/u/46Dj7f9TtxJi7bcKsQviEs2DqQSWOJxuKPjlJXgRBywABmJ7m+JQ/GG3+x8XuPb+pQP21IUDOHXxET7mCzb4VpK7DB9AiLiOJW3C51JZedolhdhd5JJZdhTd3tC33VkiY7wRg4AcET1I0zifd9Kl3/AGfsXiLlw3AzOyCLrIJUtGAwGwo7fslw0SQ5Mn/mPODvJc0tRo0yQe5Rcf2xaNvifeOpgFEc9N4EnO2frHKpXaHblv8ASAAQYR/FMjU6XAiY/iEmYnHI1OHYPByYVyVYK0XXMElcb9DzM1KPszwh2tt/+R6evuTpK3BmbHa4P6KAFA71nu7+CbitI/aBJafKaY4zirn9ch1LE29EgwbQcBl5SPG8HbxCtNw/YPBOAVVypJEi85E5kAho5UfEezPBopZkYBQSSb1wAADJnVinr7i00lYp+yO1VXi3e5cHdtaTuzzB0WgynqdSE/E0qtrXs5wZOzwRIi/cM/HVSqHUTdy0kjB/8SO07wvLpuuqqF0hWIgwSW8MeLlPlWs7A7QvXbFq4wZi1tJMYLaFBJgbmsl2/ZHFNLi8jLEwtrJEgYN3bP0q77D4niLVi2luzedFWFbu0zBOcXOoj8xVSSdNJchC6m2+DPf8RO0bw4hYe4oCiAGZYOkFiIOGloneAK1/s7xV+9w1q4ZYsikmVGohQCxyDkj7/Ks17SdlNfuA3Vvo+wCrZIM4EHvvKtD2Da4qzZt2VtsVVYE9xJ3zAvTRNxdNLqOmpKbb4Md/xG7RvDiFUO6hVWFDRDwpJwd5bfyrRdorcW3Z712ZxbhmII1Eac52555786rO3ux24phdZb6tGwFnERMhrgI90Yo/aHj3AWEuiAfCUQiCSSdQuGNjy61cWmoxRnJNOTZmfZTh3vNfvveYd0haN9ZhyFM4CjSdtpERXovsm57tCLhBNy7iDpcaE3giGG43+1g7jz3szimsWr9tbTk3grBjpBVQWHhBBkHUZ22r0D2QD/ottZAZ2uEqeZFu2SfdIMdP3vlpWu0yKTSsS+018NkHH6y5IyR/Y3fdmP2s43n1Oj4Q/wDyL5H9mnT/AKvMcvu+VZu9ZMWBAH614UbLNi5hMCf5fu7Ve8NcVeOYkwotic+ESbx1TJxJ2JwWI9eeJdTkpvaXteyptcPf1hbqDIkKNJkFmBB3A2mN9s1I7F4pz3ti4+t7DINc5dXGpC0fagGSMZxUD2rNu9bVBFybZ9zxlXVnKEadmHhOd9uZpj2OsOhYXAy6rdoAHmbZdYAPMIF9JpzppK9y6VS+3YH2y4grbtAe8WuQT0DQxjrt+cVjb3B3VXvpuaZCm4TKagAdLQfD7wyQo8UAzWs9sLhH6ONgWudBs/XYTjO/1qJwPaxThrloKpDXJMjcFVBGdpj7/MVpRg3C5nWrZZ2M53upRIggwY6waicbeIhNWkRqY7YHn8KkW00hl5ByBmYWMCT0ECfKoV6xrvW0/a0iDjmxA6CTFaZRuftuiRwHDuEDqrC3nmD4RGYBlN5jyk1puLP9R+JIx/07FRF4bSQpS2p8ahVAI0i0WJLc2iDkc+UCpXEODwSgEZE//qsaopK9zPM2tzWOfD2ccYuKTnrbbMcjnyn4U1xuOz84EqYnxMQy+L3vdkZG8AiV2BLi3wBgDxWxI3kIcMOcaxpP7z9ctdp39HAlizACA2rBPjiJMBVO3lmsJdDSCMd7dI1ztG1ZLEKVhZ2Rm4i8CwHL3VkjOB0FbPtK/dTs64xY94vDsdQP21tkFgSJ3zNMdo+z/wCkXBfK2zctnwEXHEFbhYqQoIIJncT4vjT3FcBxL2btp+70FHHhOWBkMAWSRuf9amck7eDSnFq7ZhvYDh2W9ZeQFvC4hAmf1Whs4jcgjf61sf8AiFcKdn3tDMJ0Kf4WuoGB8iJHxqD2X7MvbFnuxGg3CCX1EG4URtlzhAcRGZqT2r2TfuWXW6ysm5UlxqCuCG1BsZzHlRKUXUUhwi1BxKz/AIe8E1t/exdtLd0gmASvhJ2E6W+tSP8AiUGZOGtyYucQqwSYJKsBPxinuH7LvWzb7pkUaQk+LCIoXMOSWAWN8npy72x2fccWe/uqdFwNbhCSLijwknvRqGTvP1ozLPmEotQaD9grJt2mtswXSxK5nwl3QweXitn76Vc4ThLyjVbvi3Izptzgs77C+T7ztv8ADy7WU1Fu9y4ppcEn2osrYsm6jXG05dAQCVJAJBwsiRip3Z93RYtnSWmQBJwQXYEk5ExMR9ocqm8R2DZa0TcUXO9g3GGkatmOkqJiQu/7Ipu5xHBW/CzP4fDp0uTIEQAVknSOXLO1dVak3ayOenVSbu7/AJuZztjimucT3KP3RQBgWLENzUEak05bJBPSCZp7hPaqVtnumabq2QVZTJb3GyZAbOc7fJ1b1o3S93hLiHWALjIpBJ8Ch2ViRiFzynYTXPaHspOIKANousLq2ocAMVDNaN0KCdPhcxuJjB2uWGUYq5ksQ5P2vqxdte0fd3Ldu3w7M1wAkagNIckLsDqzBOw6nNLjuHW/dtlu8W0bZ1kDxAnUQhENnIB3HnTdoliHKQfdZzBLIPHG/hh0GcZbkoqHd7WUwRa4xxMqyWHIMHcEen31yzjONsi/dlSqVJcLYa43slCWS1YvMThGa6oGkMBrKhJgagdIznrVnZNvhWtWFRX1q1yLhEsxKoAP1ciDqiYxz5VGTtUabjd3eGlSxW4BaJwDI1HAjmYHyrFdscT3i987Kdl7vGoKWB0gydCyDHhGRM7VrhlUqO1RbIylOUOeT0JeKgW0LFO7OoLoJIYrcBUxJJAMx5j4xu0O1mt97chC72rcLqywlyTCtIkgD413hkW/a4e8WYMNDiMkqVXwkkiQfeJ9cZil7S8ajm0uldI1YfQxyUyouiJEdDgnrWyUdlbj7mk1KKbvz9jI2+07vNAkmB4uJPnOLvXz+FaX2b4+bTOzrblWZTqJK7rJW4ScONyIJ86rTdsuVA4YLqIVWNlABnBJZYUREmYwcGrBL1u3w7KyWxqDQqgZCFmIItqv2riMV85q6zi4WSOWlGopbsoe2u0LjX1tF1u6F1amAXTcY+NVGM7HlTHZ/aylW8AZSWCkgBdSo740tOdECeoxWaOvX3xBkvOoqVBYmcyN+f1zWlTjLcFGsKjXFcpp0ZZgqOZ+zjJG5A54rpS9tn/Blli53s3/AJ/6Rbpl3A27zAHoOZ++g7KuoOLsM7aVV1LNEwBMmAD91WjezbFnOtRqaYAbGAIyZNM3PZe5qVlup4SpEg/ZMwY5HaPXrWDsd3uymo7Tu2bKsQ9tdDuFVlB2S8oIzOdMTA8QPSsvc7S0cOlstOM2wMwFUFyZyp0kY/uzvTnGdjX7hBc8OdJJHggZ1Tsv7x+nQRme0EKv3TOwYMRIbTtqXY9Tn0NFKnbqTUldbo3HDdtlzZCcWtzuyoVTbCgEKCVRgfGQBHwB5Y0XtHds/o7W7ZW3iPH4yQ58KjLElvHmRAJNeWcHw123ftBi6sWViBlRMAFoaBgE6T+z543nHWrj3jdiyUbSrWrmqNCwvvAnxEAGcZVYzNRVp7odGduLlj212xxVrQti2LhLOWMYUazCjOCZ3J+dTrnawVFLNDspY2yZxHiyiNOZ8jBzvVP2d2jxFkETwjAz70znMSqiR+NVHb3atxW7261vxHSqWhq8OgqfFcOACSYEkTOQCKwjQk3ZrY31squO2fb1Rot211SwVRpgjWxg5M6ZEzHMVZP7UDQQ1xVYjwpEF1OA2x0qTIk7RXl3EC33pdWFsLoKBTq2GCOWIX4j5gFYMQjLc1rp1EAgatRI3OkiZERXT9LTZz08TOT2PRew/axrzpbZlshp0EhXl+awB4JBkSeYxyq87W7WurYDWQLl06cASAxCkkKM82+XlXjdu2bRTTcUMhBUcw8zqg8x4fxxXsHY/tNFlBcRi5XxldQ8WdXuiIk4jpWVbDZWnBXNYV3dxbG/Z25euJ/Wh3ZSQpKFNSmCJmBIg7da7Tr+0dsZ7q4N/sXRuZOwpVhKjUbvlNY1YxVsx3geNu3rVq0Lty2QiKuoqqmEE+54pmfeovajibFu0ty6LVy4rKNM++uoSAdwRvIE45YiHw3a3D3VAFxTq8OmSpk8oYSP4ojnVJx/CrxFq2VMqG1DcwQp8J05JE+W2a6sO3KTzdwx8YxhHT7DHbPFAk8QLQCojMisxveJFY6zr5+JZGwxzq3btBy1pCbQui2rIO7C763ZJAKrgtDBZGMb1kOLtst3uiWhgSVEnIBXAnnMfA/G54XhTc4jU91CVwQCGJKxidl92YGQAJ0zB76ipyj46HhUlVU19ywuXONjSBwpWIjx7REQTtFUv6Fx6Ky23ZVPugMhCeLUQg5DcZ2B8ql3PZ08nU/BR9wqPc9nHGwQ/H8RWOSDXT4OtyqJ8P5GVPFIfEAAwIZS3vAiM6mJ+Uc4iaYTh2Gg6LQ0sdSkBlKgIUA1OTupEzPmQYp652HdH2Pk6D+dMHspx/y2+BU1apxXDMpVKnVE+zfuhVVbFghQAP7Q4GBnXULta1fuaCLKqUYGV7ydOdS5mAcbdBUd+Cb9h/lPzphuE8j8qrTQtaXFiVYF9Z7wXGWTALuAo5e6m4qR+larYtl9JVpGSJlQHmLaqWbSBkRt0qsHCHkWHoKL9Gvcnf5N/rS0ooHWk1YncPcMm3plVMkCdRYhfESOUMMaYyfiPFXUS5b1atQSUU8pcashQBKp05+lRbNm+Jh2VtWrUJHICMx0FG3CXCQWcMRkTo8xzE7HbzqbGWn7lK/TsaA+06/3bf5h/IV3/wCpbZ+w/wDnqk/Q3blaPwtULdlP+wvwZR/OnkgdGtV/EXw9oLR/vB6GayHbN6eKLqAy6rZBZMgeEHI93Kmp39DHmv8A3j16+X3Uz/Q3PxeoboDH586WSPQetO3uQ0l9u+stc0kQhJC5I7xiQpGB4fTatkvb3D9H+S/+1ZcdlxyOOpB2kT64NPJwBPL6j8aFTQa81sjR/wBN8Oeb/M/+9Zv2l47vgy2wdCmFyxJbHi3gCBcEGdwfRwdlE/Z/7Qf51w9keSdcg/ymqUEiZVaklwZ/9IueHU7a2EnUMzmRBknanGZoLXvBqaQQkchGFAE45gffVyexvK0fh+K0D9k/uIf8tLIn1M7tO9itsoQ1xla6sqCpyhbAn0GDG/LrWn4Y8OqIG8TADUZTxGMnIJqn/oz9wD/LXf6Pfkp+GfuNVkXVi1ZZnK3JZ8f2igT9T4W1DJMjTBnAUc450qqm7MufsXf8rfhSo04la9TsVi2AyhJ2hlPWOf3/ADFW/sz2g4uKFLRBOkZAMAB4OCRNVXDCbdsjJiD9QajDiGtXVuKD4GBH8x8RIrDlWOhbO5vuL4A3LrXCVMzAZDjP7lxceUkedTOzuH7pFXcgAFoORM8yYGdqd4Uh1DCSpAIIAIgwRJxFPLajP5+Pl6TUJdDpsubDN9Z2mq6+t0Tp1/n0xV0IH4nfptsaJV3n4jbM/mMVadiXG5lLvGXhuT8RPlUd+Ic7x8R+Hwra4PIfL8x6Uw/AW23RPlyPPFWqi7GEqEn1MSz1zWeRP1rXt2Naz4Ij1+ucD1+B6tHsJNhjPr/Lf6+RqtWJk8PMy/fHr9T+NH+kEbFvg0VfHsDONP3eXw9eXXlQHsHy899o+OB+YE09SJOhUKUca/8AeXP8x/P59KcXj353H+JB+/8APzzYXewo6j87dAfu5zUZ+xun1P1226ZzTzRFp1EcTjTzY/Ifnz/1p5OJH94wny/A9I+Y6VCudmPyBOYG38vr8KbPCuPst8uXX4mflRaLDNJdC2F1t+9fr7p5Z5jyUfCgk/3k45hT9j/Wq24GHIjEDEZbP3T8q6GudTEt1PIfDallGqndFmLU51Kef9mD0YDHxp1OHXM6DH/T5YjPpB+AqqBub7kQcidsdK6lh+QHLoPNaLeS867FynCJ0t9MKw6nYeRmPUUm7NB2cD43B9/Lz/CqteFu/sn4H4xvuN/yKdt8Je5Lc+B6/HINTbyVnv8A+R652S/2biH/AB/iu/58g2ez7w5j4Mn4ULLcXDC78QTuNj8PpQjtLSYLZ6EN+H586d2S8nXYBkujkf8AsP3Cge6+xJ+QH1qYnbKfbUMPT8R+fPau3O0+HI/s2B8p/ky07vsS1HpIiC+/7bfNv5UqG/xNo+4Lw/xEfezfypVVjNyt1IfZvCC5aVLaql1AWcMHVnkCI1tpIJ20gbmcbc7L7NS++l+8GgagwIScqFDqAQD72Z5Vf9mcKtgtlix3YqYgbAAEwP4hHpFWdkr9k2/EZOndmOJgLuemeW1cidz0soXDWQiqiiFWFAziMBSTz9frNPQPxxtyEn6fzrmjOMBd9seuwX0J+FdHQZjcATH1Ecs+Eb70XK3Oh4JO2PofnHpEURzvOOvL4ch/FAzvvSHI7cszE+RGTt9kcxRlcR0jGFicScwm+5k7U7jscK8hk+nLz6jz/wC6K6o3PmepE9ARkn0+LUBflgz0G5zmDlz/ABeY9OxMg/jIjIke96CBSYHQ20fD8BG3+HPU0kSTGc49Y3AGx9Pd6+fCuciP2pJ5mBJA5n7PkaITECSSAek+bGAAoAmPTP2ggCJnf6QSTtjrzHQRAzXHP12g88zEjfq2/LoClPmTPSVLn3YH7sQPyBXUI5nHOOn7KzsNxPPzG4Ags8gZwsTB56QTtE554PmaEgYwvqftRHPaB67EfAu7nGRyMRCrBwM85/lMk0M5xAkc+S7j4kGcf/1RcLHO5UwNpkD0HvMfuzynpQJwyGJXG+OSL9+A3xU05k7Ay0BQOSrH+3Qy1EDhiIgEKJwIO5HqAf8ANzp3CwyOFU6ZMEks2TsOYx/EPhQrwgCjm3igdcAb539fuNP6cnoEwDgQwJPLq/0FOKklSXU4+pJn8P8ADSzBlRDPDAe6AfCREDdZO/qRTq2RjCmQQIG5USAJ6gqPjXLZgJzEnn00QDjoCfhRW1gEAjwT54XwkgGeenFO4ZRLbXcBc5BzE7HPP/baum0vJRtj6Er58vn50RG8TG4IP7s4P0jyFILI5Qc42nn5ZmPRj0pDsCLKfGMDMkfs457QfMeUM3ODRhEkjlmZ5x0kRPpUktjIMnfIwx2O25z8260UzImeuPeMzI3M0XaBxTM7xXs4pPhcL1lf9cH74qC3s+cRdtknYEMPx/Meta1ra7eEk7ZiRIGYOIkAnlIzsajnhViORwIPMQIMYLCMHlPlWiqtHPLDQfQyjdh3ORtn0Yn7wKVam7wIPUGeaz9OfSfKlV6rIeFiNKmJxHIwI5TEjHL3U+POgfgw26Qecc/4vpucdOVRv0niQWY2QyjdkOnPmxHrseY2pWu2LcGTpIzpI0qPIDJc4A/HeueMGdTnHqPjhWGVuMBynIHoY/8AGiZ7oHiUEHI0jcZIhD738TTO3KoF/wBo7a+4CeWoyTH7omPnPLIqr4n2iuHCwszmSWM855T8fjWypyZzzrQj1NKO1Unxypk74O2NTQV6CPnyp1b4YLDA5+zHPEBeZ8zG0TnOBvcW7e8xIjrj49TQ2LzKZUkHqN+kDkN600TH6zwejad4CxGc/Unc8sLicZiCWs7GSMCYEkY91caQdtvteorB2e1rykQ5x9loIHmZ+/yHLFWvDe1bbOsgnxMsifLT/qNhsJBh0ZI1hioPnY05nqN95wux5CG+4xzjHR6ETsDlmPVh0xtmcxsSKvhe3rUAk3F/ZQiJPIsQMifn8MD2p7RqBpS4WaMxBAHMA9IiY6ATvWeWV7WN9SFr3LZDvBG0M2IAyNK+XwzOMZMTiu07dsSSJ+wJnPXz257mMDYZXi+3LriJAUYJAI1E84nB/POq25cJOrJJ2yfz+fntGj3OSeMS2iaDifaY7Ioge8SWyfgfM59abHtTd5ohLHkWGN43PPTHTTVFAOOXP+f4VwNuT6CtdKPY5nianc01v2szPde6IENieRIj1P5inl9pLXgBS554QnxQN+nhrJdAPj8fz9a4WyT9PoKWlEpYqouptbPtLYaSwblui82B5Hy/O9SF7dsa0PeCIG6tIOtucQAMZrBA4x1/lRk5XHIfUzUOhEv6yfg3icdbKgi7bwQPeXYhuhPljy51MV/EAsHUBGxGREnYsJ1Y5wfOvNuu/X6/70aXWUSrFeWCRzBzH5xRoeS1jX1R6M67e5gwCo3B2AJAMA5ggbnzpFpxMhoK84ImI+Mj5c9sKva14HFx4YZk6sN5MDz+6pVv2jvCQShIJPiTnsfdIqHRZosZA2LPALHAJyCIPI5kSCcz0InnXOHfOkZP2TtqGSM9CQY3yDy1VmU9rCZLWUacNpcry6EGJifWpi+09sgSLurOljpMAzIkEET6RPlNS6UuxqsRTfUvF22wGyByOdjmMnGfI4NJsGScRHUOBBAM4B5fToRX2faCxM96wjddJE75MgieR39OdSbXHWnDKHVgTIhgT16zPI7TyPTPK+xrGpB8MfW4NyCRtgGRHIgZ677RnOSqWjMAknrlQRsNp2iPh5VylYu5CvWVO/igZaIC+SgIpnfeJyIJzVFx3s8zEujkgbd5JHQaTt6D6VouKQd8UAhVaABgDwoeXPxHO/yFReBbXJfJAaJ5e9+Aq4ya4MakIzVmY+/2XeTLW2296J+UVDmMf7n1zXoPY7a0DNliRmAOXKNth8qb7Q4VDcClFIgbgHmRuc8hW0a3dHJPCbXTMGRjlPLyro/3O3w/0rQ8b2dbU4WMLzPMScTFVXH2xqOBhiojoCY9a2jK5yypuIuG4W2VJa7p8hpBMbQWNA90AiCHjYMgMfP4/KoSMfltTtgYc9CAPiSP5U8pObbZDr3DMBjJ3AmPhmP5U35SfM9fOhVfCfWPhmuI3h+PLH3U7EtsIn1gfX/egL89idv5+lJ9h6T9aE+98Y+FMBwYx18vlSJk42HQfM7VzV4vhPxo7KCSKBNgs0ksd+uefmaStjpJ+7+I+dc4gwBHn57R1o190H1+8UAcuHA2+nX/AEpMBI8oory5XfK9T1NBfwfSPupAG6gHbeec9fLFCpwcxscfH8afuWwGH5+1UdPtfwmgGJ8icbxy+H5NdZtm+e/LB2wKbQ4b4ffRJlT6/wAjTBhHoTg9T8j1/JocZU4PnPyo1Hh/PWgu7j0/H8BSGd185ON/ya4G5xIO4/1mnI2PXf5Uu7AB/wB/vphc7bvsnuswB2hmX1930z6CuU1wzfn5UqWVDzvuf//Z"}):r.jsx(kt,{className:"w-8 h-8 text-gray-400",strokeWidth:1.5})};return r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Find Suppliers from Top Cities"}),r.jsx("p",{className:"text-gray-500 text-lg",children:"Connect with verified suppliers across India's major business hubs"})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6 mb-10",children:t.map((l,c)=>r.jsxs(Dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:c*.05},onClick:()=>e(`/directory/city/${l.slug}`),className:"bg-white border border-gray-100 rounded-xl p-6 flex flex-col items-center justify-center hover:shadow-lg hover:border-blue-100 transition-all cursor-pointer group h-full",title:l.name,children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-50 flex items-center justify-center mb-4 group-hover:bg-blue-50 transition-colors overflow-hidden border border-gray-100",children:r.jsx(o,{city:l})}),r.jsx("h3",{className:"font-bold text-gray-800 text-lg group-hover:text-blue-700 transition-colors",children:l.name}),r.jsxs("p",{className:"text-sm text-gray-500 font-medium",children:[i(l.supplier_count)," suppliers"]})]},l.id))}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(V,{onClick:()=>e("/directory/cities"),className:"bg-[#4F46E5] hover:bg-[#4338ca] text-white px-8 h-12 rounded-lg font-medium shadow-md shadow-blue-200",children:["View All Cities ",r.jsx(Qa,{className:"ml-2 w-4 h-4"})]})})]})})},xz=()=>{const e=Ue(),[t,s]=m.useState([]),[n,a]=m.useState(1),i=m.useRef(null),o=m.useRef(null);m.useEffect(()=>{(async()=>{const g=await YP.getBrands();s(g||[])})()},[]);const l="max-h-16 md:max-h-20 lg:max-h-24 w-auto object-contain hover:grayscale-0 transition-all",c="flex-none w-56 md:w-64 lg:w-72 h-24 md:h-28 lg:h-32 flex items-center justify-center cursor-pointer hover:scale-110 transition-transform duration-300";m.useEffect(()=>{if(!(t!=null&&t.length))return;const f=()=>{const x=i.current,w=o.current;if(!x||!w)return;const y=x.clientWidth||0,v=w.scrollWidth||0;if(!y||!v)return;const b=Math.max(1,Math.ceil(y/v)+1);a(b)},g=requestAnimationFrame(f);return window.addEventListener("resize",f),()=>{cancelAnimationFrame(g),window.removeEventListener("resize",f)}},[t]);const d=m.useMemo(()=>{if(!(t!=null&&t.length))return[];const f=[];for(let g=0;g<n;g++)f.push(...t);return f},[t,n]),u=m.useMemo(()=>d.length?[...d,...d]:[],[d]),h=m.useMemo(()=>{const f=(d==null?void 0:d.length)||0;return`${Math.max(40,f*2.5)}s`},[d]),p=({brand:f})=>{((f==null?void 0:f.name)||"").toUpperCase();const g=typeof(f==null?void 0:f.logo_url)=="string"&&f.logo_url.toLowerCase().includes("example.com");return f!=null&&f.logo_url&&!g?r.jsx("img",{alt:`${f.name} Logo`,className:l,src:f.logo_url,onError:x=>{x.currentTarget.style.display="none"}}):r.jsx("span",{className:"font-bold text-gray-500",children:f==null?void 0:f.name})};return r.jsxs("section",{className:"py-16 bg-gray-50 border-t border-gray-100 overflow-x-hidden",children:[r.jsx("style",{children:`
        @keyframes brand-marquee {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
        .marquee-wrap {
          overflow: hidden;
          position: relative;
          width: 100%;
        }
        .marquee-track {
          display: flex;
          width: max-content;
          animation: brand-marquee var(--duration, 30s) linear infinite;
          will-change: transform;
        }
        .marquee-wrap:hover .marquee-track {
          animation-play-state: paused;
        }
        @media (prefers-reduced-motion: reduce) {
          .marquee-track {
            animation: none;
            transform: translateX(0);
          }
        }
      `}),r.jsxs("div",{className:"container mx-auto px-4 overflow-x-hidden",children:[r.jsx("div",{className:"text-center mb-10",children:r.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Explore products from ",r.jsx("span",{className:"text-[#4F46E5]",children:"Premium Brands"})]})}),r.jsx("div",{ref:o,className:"fixed left-0 top-0 invisible pointer-events-none -z-10",style:{width:0,height:0,overflow:"hidden"},children:r.jsx("div",{className:"flex gap-3 items-center",children:t.map(f=>r.jsx("div",{className:c,children:r.jsx(p,{brand:f})},`unit-${f.id}`))})}),r.jsx("div",{className:"marquee-wrap",ref:i,children:r.jsx("div",{className:"marquee-track gap-3 items-center py-2",style:{"--duration":h},children:u.map((f,g)=>r.jsx("div",{onClick:()=>e(`/directory/brand/${f.slug}`),className:c,title:f.name,children:r.jsx(p,{brand:f})},`${f.id}-${g}`))})})]})]})},XP={getFeaturedVendors:async()=>{const{data:e,error:t}=await j.from("vendors").select("*").limit(6);return t?(console.error("Error fetching featured vendors:",t),[]):e},getVendorById:async e=>{const{data:t,error:s}=await j.from("vendors").select("*, products(*)").eq("id",e).single();return s?(console.error("Error fetching vendor:",s),null):t},searchVendors:async({serviceSlug:e,stateSlug:t,citySlug:s,query:n})=>{try{let a=j.from("vendors").select(`
          *,
          products (*),
          city:city_id (slug, name),
          state:state_id (slug, name)
        `).eq("kyc_status","VERIFIED");if(t){const{data:c}=await j.from("states").select("id").eq("slug",t).single();c&&(a=a.eq("state_id",c.id))}if(s){const{data:c}=await j.from("cities").select("id").eq("slug",s).single();c&&(a=a.eq("city_id",c.id))}const{data:i,error:o}=await a;if(o)throw o;if(!i)return[];let l=i;if(e){const c=e.replace(/-/g," ").toLowerCase();l=i.filter(d=>{var p;const u=(p=d.products)==null?void 0:p.some(f=>f.category&&f.category.toLowerCase().includes(c)||f.name&&f.name.toLowerCase().includes(c)||f.description&&f.description.toLowerCase().includes(c)),h=d.company_name.toLowerCase().includes(c);return u||h})}if(n){const c=n.toLowerCase();l=l.filter(d=>{var u;return d.company_name.toLowerCase().includes(c)||((u=d.products)==null?void 0:u.some(h=>h.name.toLowerCase().includes(c)))})}return l}catch(a){return console.error("Search error:",a),[]}}},JP={getTopLevelCategories:async()=>{try{const{data:e,error:t}=await j.from("head_categories").select("*").eq("is_active",!0).order("name");return t?(console.error("Error fetching head categories:",t),[]):e||[]}catch(e){return console.error("Unexpected error fetching categories:",e),[]}},getCategoryChildren:async(e,t="HEAD")=>{try{let s="sub_categories",n="head_category_id";t==="SUB"&&(s="micro_categories",n="sub_category_id");const{data:a,error:i}=await j.from(s).select("*").eq(n,e).eq("is_active",!0).order("name");return i?(console.error(`Error fetching children from ${s}:`,i),[]):a||[]}catch(s){return console.error("Unexpected error fetching children:",s),[]}},getCategoryBySlug:async e=>{try{const{data:t}=await j.from("head_categories").select("*").eq("slug",e).eq("is_active",!0).maybeSingle();if(t)return{...t,type:"HEAD"};const{data:s}=await j.from("sub_categories").select(`
          *,
          parent:head_categories (
            id, name, slug
          )
        `).eq("slug",e).eq("is_active",!0).maybeSingle();if(s)return{...s,type:"SUB"};const{data:n}=await j.from("micro_categories").select(`
          *,
          parent:sub_categories (
            id, name, slug,
            grandparent:head_categories (
              id, name, slug
            )
          )
        `).eq("slug",e).eq("is_active",!0).maybeSingle();return n?{...n,type:"MICRO"}:null}catch(t){return console.error("Unexpected error fetching category by slug:",t),null}},getCategoryHierarchy:async e=>await JP.getCategoryBySlug(e),seedCategories:async e=>{const{data:t,error:s}=await j.functions.invoke("seed-categories",{body:e});if(s)throw s;return t}},vz=()=>{const e=Ue(),[t,s]=m.useState([]),[n,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(!1),d=8;m.useEffect(()=>{(async()=>{try{const[g,x]=await Promise.all([JP.getTopLevelCategories(),XP.getFeaturedVendors()]);g&&g.length>0&&s(g),x&&a(x)}catch(g){console.error("Failed to load data",g)}finally{o(!1)}})()},[]);const u=m.useMemo(()=>l?t:t.slice(0,d),[t,l]),h=t.length>d,p=f=>f.includes("Construction")?"":f.includes("Electronic")?"":f.includes("Industrial")?"":f.includes("Apparel")?"":f.includes("Agriculture")||f.includes("Food")?"":f.includes("Chemical")?"":"";return r.jsxs("div",{className:"min-h-screen flex flex-col font-sans bg-slate-50",children:[r.jsx(fz,{}),r.jsx("section",{className:"bg-white py-16 shadow-sm relative z-10 -mt-8 rounded-t-3xl border-t border-slate-100 mx-4 lg:mx-0",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-3",children:"Browse by Industry"}),r.jsx("p",{className:"text-slate-500 max-w-2xl mx-auto",children:"Comprehensive product listings from top manufacturers and verified suppliers across key sectors."})]}),i?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(pe,{className:"w-8 h-8 animate-spin text-blue-600"})}):r.jsxs(r.Fragment,{children:[h&&r.jsx("div",{className:"flex justify-end mb-4",children:r.jsx("button",{type:"button",onClick:()=>c(f=>!f),className:"text-sm font-semibold text-blue-700 hover:text-blue-800 underline underline-offset-4",children:l?"View less":"View more"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(f=>r.jsxs(Dt.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-white rounded-xl border border-slate-200 p-6 hover:shadow-lg hover:border-blue-300 transition-all cursor-pointer group",onClick:()=>e(`/categories/${f.slug}`),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl bg-slate-50 w-14 h-14 flex items-center justify-center rounded-lg group-hover:bg-blue-50 transition-colors",children:p(f.name)}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg text-slate-900 group-hover:text-blue-700 transition-colors",children:f.name}),r.jsx("p",{className:"text-xs text-blue-600 font-medium bg-blue-50 inline-block px-2 py-0.5 rounded-full mt-1",children:"High Demand"})]})]}),r.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all",children:r.jsx(Xt,{className:"w-4 h-4 text-slate-400 group-hover:text-white"})})]}),r.jsx("div",{className:"pl-[4.5rem]",children:r.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Industrial machinery, raw materials, tools..."})})]},f.id))}),h&&r.jsx("div",{className:"flex justify-center mt-10",children:r.jsx("button",{type:"button",onClick:()=>c(f=>!f),className:"px-6 py-3 rounded-lg bg-white border border-slate-200 hover:border-blue-500 hover:shadow-md transition-all font-semibold text-slate-800",children:l?"View less":`View more (${t.length-d})`})})]})]})}),r.jsx(gz,{}),r.jsx(xz,{}),r.jsxs("section",{className:"py-20 bg-slate-50 container mx-auto px-4",children:[r.jsxs("div",{className:"flex justify-between items-end mb-10",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Featured Suppliers"}),r.jsx("p",{className:"text-slate-500",children:"Trusted partners for your business needs"})]}),r.jsxs(V,{variant:"link",className:"text-blue-600 font-semibold hover:text-blue-800 p-0 h-auto",children:["View All Suppliers ",r.jsx(Xt,{className:"w-4 h-4 ml-1"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:n.map(f=>r.jsxs(Dt.div,{whileHover:{y:-5},className:"bg-white border border-slate-200 rounded-xl p-4 shadow-sm hover:shadow-xl transition-all cursor-pointer group",onClick:()=>e(`/directory/vendor/${f.id}`),children:[r.jsxs("div",{className:"relative h-48 mb-4 rounded-lg bg-slate-100 overflow-hidden",children:[r.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),f.verified&&r.jsxs("span",{className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm px-2.5 py-1 rounded-md text-xs font-bold text-blue-700 flex items-center gap-1.5 shadow-sm",children:[r.jsx(os,{className:"w-3.5 h-3.5 fill-blue-100"})," Verified"]})]}),r.jsx("h3",{className:"font-bold text-slate-900 text-lg line-clamp-1 mb-1 group-hover:text-blue-700 transition-colors",children:f.name}),r.jsxs("div",{className:"flex items-center text-sm text-slate-500 mb-4",children:[r.jsx(kt,{className:"w-3.5 h-3.5 mr-1.5"})," ",f.city,", ",f.state]}),r.jsx(V,{className:"w-full bg-white border border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white transition-all font-medium h-10",children:"Contact Supplier"})]},f.id))})]})]})},yz=()=>r.jsxs(r.Fragment,{children:[r.jsx(Yn,{children:r.jsx("title",{children:"About Us - IndianTradeMart"})}),r.jsxs("div",{className:"bg-white",children:[r.jsxs("div",{className:"bg-[#059669] py-20 text-center text-white",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"About IndianTradeMart"}),r.jsx("p",{className:"text-xl text-green-100 max-w-2xl mx-auto",children:"Empowering businesses to connect, trade, and grow without boundaries."})]}),r.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-4xl",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Mission"}),r.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-12",children:"At IndianTradeMart, our mission is to simplify business-to-business (B2B) commerce in India. We believe that every business, regardless of its size or location, deserves access to a national market. By leveraging technology, we are bridging the gap between buyers and suppliers, fostering transparency, and driving economic growth."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-16",children:[r.jsxs("div",{className:"bg-gray-50 p-8 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-bold text-[#059669] mb-4",children:"For Suppliers"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{className:"flex gap-3",children:[r.jsx(os,{className:"text-[#059669] w-5 h-5 flex-shrink-0"})," Increased visibility across India"]}),r.jsxs("li",{className:"flex gap-3",children:[r.jsx(os,{className:"text-[#059669] w-5 h-5 flex-shrink-0"})," Access to verified buy leads"]}),r.jsxs("li",{className:"flex gap-3",children:[r.jsx(os,{className:"text-[#059669] w-5 h-5 flex-shrink-0"})," Digital tools to manage business"]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-8 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-bold text-[#059669] mb-4",children:"For Buyers"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{className:"flex gap-3",children:[r.jsx(os,{className:"text-[#059669] w-5 h-5 flex-shrink-0"})," Wide range of verified products"]}),r.jsxs("li",{className:"flex gap-3",children:[r.jsx(os,{className:"text-[#059669] w-5 h-5 flex-shrink-0"})," Competitive pricing quotes"]}),r.jsxs("li",{className:"flex gap-3",children:[r.jsx(os,{className:"text-[#059669] w-5 h-5 flex-shrink-0"})," Secure platform for sourcing"]})]})]})]}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Founded in 2023, IndianTradeMart started with a simple idea: to digitalize the traditional Indian wholesale market. What began as a small directory has now grown into a comprehensive ecosystem supporting thousands of businesses."})]})]})]}),wz=()=>r.jsxs(r.Fragment,{children:[r.jsx(Yn,{children:r.jsx("title",{children:"Become a Vendor - IndianTradeMart"})}),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"bg-[#059669] text-white py-20 px-4 text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Sell to Millions of Business Buyers"}),r.jsx("p",{className:"text-xl text-green-100 max-w-2xl mx-auto mb-8",children:"Create your digital storefront today and start receiving inquiries instantly."}),r.jsx(re,{to:"/vendor/register",children:r.jsx(V,{size:"lg",className:"bg-white text-[#059669] hover:bg-gray-100 text-lg font-bold px-10 h-14",children:"Start Selling Now"})}),r.jsx("p",{className:"mt-4 text-sm text-green-200",children:"No credit card required for basic plan"})]}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{title:"Create Online Store",desc:"Showcase your products to buyers across India 24/7."},{title:"Get Verified Leads",desc:"Receive genuine inquiries from interested business buyers."},{title:"Grow Your Brand",desc:"Build trust with our verification badges and ratings."}].map((e,t)=>r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.title}),r.jsx("p",{className:"text-gray-600",children:e.desc})]},t))})}),r.jsx("div",{className:"bg-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-12",children:"Simple Pricing"}),r.jsxs("div",{className:"max-w-md mx-auto bg-white border-2 border-[#059669] rounded-2xl p-8 shadow-xl relative overflow-hidden",children:[r.jsx("div",{className:"bg-[#059669] text-white text-sm font-bold py-1 px-8 absolute top-0 right-0 rounded-bl-xl",children:"POPULAR"}),r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Gold Supplier"}),r.jsxs("div",{className:"text-4xl font-bold text-[#059669] mb-6",children:["14,999",r.jsx("span",{className:"text-lg text-gray-500 font-normal",children:"/yr"})]}),r.jsx("ul",{className:"space-y-4 text-left mb-8",children:["Unlimited Products","Verified Badge","50 Buy Leads / mo","Priority Support"].map(e=>r.jsxs("li",{className:"flex items-center gap-3",children:[r.jsx(Sr,{className:"text-[#059669] w-5 h-5"})," ",e]},e))}),r.jsx(re,{to:"/vendor/register",children:r.jsx(V,{className:"w-full bg-[#059669] hover:bg-[#047857]",children:"Get Started"})})]}),r.jsx("div",{className:"mt-8",children:r.jsx(re,{to:"/pricing",className:"text-[#059669] font-medium hover:underline",children:"View all plans"})})]})})]})]}),bz=()=>{const e=[{name:"Free",price:"0",features:["5 Products Listing","Basic Company Profile","Email Support","Limited Search Visibility"],cta:"Sign Up Free",active:!1},{name:"Gold",price:"14,999",features:["Unlimited Products","Verified Trust Badge","50 Buy Leads/mo","Priority Search Ranking","Mobile App Access"],cta:"Choose Gold",active:!0},{name:"Platinum",price:"29,999",features:["Everything in Gold","Top Banner Ads","150 Buy Leads/mo","Dedicated Manager","Export Inquiries"],cta:"Choose Platinum",active:!1}];return r.jsxs(r.Fragment,{children:[r.jsx(Yn,{children:r.jsx("title",{children:"Pricing - IndianTradeMart"})}),r.jsx("div",{className:"py-20 bg-gray-50",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h1",{className:"text-4xl font-bold text-center mb-4",children:"Choose Your Growth Plan"}),r.jsx("p",{className:"text-center text-gray-600 mb-16 max-w-2xl mx-auto",children:"Whether you're just starting or looking to dominate the market, we have a plan for you."}),r.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:e.map(t=>r.jsxs("div",{className:`bg-white rounded-2xl p-8 shadow-lg border ${t.active?"border-[#059669] ring-2 ring-[#059669] ring-opacity-20":"border-gray-100"} relative`,children:[t.active&&r.jsx("div",{className:"absolute top-4 right-4 bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-full",children:"RECOMMENDED"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t.name}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["",t.price]}),r.jsx("span",{className:"text-gray-500",children:"/year"})]}),r.jsx(re,{to:"/vendor/register",children:r.jsx(V,{className:`w-full mb-8 h-12 ${t.active?"bg-[#059669] hover:bg-[#047857]":"bg-gray-900 hover:bg-gray-800"}`,children:t.cta})}),r.jsx("ul",{className:"space-y-4",children:t.features.map(s=>r.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[r.jsx(Sr,{className:"w-5 h-5 text-[#059669] flex-shrink-0"}),s]},s))})]},t.name))})]})})]})};var QP="AlertDialog",[jz,EH]=ks(QP,[CE]),wn=CE(),ZP=e=>{const{__scopeAlertDialog:t,...s}=e,n=wn(t);return r.jsx($v,{...n,...s,modal:!0})};ZP.displayName=QP;var Nz="AlertDialogTrigger",eA=m.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,a=wn(s);return r.jsx(Uv,{...a,...n,ref:t})});eA.displayName=Nz;var _z="AlertDialogPortal",tA=e=>{const{__scopeAlertDialog:t,...s}=e,n=wn(t);return r.jsx(Hh,{...n,...s})};tA.displayName=_z;var Sz="AlertDialogOverlay",sA=m.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,a=wn(s);return r.jsx(kc,{...a,...n,ref:t})});sA.displayName=Sz;var Ji="AlertDialogContent",[Cz,kz]=jz(Ji),rA=m.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:n,...a}=e,i=wn(s),o=m.useRef(null),l=He(t,o),c=m.useRef(null);return r.jsx(EU,{contentName:Ji,titleName:nA,docsSlug:"alert-dialog",children:r.jsx(Cz,{scope:s,cancelRef:c,children:r.jsxs(Ec,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:fe(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[r.jsx(Q_,{children:n}),r.jsx(Pz,{contentRef:o})]})})})});rA.displayName=Ji;var nA="AlertDialogTitle",aA=m.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,a=wn(s);return r.jsx(Pc,{...a,...n,ref:t})});aA.displayName=nA;var iA="AlertDialogDescription",oA=m.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,a=wn(s);return r.jsx(Ac,{...a,...n,ref:t})});oA.displayName=iA;var Ez="AlertDialogAction",lA=m.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,a=wn(s);return r.jsx(Wh,{...a,...n,ref:t})});lA.displayName=Ez;var cA="AlertDialogCancel",dA=m.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,{cancelRef:a}=kz(cA,s),i=wn(s),o=He(t,a);return r.jsx(Wh,{...i,...n,ref:o})});dA.displayName=cA;var Pz=({contentRef:e})=>{const t=`\`${Ji}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ji}\` by passing a \`${iA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ji}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Az=ZP,Tz=eA,Dz=tA,uA=sA,hA=rA,mA=lA,pA=dA,fA=aA,gA=oA;const Rz=Az,Iz=Tz,Oz=Dz,xA=m.forwardRef(({className:e,...t},s)=>r.jsx(uA,{className:le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));xA.displayName=uA.displayName;const vA=m.forwardRef(({className:e,...t},s)=>r.jsxs(Oz,{children:[r.jsx(xA,{}),r.jsx(hA,{ref:s,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));vA.displayName=hA.displayName;const yA=m.forwardRef(({className:e,...t},s)=>r.jsx(fA,{ref:s,className:le("text-lg font-semibold",e),...t}));yA.displayName=fA.displayName;const wA=m.forwardRef(({className:e,...t},s)=>r.jsx(gA,{ref:s,className:le("text-sm text-muted-foreground",e),...t}));wA.displayName=gA.displayName;const bA=m.forwardRef(({className:e,...t},s)=>r.jsx(mA,{ref:s,className:le("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));bA.displayName=mA.displayName;const jA=m.forwardRef(({className:e,...t},s)=>r.jsx(pA,{ref:s,className:le("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0",e),...t}));jA.displayName=pA.displayName;const Mz=()=>{const e=Ue(),{signIn:t}=es(),[s,n]=m.useState("buyer"),[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState({email:"rajesh@buyer.com",password:""}),p=w=>{n(w),h(w==="buyer"?{email:"rajesh@buyer.com",password:""}:{email:"vikram@vendor.com",password:""})},f=w=>{h({...u,[w.target.name]:w.target.value})},g=async w=>{if(w.preventDefault(),!u.password){M({title:"Password Required",description:"Please enter your password to continue.",variant:"destructive"});return}i(!0);try{const{error:y}=await t(u.email,u.password);if(y)throw y;M({title:"Welcome back!",description:"Successfully logged in."}),e(s==="buyer"?"/buyer/dashboard":"/vendor/dashboard")}catch(y){console.error("Login failed",y),M({title:"Login Failed",description:y.message||"Invalid credentials. Please try again.",variant:"destructive"})}finally{i(!1)}},x=async()=>{l(!0);try{const{error:w}=await j.functions.invoke("reseed-users");if(w)throw w;M({title:"Success",description:"Database reset to original 7 demo users."}),d(!1),p(s)}catch(w){M({title:"Error",description:w.message,variant:"destructive"})}finally{l(!1)}};return r.jsxs("div",{className:"min-h-screen flex",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-slate-900 relative flex-col justify-between p-12 text-white overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 opacity-90"}),r.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(255,255,255,0.15) 1px, transparent 0)",backgroundSize:"24px 24px"}}),r.jsx("div",{className:"relative z-10",children:r.jsx(re,{to:"/",children:r.jsx(_r,{className:"h-8 brightness-0 invert",showTagline:!0,variant:"light"})})}),r.jsxs("div",{className:"relative z-10 max-w-xl",children:[r.jsxs("h1",{className:"text-5xl font-bold leading-tight mb-6",children:["The Gateway to ",r.jsx("br",{}),r.jsx("span",{className:"text-blue-400",children:"Global Trade"})]}),r.jsx("p",{className:"text-lg text-slate-300 leading-relaxed mb-8",children:"Join millions of businesses on India's most trusted B2B marketplace. Connect, trade, and grow your network today with secure payments and verified partners."}),r.jsxs("div",{className:"flex gap-12 mt-12 border-t border-slate-700 pt-8",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold text-white mb-1",children:"5M+"}),r.jsx("div",{className:"text-sm text-slate-400 uppercase tracking-wide font-medium",children:"Verified Suppliers"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold text-white mb-1",children:"20M+"}),r.jsx("div",{className:"text-sm text-slate-400 uppercase tracking-wide font-medium",children:"Products Listed"})]})]})]}),r.jsxs("div",{className:"relative z-10 flex justify-between items-center text-xs text-slate-500",children:[r.jsx("p",{children:" 2024 IndianTradeMart. All rights reserved."}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("span",{className:"hover:text-slate-300 cursor-pointer",children:"Privacy"}),r.jsx("span",{className:"hover:text-slate-300 cursor-pointer",children:"Terms"})]})]})]}),r.jsx("div",{className:"flex-1 flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-20 xl:px-24 bg-white",children:r.jsxs("div",{className:"mx-auto w-full max-w-sm lg:w-96",children:[r.jsxs("div",{className:"mb-10",children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Welcome Back"}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Please sign in to your account to continue"})]}),r.jsxs("div",{className:"bg-slate-100 p-1 rounded-lg flex mb-8",children:[r.jsxs("button",{onClick:()=>p("buyer"),className:`flex-1 flex items-center justify-center py-2.5 text-sm font-medium rounded-md transition-all ${s==="buyer"?"bg-white text-blue-700 shadow-sm border border-slate-200":"text-slate-500 hover:text-slate-900"}`,children:[r.jsx(I1,{className:"w-4 h-4 mr-2"}),"Buyer"]}),r.jsxs("button",{onClick:()=>p("seller"),className:`flex-1 flex items-center justify-center py-2.5 text-sm font-medium rounded-md transition-all ${s==="seller"?"bg-white text-blue-700 shadow-sm border border-slate-200":"text-slate-500 hover:text-slate-900"}`,children:[r.jsx(UI,{className:"w-4 h-4 mr-2"}),"Supplier"]})]}),r.jsxs("form",{className:"space-y-6",onSubmit:g,children:[r.jsxs("div",{children:[r.jsx(U,{htmlFor:"email",className:"text-slate-700",children:"Email or Mobile Number"}),r.jsx(H,{id:"email",name:"email",type:"email",required:!0,className:"mt-1 h-11 bg-white border-slate-300 focus:border-blue-500 focus:ring-blue-500",value:u.email,onChange:f,placeholder:"name@example.com"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx(U,{htmlFor:"password",className:"text-slate-700",children:"Password"}),r.jsx(re,{to:`/auth/forgot-password?role=${s==="buyer"?"BUYER":"VENDOR"}`,className:"text-xs font-medium text-blue-600 hover:text-blue-800",children:"Forgot password?"})]}),r.jsx(H,{id:"password",name:"password",type:"password",required:!0,className:"h-11 bg-white border-slate-300 focus:border-blue-500 focus:ring-blue-500",value:u.password,onChange:f,placeholder:"Enter your password"})]}),r.jsx("div",{children:r.jsxs(V,{type:"submit",className:"w-full h-11 bg-blue-700 hover:bg-blue-800 text-lg shadow-md hover:shadow-lg transition-all",disabled:a,children:[a?r.jsx(pe,{className:"mr-2 h-5 w-5 animate-spin"}):null,a?"Signing In...":"Sign In"]})})]}),r.jsx("div",{className:"mt-8 text-center",children:r.jsxs("p",{className:"text-sm text-slate-600",children:["New to IndianTradeMart?"," ",r.jsx(re,{to:s==="buyer"?"/buyer/register":"/vendor/register",className:"font-bold text-blue-700 hover:text-blue-900",children:"Create Account"})]})}),r.jsx("div",{className:"mt-12 pt-6 border-t border-slate-100 flex justify-center opacity-50 hover:opacity-100 transition-opacity",children:r.jsxs(Rz,{open:c,onOpenChange:d,children:[r.jsx(Iz,{asChild:!0,children:r.jsxs("button",{className:"flex items-center text-xs text-slate-400 hover:text-red-500 transition-colors",children:[r.jsx(Pa,{className:"w-3 h-3 mr-1"}),"Reset Database"]})}),r.jsxs(vA,{children:[r.jsx(yA,{children:"Reset Database?"}),r.jsx(wA,{children:"This will delete all current data and reset to the original 7 demo users."}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx(jA,{children:"Cancel"}),r.jsxs(bA,{onClick:x,disabled:o,children:[o?r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Reset"]})]})]})]})})]})})]})},Lz=({className:e=""})=>{const[t,s]=m.useState(""),[n,a]=m.useState(""),i=Ue(),o=l=>{l.preventDefault(),t.trim()&&i(`/search?q=${encodeURIComponent(t)}&city=${encodeURIComponent(n)}`)};return r.jsxs(Dt.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},onSubmit:o,className:`bg-white rounded-lg shadow-lg p-2 flex flex-col md:flex-row gap-2 ${e}`,children:[r.jsxs("div",{className:"flex-1 flex items-center gap-2 px-4 py-2 border-b md:border-b-0 md:border-r border-neutral-200",children:[r.jsx(Et,{className:"h-5 w-5 text-neutral-400 flex-shrink-0"}),r.jsx("input",{type:"text",placeholder:"Search products or services...",value:t,onChange:l=>s(l.target.value),className:"flex-1 outline-none text-neutral-700 placeholder:text-neutral-400"})]}),r.jsxs("div",{className:"flex-1 flex items-center gap-2 px-4 py-2",children:[r.jsx(kt,{className:"h-5 w-5 text-neutral-400 flex-shrink-0"}),r.jsx("input",{type:"text",placeholder:"Enter city name...",value:n,onChange:l=>a(l.target.value),className:"flex-1 outline-none text-neutral-700 placeholder:text-neutral-400"})]}),r.jsx(V,{type:"submit",className:"bg-[#00A699] hover:bg-[#00857A] text-white px-8 py-6 rounded-md",children:"Search"})]})},Fz=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const o=await XP.getFeaturedVendors();t(o||[])}catch(o){console.error("Failed to fetch vendors:",o)}finally{n(!1)}})()},[]);const a=e;return r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"All Vendors"}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx(Lz,{placeholder:"Search vendors...",className:"flex-1"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("select",{className:"border rounded-md px-3 py-2 bg-white",children:r.jsx("option",{children:"All States"})}),r.jsx("select",{className:"border rounded-md px-3 py-2 bg-white",children:r.jsx("option",{children:"All Cities"})})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(i=>r.jsx(Te,{className:"hover:shadow-lg transition-shadow",children:r.jsxs(Te.Content,{className:"p-0",children:[r.jsxs("div",{className:"h-40 bg-gray-100 relative",children:[r.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover",src:"https://images.unsplash.com/photo-1597250738215-0ebba267df2f"}),i.verified&&r.jsxs("span",{className:"absolute top-2 right-2 bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full flex items-center",children:[r.jsx($r,{className:"w-3 h-3 mr-1"})," Verified"]})]}),r.jsxs("div",{className:"p-5",children:[r.jsx("h3",{className:"font-bold text-lg mb-1",children:i.name}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[r.jsx(kt,{className:"w-4 h-4 mr-1"})," ",i.city||"Mumbai",", ",i.state||"Maharashtra"]}),r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsxs("div",{className:"flex items-center bg-yellow-100 px-2 py-0.5 rounded text-xs font-bold text-yellow-800",children:[r.jsx(br,{className:"w-3 h-3 mr-1 fill-yellow-800"})," ",i.rating]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",i.reviews," Reviews)"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:i.description||"Leading supplier of industrial goods and machinery."}),r.jsx(V,{variant:"outline",className:"w-full",children:"View Profile"})]})]})},i.id))})]})};function Qo({className:e,...t}){return r.jsx("div",{className:le("animate-pulse rounded-md bg-gray-200",e),...t})}const hp=[{id:"1",company_name:"Aggarwal Enterprises",name:"Rajesh Aggarwal",city:"New Delhi",state:"Delhi",rating:4.5,reviews:124,verified:!0,description:"Leading supplier of industrial construction materials with over 20 years of experience. We specialize in steel, cement, and safety equipment.",phone:"+91-9876543210",email:"contact@aggarwal.com",address:"Plot 45, Okhla Industrial Area, Phase III",established:"1998"},{id:"2",company_name:"Tech Solutions Pvt Ltd",city:"Mumbai",state:"Maharashtra",verified:!0,rating:4.8,reviews:89}],Vz=e=>{if(!e)return"+91-XXXXXXXXXX";const t=e.replace(/\D/g,"");return t.length<4?"+91-XXXXXXXXXX":"+91"+t.slice(0,2)+"XXXXXXXX"+t.slice(-2)},qz=()=>{var v;const{vendorId:e}=Wr(),t=Ue(),[s]=lc(),{user:n,userRole:a}=es(),i=a==="BUYER"&&!!n,[o,l]=m.useState(null),[c,d]=m.useState([]),[u,h]=m.useState([]),[p,f]=m.useState(!0),[g,x]=m.useState(s.get("tab")||"products");if(m.useEffect(()=>{e&&(async()=>{f(!0);try{const{data:N,error:k}=await j.from("vendors").select("*").eq("id",e).single();if(k&&k.code!=="PGRST116")throw k;if(N){l({id:N.id,company_name:N.company_name,name:N.owner_name||N.first_name,city:N.city,state:N.state,rating:N.seller_rating||4,reviews:0,verified:N.verification_badge||N.is_verified||!1,description:N.primary_business_type||"Established business",phone:N.phone||"+91-XXXXXXXXXX",address:N.registered_address||N.address||"Address available on request",established:N.year_of_establishment||"2020",gst:N.gst_number,email:N.email,website:N.website_url,profile_image:N.profile_image});const{data:T,error:A}=await j.from("products").select("id, name, price, price_unit, images, category_other").eq("vendor_id",N.id).eq("status","ACTIVE").limit(8);A&&console.error("Error fetching products:",A),T&&T.length>0?d(T.map(_=>({id:_.id,name:_.name,price:`${_.price}${_.price_unit?" / "+_.price_unit:""}`,category:_.category_other||"General",image:_.images&&Array.isArray(_.images)&&_.images[0]||(_.images&&typeof _.images=="string"?_.images:"https://images.unsplash.com/photo-1552664730-d307ca884978?auto=format&fit=crop&w=300&q=80")}))):d([])}else l(hp[0]),d([])}catch(N){console.error("Vendor fetch failed",N),l(hp[0]),d([])}finally{f(!1)}})()},[e]),m.useEffect(()=>{(async()=>{if(!(!i||!(n!=null&&n.id)))try{const{data:N,error:k}=await j.from("leads").select("*").eq("vendor_id",e);!k&&N&&h(N)}catch(N){console.error("Error loading leads:",N)}})()},[e,i,n]),p)return r.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[r.jsx(Qo,{className:"h-64 w-full rounded-xl"}),r.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[r.jsx(Qo,{className:"h-48 w-full rounded-xl"}),r.jsx(Qo,{className:"h-48 w-full rounded-xl"}),r.jsx(Qo,{className:"h-48 w-full rounded-xl"}),r.jsx(Qo,{className:"h-48 w-full rounded-xl"})]})]});const w=o||hp[0],y=c;return r.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl font-sans",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:[r.jsx("div",{className:"bg-[#003D82] h-24 w-full"}),r.jsx("div",{className:"px-8 pb-8",children:r.jsxs("div",{className:"relative flex flex-col md:flex-row justify-between items-start -mt-10",children:[r.jsxs("div",{className:"flex gap-6 items-end",children:[r.jsx("div",{className:"h-24 w-24 rounded-lg bg-white p-1 shadow-md border border-gray-100 overflow-hidden",children:w.profile_image?r.jsx("img",{src:w.profile_image,alt:w.company_name,className:"h-full w-full object-cover rounded"}):r.jsx("div",{className:"h-full w-full bg-gray-100 rounded flex items-center justify-center text-2xl font-bold text-[#003D82]",children:((v=w.company_name)==null?void 0:v.charAt(0))||"V"})}),r.jsxs("div",{className:"pb-1",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[w.company_name||"Company Name",w.verified&&r.jsx(j1,{className:"text-blue-500 h-6 w-6 fill-blue-50"})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(kt,{className:"h-4 w-4"})," ",w.city||"City",w.state?`, ${w.state}`:""]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(br,{className:"h-4 w-4 text-orange-400 fill-orange-400"})," ",w.rating||4," (",w.reviews||0," Reviews)"]})]})]})]}),r.jsxs("div",{className:"mt-6 md:mt-0 flex gap-3",children:[r.jsxs(V,{variant:"outline",className:"border-gray-300",children:[r.jsx(Br,{className:"h-4 w-4 mr-2"})," View Number"]}),r.jsxs(V,{className:"bg-[#00A699] hover:bg-[#008c81]",onClick:()=>{t(i?`/buyer/proposals/new?vendorId=${w.id}&vendorName=${encodeURIComponent(w.company_name)}`:"/buyer/login")},children:[r.jsx(ei,{className:"h-4 w-4 mr-2"})," Send Enquiry"]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2 space-y-8",children:r.jsxs(oi,{value:g,onValueChange:x,children:[r.jsxs(ma,{className:"w-full justify-start border-b rounded-none p-0 h-auto bg-transparent gap-6",children:[r.jsx(Rt,{value:"products",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-[#00A699] data-[state=active]:shadow-none px-4 py-3 text-base",children:"Products"}),r.jsx(Rt,{value:"about",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-[#00A699] data-[state=active]:shadow-none px-4 py-3 text-base",children:"About Company"}),i&&r.jsxs(Rt,{value:"my-leads",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-[#00A699] data-[state=active]:shadow-none px-4 py-3 text-base",children:[r.jsx(qr,{className:"w-4 h-4 mr-2"}),"My Leads"]}),r.jsx(Rt,{value:"reviews",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-[#00A699] data-[state=active]:shadow-none px-4 py-3 text-base",children:"Reviews"})]}),r.jsx(vt,{value:"products",className:"pt-6",children:y&&y.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:y.map(b=>r.jsxs(Te,{className:"overflow-hidden hover:shadow-md transition-shadow group cursor-pointer",children:[r.jsx("div",{className:"h-48 bg-gray-100 relative overflow-hidden",children:r.jsx("img",{src:b.image,alt:b.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),r.jsxs(Te.Content,{className:"p-4",children:[r.jsx(tc,{variant:"outline",className:"mb-2",children:b.category}),r.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-1",children:b.name}),r.jsxs("div",{className:"flex justify-between items-center mt-2",children:[r.jsx("span",{className:"font-bold text-[#003D82] text-lg",children:b.price}),r.jsx(V,{size:"sm",variant:"secondary",className:"h-8",children:"Enquire"})]})]})]},b.id))}):r.jsx(Te,{children:r.jsx(Te.Content,{className:"p-6 text-center text-gray-500",children:r.jsxs("div",{className:"flex flex-col items-center gap-3",children:[r.jsx(T0,{className:"h-12 w-12 text-gray-300"}),r.jsx("p",{children:"No products available yet"})]})})})}),r.jsx(vt,{value:"about",className:"pt-6",children:r.jsx(Te,{children:r.jsxs(Te.Content,{className:"p-6",children:[r.jsxs("h3",{className:"text-xl font-bold mb-4",children:["About ",w.company_name]}),r.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:w.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Business Type"}),r.jsx("p",{className:"font-medium",children:w.primary_business_type||"Manufacturer, Supplier"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Established"}),r.jsx("p",{className:"font-medium",children:w.established||"2010"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"GST Number"}),r.jsx("p",{className:"font-medium",children:w.gst||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Website"}),r.jsx("p",{className:"font-medium text-blue-600 truncate",children:w.website?r.jsx("a",{href:w.website,target:"_blank",rel:"noopener noreferrer",children:"Visit"}):"N/A"})]})]})]})})}),r.jsx(vt,{value:"my-leads",className:"pt-6",children:r.jsx(Te,{children:r.jsx(Te.Content,{className:"p-6",children:u.length===0?r.jsxs("div",{className:"text-center text-gray-500 py-8",children:[r.jsx(qr,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),r.jsx("p",{children:"No leads submitted yet"})]}):r.jsx("div",{className:"space-y-4",children:u.map(b=>r.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:b.title}),r.jsx(tc,{className:`${b.status==="AVAILABLE"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b.status})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:b.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-500",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Category:"})," ",b.category]}),b.budget&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Budget:"})," ",b.budget]})]}),r.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Created: ",new Date(b.created_at).toLocaleDateString()]})]},b.id))})})})}),r.jsx(vt,{value:"reviews",className:"pt-6",children:r.jsx(Te,{children:r.jsxs(Te.Content,{className:"p-6 text-center text-gray-500",children:[r.jsx(br,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),r.jsx("p",{children:"No detailed reviews available yet."})]})})})]})}),r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsx(Te,{children:r.jsxs(Te.Content,{className:"p-6 space-y-4",children:[r.jsx("h3",{className:"font-bold text-gray-900 border-b pb-2",children:"Contact Details"}),r.jsxs("div",{className:"flex gap-3 items-start",children:[r.jsx("div",{className:"bg-blue-50 p-2 rounded-lg",children:r.jsx(ti,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Contact Person"}),r.jsx("p",{className:"font-medium",children:w.name||"Contact"})]})]}),r.jsxs("div",{className:"flex gap-3 items-start",children:[r.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:r.jsx(Br,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Mobile Number"}),r.jsx("p",{className:"font-medium text-green-700",children:w.phone?Vz(w.phone):"+91-XXXXXXXXXX"})]})]}),r.jsxs("div",{className:"flex gap-3 items-start",children:[r.jsx("div",{className:"bg-purple-50 p-2 rounded-lg",children:r.jsx(vI,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Address"}),r.jsx("p",{className:"font-medium text-sm",children:w.address||"Address"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[w.city||"City",", ",w.state||"State"]})]})]}),w.website&&r.jsxs("div",{className:"flex gap-3 items-start",children:[r.jsx("div",{className:"bg-cyan-50 p-2 rounded-lg",children:r.jsx(T0,{className:"h-5 w-5 text-cyan-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Website"}),r.jsx("a",{href:w.website,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-cyan-600 hover:text-cyan-700 text-sm break-all",children:w.website.replace(/^https?:\/\/(www\.)?/,"")})]})]}),r.jsx("div",{className:"pt-2",children:r.jsx(V,{className:"w-full bg-[#003D82]",children:"Contact Supplier"})})]})}),r.jsx(Te,{className:"bg-gradient-to-br from-indigo-50 to-white border-indigo-100",children:r.jsxs(Te.Content,{className:"p-6",children:[r.jsx("h3",{className:"font-bold text-indigo-900 mb-2",children:"Safe Trading Guide"}),r.jsxs("ul",{className:"text-sm text-indigo-800 space-y-2 list-disc pl-4",children:[r.jsx("li",{children:"Check verified badge before dealing"}),r.jsx("li",{children:"Always communicate via portal"}),r.jsx("li",{children:"Never pay to personal bank accounts"})]})]})})]})]})]})},Bz=()=>{const e=[{id:1,title:"IndianTradeMart Launches New B2B Platform",date:"January 15, 2025",author:"Communications Team",excerpt:"Revolutionary B2B marketplace connecting verified buyers and suppliers across India.",content:"We are thrilled to announce the launch of our new B2B marketplace..."},{id:2,title:"Partnership with Leading Industry Bodies",date:"January 10, 2025",author:"Communications Team",excerpt:"Strategic partnerships with major industry associations.",content:"Our platform has partnered with leading industry bodies..."},{id:3,title:"Record Growth in Supplier Network",date:"January 5, 2025",author:"Communications Team",excerpt:"50,000+ suppliers now registered on our platform.",content:"We are proud to announce that our supplier network has grown..."}];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx($I,{className:"w-8 h-8"}),r.jsx("h1",{className:"text-4xl font-bold",children:"Press Section"})]}),r.jsx("p",{className:"text-xl text-blue-100",children:"Latest news and updates about IndianTradeMart"})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx("div",{className:"space-y-8",children:e.map(t=>r.jsxs("article",{className:"bg-white rounded-lg shadow-sm p-8 hover:shadow-lg transition-shadow",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:t.title}),r.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-500 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Oa,{className:"w-4 h-4"}),t.date]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ti,{className:"w-4 h-4"}),t.author]})]}),r.jsx("p",{className:"text-gray-700 mb-4",children:t.excerpt}),r.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-semibold",children:"Read More "})]},t.id))})}),r.jsx("div",{children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-4",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Press Contacts"}),r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Media Relations"}),r.jsx("p",{className:"text-gray-600",children:"press@indiantrademart.com"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Phone"}),r.jsx("p",{className:"text-gray-600",children:"+91 XXXX-XXXX-XXX"})]}),r.jsx("div",{className:"border-t pt-4 mt-4",children:r.jsx("p",{className:"text-gray-600 text-xs",children:"For media inquiries, please contact our press office with relevant details about your story."})})]})]})})]})})]})},$z=()=>r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(ca,{className:"w-8 h-8"}),r.jsx("h1",{className:"text-4xl font-bold",children:"Investor Relations"})]}),r.jsx("p",{className:"text-xl text-blue-100",children:"Information for our investors and stakeholders"})]})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(hx,{className:"w-6 h-6 text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold",children:"Financial Reports"})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Access our latest financial statements and reports"}),r.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Download Reports"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Qt,{className:"w-6 h-6 text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold",children:"Governance"})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Corporate governance policies and documents"}),r.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Learn More"})]})]}),r.jsxs("div",{className:"mt-12 bg-white rounded-lg shadow-sm p-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Contact Investor Relations"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Email"}),r.jsx("p",{className:"text-gray-600",children:"investors@indiantrademart.com"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Phone"}),r.jsx("p",{className:"text-gray-600",children:"+91 XXXX-XXXX-XXX"})]})]})]})]})]}),Uz=async e=>{try{const{data:t,error:s}=await j.from("contact_submissions").insert([{name:e.name,email:e.email,phone:e.phone||null,message:e.message,status:"new"}]).select();if(s)throw s;return t}catch(t){throw console.error("Error submitting contact form:",t),t}},zz=()=>r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Join Our Sales Team"}),r.jsx("p",{className:"text-xl text-blue-100",children:"Become a partner and grow with us"})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-2xl bg-white rounded-lg shadow-sm p-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sales Partnership Opportunities"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"We are looking for motivated professionals to join our sales team."}),r.jsx("button",{className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700",children:"Apply Now"})]})})]}),Hz=()=>r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Success Stories"}),r.jsx("p",{className:"text-xl text-blue-100",children:"Learn how businesses succeed with IndianTradeMart"})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[1,2,3,4].map(e=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-lg transition",children:[r.jsxs("h3",{className:"text-xl font-bold mb-2",children:["Success Story ",e]}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["Learn how Company ",e," achieved 300% growth using our platform..."]}),r.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-semibold",children:"Read Full Story "})]},e))})})]}),Wz=()=>r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Help Center"}),r.jsx("p",{className:"text-xl text-blue-100",children:"Find answers to your questions"})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["Getting Started","Account Management","Buying","Selling","Payments","Shipping"].map((e,t)=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-3",children:e}),r.jsxs("ul",{className:"space-y-2 text-gray-600",children:[r.jsx("li",{children:" How to..."}),r.jsx("li",{children:" Best practices"}),r.jsx("li",{children:" FAQ"})]})]},t))})})]}),Kz=()=>r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Customer Care"}),r.jsx("p",{className:"text-xl text-blue-100",children:"Your satisfaction is our priority. Get in touch with our dedicated customer care team."})]})}),r.jsxs("main",{className:"container mx-auto px-4 py-12",children:[r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Br,{className:"text-blue-600 mt-1 flex-shrink-0",size:24}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Call us"}),r.jsx("p",{className:"text-gray-700",children:"+91 7290010051"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(sr,{className:"text-blue-600 mt-1 flex-shrink-0",size:24}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Email us"}),r.jsx("p",{className:"text-gray-700",children:"support@indiantrademart.com"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(kt,{className:"text-blue-600 mt-1 flex-shrink-0",size:24}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Visit us"}),r.jsx("p",{className:"text-gray-700",children:"672, White House, Behind- MCD School, MG Road, Ghitorni, New Delhi, Delhi 110030"})]})]})})]})]}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"FAQs"}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8",children:r.jsx("div",{className:"space-y-6",children:["How do I create an account?","How do I place an order?","What is your return policy?","How long does delivery take?"].map((e,t)=>r.jsxs("div",{className:"border-b pb-4 last:border-0",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e}),r.jsx("p",{className:"text-gray-600",children:"Find detailed answers to this question in our knowledge base."})]},t))})})]}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Support Options"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Submit a Ticket"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Get in touch with our support team for detailed assistance."}),r.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Submit Ticket"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Live Chat"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Chat with our support representatives in real-time."}),r.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Start Chat"})]})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Give Us Feedback"}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[r.jsx("p",{className:"text-gray-600 mb-6",children:"We value your feedback. Let us know how we can improve our services."}),r.jsx("button",{className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700",children:"Share Feedback"})]})]})]})]}),Gz=()=>r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Complaints & Grievances"}),r.jsx("p",{className:"text-xl text-blue-100",children:"Your satisfaction is our priority"})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-2xl mx-auto",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"File a Complaint"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"We take complaints seriously. Let us know how we can improve."}),r.jsx("button",{className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700",children:"File Complaint"})]})})]}),Yz=()=>r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Jobs & Careers"}),r.jsx("p",{className:"text-xl text-blue-100",children:"Join our growing team"})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["Software Engineer","Sales Manager","Business Analyst","Marketing Executive"].map((e,t)=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-2",children:e}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Location: India"}),r.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-semibold",children:"Apply Now "})]},t))})})]}),Xz=()=>{const[e,t]=m.useState({firstName:"",lastName:"",email:"",phone:"",subject:"",message:""}),[s,n]=m.useState(!1),[a,i]=m.useState(""),[o,l]=m.useState(""),c=u=>{const{name:h,value:p}=u.target;t(f=>({...f,[h]:p}))},d=async u=>{u.preventDefault(),n(!0),l(""),i("");try{if(!e.firstName||!e.email||!e.message)throw new Error("Please fill in all required fields (First Name, Email, Message)");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))throw new Error("Please enter a valid email address");const p=`${e.firstName} ${e.lastName}`.trim();await Uz({name:p,email:e.email,phone:e.phone,message:`Subject: ${e.subject||"No Subject"}

${e.message}`}),i("Thank you! Your message has been sent successfully. We will get back to you soon."),t({firstName:"",lastName:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>i(""),5e3)}catch(h){l(h.message||"Failed to send message. Please try again."),console.error("Contact form error:",h)}finally{n(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Contact Us"}),r.jsx("p",{className:"text-xl text-blue-100",children:"We'd love to hear from you. Get in touch with our team anytime."})]})}),r.jsx("main",{className:"container mx-auto px-4 py-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Get in Touch"}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Contact Information"}),r.jsx("p",{className:"text-gray-700 mb-8",children:"Have questions or need assistance? We're here to help! Reach out to us through any of the following channels:"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(sr,{className:"text-blue-600 mt-1 flex-shrink-0",size:20}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Email Support"}),r.jsx("p",{className:"text-gray-700",children:"support@indiantrademart.com"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(Br,{className:"text-blue-600 mt-1 flex-shrink-0",size:20}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Phone Support"}),r.jsx("p",{className:"text-gray-700",children:"+91 7290010051"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(kt,{className:"text-blue-600 mt-1 flex-shrink-0",size:20}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Office Address"}),r.jsxs("p",{className:"text-gray-700",children:["Indian Trade Mart Pvt. Ltd.",r.jsx("br",{}),"672, White House, Behind- MCD School, MG Road",r.jsx("br",{}),"Ghitorni, New Delhi, Delhi 110030"]})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(dc,{className:"text-blue-600 mt-1 flex-shrink-0",size:20}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Business Hours"}),r.jsxs("p",{className:"text-gray-700",children:["Monday - Friday: 9:00 AM - 6:00 PM",r.jsx("br",{}),"Saturday: 10:00 AM - 4:00 PM",r.jsx("br",{}),"Sunday: Closed"]})]})]})]}),r.jsxs("div",{className:"mt-8 bg-gray-50 p-6 rounded-lg",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Department Contacts"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"General Information:"}),r.jsx("span",{className:"text-gray-900",children:"info@indiantrademart.com"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"Customer Care:"}),r.jsx("span",{className:"text-gray-900",children:"customercare@indiantrademart.com"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"Business Development:"}),r.jsx("span",{className:"text-gray-900",children:"bd@indiantrademart.com"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"HR Department:"}),r.jsx("span",{className:"text-gray-900",children:"hr@indiantrademart.com"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Send us a Message"}),a&&r.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:r.jsx("p",{className:"text-green-800 font-medium",children:a})}),o&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-800 font-medium",children:o})}),r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),r.jsx("input",{type:"text",name:"firstName",value:e.firstName,onChange:c,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"Your first name",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",name:"lastName",value:e.lastName,onChange:c,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"Your last name"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),r.jsx("input",{type:"email",name:"email",value:e.email,onChange:c,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"your.email@example.com",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:c,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"+91 7290010051"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),r.jsx("input",{type:"text",name:"subject",value:e.subject,onChange:c,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"Subject of your message"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),r.jsx("textarea",{name:"message",value:e.message,onChange:c,rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"Please describe your inquiry in detail...",required:!0})]}),r.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx(qI,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):"Send Message"})]})]})]})]})})]})},Jz=()=>r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Latest Buy Leads"}),r.jsx("p",{className:"text-xl text-blue-100",children:"Hot opportunities from verified buyers"})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[r.jsx("p",{className:"text-gray-600 mb-6",children:"View real-time buy leads from verified buyers across India."}),r.jsx("button",{className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700",children:"Browse Buy Leads"})]})})]}),Qz=()=>r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Learning Centre"}),r.jsx("p",{className:"text-xl text-blue-100",children:"Master the skills to succeed"})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["Getting Started","Sales Strategies","Digital Marketing"].map((e,t)=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-2",children:e}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Learn from industry experts"}),r.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-semibold",children:"Enroll Now "})]},t))})})]}),Zz=()=>{const[e,t]=m.useState(""),[s,n]=m.useState("All Categories"),[a,i]=m.useState("All Locations"),o=[{id:1,name:"Industrial Steel Pipes",category:"Steel & Metal",description:"High-quality industrial grade steel pipes for construction and manufacturing",price:"85/kg",minOrder:"500 kg",supplier:"MetalCorp Industries",location:"Mumbai, Maharashtra",rating:4.8,reviews:245,verified:!0,features:["IS 3589 Certified","Multiple Sizes","Bulk Orders","Fast Delivery"],inStock:!0},{id:2,name:"Organic Cotton Fabric",category:"Textiles",description:"Premium organic cotton fabric for garment manufacturing",price:"180/meter",minOrder:"1000 meters",supplier:"EcoTextiles Ltd",location:"Bangalore, Karnataka",rating:4.9,reviews:189,verified:!0,features:["GOTS Certified","Sustainable","Various Colors","Premium Quality"],inStock:!0},{id:3,name:"LED Components Kit",category:"Electronics",description:"Complete LED components kit for lighting manufacturers",price:"45/piece",minOrder:"5000 pieces",supplier:"TechLED Solutions",location:"Pune, Maharashtra",rating:4.7,reviews:156,verified:!0,features:["High Efficiency","Long Lifespan","Multiple Variants","Technical Support"],inStock:!0},{id:4,name:"Food Grade Packaging",category:"Packaging",description:"FDA approved food grade packaging materials",price:"12/unit",minOrder:"10000 units",supplier:"SafePack Industries",location:"Delhi, NCR",rating:4.6,reviews:298,verified:!0,features:["FDA Approved","Eco-Friendly","Custom Sizes","Bulk Pricing"],inStock:!0},{id:5,name:"Pharmaceutical Raw Materials",category:"Pharmaceuticals",description:"High purity pharmaceutical raw materials and APIs",price:"2,500/kg",minOrder:"25 kg",supplier:"PharmaChem Corp",location:"Hyderabad, Telangana",rating:4.9,reviews:134,verified:!0,features:["WHO GMP","COA Provided","High Purity","Regulatory Compliance"],inStock:!0},{id:6,name:"Solar Panel Components",category:"Solar Equipment",description:"Complete solar panel components for renewable energy projects",price:"25/watt",minOrder:"1000 watts",supplier:"SolarTech Energy",location:"Jaipur, Rajasthan",rating:4.8,reviews:167,verified:!0,features:["High Efficiency","25 Year Warranty","Certified","Installation Support"],inStock:!0},{id:7,name:"Industrial Machinery Parts",category:"Machinery",description:"Precision engineered industrial machinery parts and components",price:"1,200/piece",minOrder:"100 pieces",supplier:"MechParts Industries",location:"Chennai, Tamil Nadu",rating:4.7,reviews:203,verified:!0,features:["Precision Made","Durable","Custom Orders","Technical Support"],inStock:!1},{id:8,name:"Chemical Compounds",category:"Chemicals",description:"Industrial grade chemical compounds for manufacturing",price:"350/kg",minOrder:"500 kg",supplier:"ChemCore Solutions",location:"Vadodara, Gujarat",rating:4.5,reviews:178,verified:!0,features:["High Purity","Safety Certified","Bulk Supply","Technical Data"],inStock:!0},{id:9,name:"Agricultural Equipment",category:"Agriculture",description:"Modern agricultural equipment and farming tools",price:"15,000/unit",minOrder:"10 units",supplier:"AgriTech Solutions",location:"Ludhiana, Punjab",rating:4.6,reviews:89,verified:!0,features:["Modern Design","Efficient","Warranty","Training Support"],inStock:!0}],l=["All Categories","Steel & Metal","Textiles","Electronics","Packaging","Pharmaceuticals","Solar Equipment","Machinery","Chemicals","Agriculture"],c=["All Locations","Mumbai","Delhi","Bangalore","Pune","Chennai","Hyderabad","Jaipur","Vadodara","Ludhiana"],d=o.filter(u=>{const h=u.name.toLowerCase().includes(e.toLowerCase())||u.description.toLowerCase().includes(e.toLowerCase()),p=s==="All Categories"||u.category===s,f=a==="All Locations"||u.location.includes(a);return h&&p&&f});return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Products You Buy"}),r.jsx("p",{className:"text-xl text-blue-100",children:"Discover quality products from verified suppliers across India for your business needs"})]})}),r.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Et,{className:"absolute left-3 top-3 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search products, suppliers, categories...",value:e,onChange:u=>t(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("select",{value:s,onChange:u=>n(u.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:l.map(u=>r.jsx("option",{value:u,children:u},u))}),r.jsx("select",{value:a,onChange:u=>i(u.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:c.map(u=>r.jsx("option",{value:u,children:u},u))})]})}),r.jsx("div",{className:"flex justify-between items-center mb-6",children:r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",d.length," of ",o.length," products"]})}),r.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-6",children:d.map(u=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:r.jsxs("div",{className:"text-white text-center",children:[r.jsx(Jn,{size:32,className:"mx-auto mb-2"}),r.jsx("div",{className:"text-sm font-medium",children:u.category})]})}),r.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[r.jsx("button",{className:"p-1 bg-white rounded-full shadow-md hover:bg-gray-50",children:r.jsx(E1,{size:16,className:"text-gray-600"})}),r.jsx("button",{className:"p-1 bg-white rounded-full shadow-md hover:bg-gray-50",children:r.jsx(Xn,{size:16,className:"text-gray-600"})})]}),!u.inStock&&r.jsx("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-xs",children:"Out of Stock"})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-blue-600",children:u.category}),u.verified&&r.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified"})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:u.name}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:u.description}),r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(br,{className:"text-yellow-500 mr-1",size:14}),r.jsx("span",{className:"text-sm font-medium",children:u.rating}),r.jsxs("span",{className:"text-gray-500 text-sm ml-1",children:["(",u.reviews,")"]})]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[r.jsx(kt,{className:"mr-1",size:14}),r.jsx("span",{children:u.location})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Price:"}),r.jsx("span",{className:"font-semibold text-green-600",children:u.price})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Min Order:"}),r.jsx("span",{className:"font-medium",children:u.minOrder})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[u.features.slice(0,2).map((h,p)=>r.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:h},p)),u.features.length>2&&r.jsxs("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:["+",u.features.length-2," more"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${u.inStock?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!u.inStock,children:u.inStock?"Add to Cart":"Out of Stock"}),r.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50",children:"Quote"})]})]})]},u.id))}),d.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-600 text-lg",children:"No products found matching your criteria."})})]})]})},lj=()=>r.jsx(bo,{children:r.jsxs(Y,{element:r.jsx(dz,{}),children:[r.jsx(Y,{index:!0,element:r.jsx(vz,{})}),r.jsx(Y,{path:"directory",element:r.jsx(mz,{})}),r.jsx(Y,{path:"directory/:headSlug",element:r.jsx(uz,{})}),r.jsx(Y,{path:"directory/:headSlug/:subSlug",element:r.jsx(hz,{})}),r.jsx(Y,{path:"directory/:headSlug/:subSlug/:microSlug",element:r.jsx(oj,{})}),r.jsx(Y,{path:"directory/search",element:r.jsx(oj,{})}),r.jsx(Y,{path:"search",element:r.jsx(Tt,{to:"/directory",replace:!0})}),r.jsx(Y,{path:"p/:productSlug",element:r.jsx(pz,{})}),r.jsx(Y,{path:"about-us",element:r.jsx(yz,{})}),r.jsx(Y,{path:"become-a-vendor",element:r.jsx(wz,{})}),r.jsx(Y,{path:"pricing",element:r.jsx(bz,{})}),r.jsx(Y,{path:"auth/login",element:r.jsx(Mz,{})}),r.jsx(Y,{path:"auth/forgot-password",element:r.jsx(Hv,{})}),r.jsx(Y,{path:"press",element:r.jsx(Bz,{})}),r.jsx(Y,{path:"investor",element:r.jsx($z,{})}),r.jsx(Y,{path:"join-sales",element:r.jsx(zz,{})}),r.jsx(Y,{path:"success-stories",element:r.jsx(Hz,{})}),r.jsx(Y,{path:"help",element:r.jsx(Wz,{})}),r.jsx(Y,{path:"customer-care",element:r.jsx(Kz,{})}),r.jsx(Y,{path:"complaints",element:r.jsx(Gz,{})}),r.jsx(Y,{path:"jobs",element:r.jsx(Yz,{})}),r.jsx(Y,{path:"contact",element:r.jsx(Xz,{})}),r.jsx(Y,{path:"buyleads",element:r.jsx(Jz,{})}),r.jsx(Y,{path:"learning-centre",element:r.jsx(Qz,{})}),r.jsx(Y,{path:"products",element:r.jsx(Zz,{})}),r.jsx(Y,{path:"directory/vendor",element:r.jsx(Fz,{})}),r.jsx(Y,{path:"directory/vendor/:vendorId",element:r.jsx(qz,{})})]})}),eH=()=>r.jsxs("div",{className:"min-h-screen flex flex-col bg-white font-sans",children:[r.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:r.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(re,{to:"/",className:"flex items-center space-x-2",children:[r.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white font-bold rounded-lg w-8 h-8 flex items-center justify-center",children:"C"}),r.jsxs("span",{className:"font-bold text-xl text-slate-900 hidden sm:inline-block",children:["ITM ",r.jsx("span",{className:"text-rose-500",children:"Careers"})]})]})}),r.jsxs("nav",{className:"flex items-center gap-6 text-sm font-medium",children:[r.jsx(re,{to:"/jobs",className:"transition-colors hover:text-rose-500 text-slate-600",children:"Open Roles"}),r.jsx(re,{to:"/culture",className:"transition-colors hover:text-rose-500 text-slate-600",children:"Life at ITM"}),r.jsx(re,{to:"/internships",className:"transition-colors hover:text-rose-500 text-slate-600",children:"Internships"})]})]})}),r.jsx("main",{className:"flex-1",children:r.jsx(la,{})}),r.jsx(GP,{})]}),cj=()=>r.jsxs(r.Fragment,{children:[r.jsx(Yn,{children:r.jsx("title",{children:"Careers at IndianTradeMart - Join Our Team"})}),r.jsxs("section",{className:"py-20 lg:py-32 bg-slate-900 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1522071820081-009f0129c71c?auto=format&fit=crop&q=80')] bg-cover bg-center opacity-10"}),r.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center",children:[r.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-rose-500/20 text-rose-300 text-sm font-medium mb-6 border border-rose-500/30",children:"We are hiring!"}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 tracking-tight",children:"Build the Future of B2B Trade"}),r.jsx("p",{className:"text-xl text-slate-300 max-w-2xl mx-auto mb-10",children:"Join a team of passionate innovators revolutionizing how India does business. We're looking for thinkers, doers, and dreamers."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-lg mx-auto",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Et,{className:"absolute left-3 top-3.5 h-5 w-5 text-slate-400"}),r.jsx("input",{type:"text",placeholder:"Search roles (e.g. Engineer)",className:"w-full h-12 pl-10 pr-4 rounded-lg bg-white/10 border border-white/20 text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-rose-500"})]}),r.jsx(V,{className:"h-12 bg-rose-600 hover:bg-rose-700 font-bold px-8",children:"Find Jobs"})]})]})]}),r.jsx("section",{className:"py-12 border-b border-slate-200 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:"500+"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Employees"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:"3"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Offices"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:"4.8"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Glassdoor Rating"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:"50%"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Female Workforce"})]})]})})}),r.jsx("section",{className:"py-20 bg-slate-50",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-10 text-center",children:"Current Openings"}),r.jsx("div",{className:"grid gap-4 max-w-3xl mx-auto",children:[{title:"Senior Frontend Engineer",dept:"Engineering",loc:"Remote / Bangalore"},{title:"Product Manager - Supply Chain",dept:"Product",loc:"Mumbai"},{title:"Enterprise Sales Manager",dept:"Sales",loc:"Delhi NCR"},{title:"Customer Success Executive",dept:"Support",loc:"Bangalore"}].map((e,t)=>r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 hover:border-rose-300 hover:shadow-md transition-all flex items-center justify-between group cursor-pointer",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg text-slate-900 group-hover:text-rose-600 transition-colors",children:e.title}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-slate-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ux,{className:"w-4 h-4"})," ",e.dept]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(kt,{className:"w-4 h-4"})," ",e.loc]})]})]}),r.jsx(V,{variant:"outline",className:"border-rose-200 text-rose-600 hover:bg-rose-50",children:"Apply"})]},t))}),r.jsx("div",{className:"text-center mt-10",children:r.jsx(V,{variant:"link",className:"text-rose-600 font-semibold",children:"View All 45 Openings "})})]})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:"Life at IndianTradeMart"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center text-rose-600 flex-shrink-0",children:r.jsx(vx,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Impact at Scale"}),r.jsx("p",{className:"text-slate-600",children:"Your work will directly affect millions of small businesses across India."})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 flex-shrink-0",children:r.jsx(St,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Inclusive Culture"}),r.jsx("p",{className:"text-slate-600",children:"We celebrate diversity and foster an environment where everyone belongs."})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&q=80",alt:"Office",className:"rounded-2xl mt-8 shadow-lg"}),r.jsx("img",{src:"https://images.unsplash.com/photo-1600880292203-757bb62b4baf?auto=format&fit=crop&q=80",alt:"Team",className:"rounded-2xl shadow-lg"})]})]})})})]}),dj=()=>r.jsx(bo,{children:r.jsxs(Y,{element:r.jsx(eH,{}),children:[r.jsx(Y,{index:!0,element:r.jsx(cj,{})}),r.jsx(Y,{path:"*",element:r.jsx(cj,{})})]})}),tH=()=>r.jsxs("div",{className:"min-h-screen bg-neutral-900 flex flex-col relative overflow-hidden",children:[r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none opacity-20",children:[r.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] rounded-full bg-blue-600 blur-[120px]"}),r.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] rounded-full bg-purple-600 blur-[120px]"})]}),r.jsxs("div",{className:"container mx-auto px-4 py-8 flex-1 flex flex-col",children:[r.jsxs("header",{className:"flex justify-between items-center mb-12 relative z-10",children:[r.jsx(re,{to:"/",children:r.jsxs(V,{variant:"ghost",className:"text-white hover:text-white/80 hover:bg-white/10 gap-2",children:[r.jsx(NI,{className:"h-5 w-5"}),"Back to Home"]})}),r.jsxs("div",{className:"text-white font-bold text-xl tracking-tight",children:["IndianTradeMart ",r.jsx("span",{className:"text-neutral-400 font-normal",children:"| Internal Portal"})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col md:flex-row items-center justify-center gap-8 md:gap-12 lg:gap-16 relative z-10",children:[r.jsx(uj,{title:"Management",icon:$r,color:"from-blue-500 to-blue-700",description:"Access for Administrators and HR Personnel",children:r.jsxs("div",{className:"grid gap-3 w-full",children:[r.jsx(re,{to:"/admin/login",className:"w-full",children:r.jsxs(V,{className:"w-full h-12 bg-white text-blue-900 hover:bg-blue-50 font-semibold shadow-lg transition-all hover:scale-[1.02] flex items-center justify-center gap-2",children:[r.jsx($r,{className:"h-5 w-5"})," Admin Portal"]})}),r.jsx(re,{to:"/hr/login",className:"w-full",children:r.jsxs(V,{className:"w-full h-12 bg-transparent border-2 border-white/30 text-white hover:bg-white/10 font-semibold transition-all hover:scale-[1.02] flex items-center justify-center gap-2",children:[r.jsx(St,{className:"h-5 w-5"})," HR Portal"]})})]})}),r.jsx(uj,{title:"Employee",icon:ux,color:"from-purple-500 to-purple-700",description:"Access for Staff, Support, and Sales Teams",children:r.jsxs("div",{className:"grid gap-3 w-full",children:[r.jsx(re,{to:"/employee/login",className:"w-full group",children:r.jsxs(V,{className:"w-full h-12 bg-white text-purple-900 hover:bg-purple-50 font-semibold shadow-lg transition-all hover:scale-[1.02] flex items-center justify-center gap-2",children:[r.jsx(gu,{className:"h-4 w-4"})," Data Entry"]})}),r.jsx(re,{to:"/employee/login",className:"w-full",children:r.jsxs(V,{className:"w-full h-12 bg-transparent border-2 border-white/30 text-white hover:bg-white/10 font-semibold transition-all hover:scale-[1.02] flex items-center justify-center gap-2",children:[r.jsx(k1,{className:"h-4 w-4"})," Support"]})}),r.jsx(re,{to:"/employee/login",className:"w-full",children:r.jsxs(V,{className:"w-full h-12 bg-transparent border-2 border-white/30 text-white hover:bg-white/10 font-semibold transition-all hover:scale-[1.02] flex items-center justify-center gap-2",children:[r.jsx(ca,{className:"h-4 w-4"})," Sales"]})})]})})]}),r.jsx("footer",{className:"mt-12 text-center text-neutral-500 text-sm relative z-10",children:r.jsxs("p",{children:[" ",new Date().getFullYear()," IndianTradeMart. Authorized personnel only."]})})]})]}),uj=({title:e,icon:t,color:s,description:n,children:a})=>r.jsxs(Dt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"group relative w-full max-w-sm",children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${s} rounded-2xl blur-lg opacity-20 group-hover:opacity-40 transition-opacity duration-500`}),r.jsxs("div",{className:"relative h-[420px] bg-neutral-800/50 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 group-hover:bg-neutral-800/80 group-hover:border-white/20 group-hover:translate-y-[-5px]",children:[r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-8 transition-all duration-300 group-hover:opacity-0 group-hover:scale-95 group-hover:translate-y-[-20px]",children:[r.jsx("div",{className:`w-24 h-24 rounded-full bg-gradient-to-br ${s} flex items-center justify-center mb-6 shadow-lg`,children:r.jsx(t,{className:"h-10 w-10 text-white"})}),r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:e}),r.jsx("p",{className:"text-neutral-400 text-center",children:n}),r.jsx("div",{className:"mt-8 px-4 py-2 bg-white/5 rounded-full text-xs text-neutral-400 border border-white/10",children:"Hover to access login options"})]}),r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-8 opacity-0 translate-y-[20px] scale-105 transition-all duration-300 group-hover:opacity-100 group-hover:translate-y-0 group-hover:scale-100 bg-black/40",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Select Role"}),a]})]})]}),sH=async(e=50)=>{try{console.log(" Starting batch product slug migration...");let t=0,s=0,n=0;for(;;){const{data:a,error:i}=await j.from("products").select("id, name").or('slug.is.null,slug.eq.""').range(n,n+e-1);if(i)throw i;if(!a||a.length===0)break;const o=a.map(l=>({id:l.id,slug:yE(l.name)}));for(const l of o)try{const{error:c}=await j.from("products").update({slug:l.slug}).eq("id",l.id);c?(s++,console.error(` Failed product ${l.id}:`,c)):t++}catch(c){s++,console.error(` Error updating ${l.id}:`,c)}n+=e,console.log(` Progress: ${t} updated, ${s} failed`)}return console.log(`
 Batch migration complete!`),console.log(` Total Updated: ${t}`),console.log(` Total Failed: ${s}`),{success:!0,updated:t,failed:s}}catch(t){throw console.error("Batch migration failed:",t),t}},rH=()=>{const[e,t]=m.useState([]),[s,n]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState({}),[c,d]=m.useState({total:0,migrated:0,pending:0,failed:0});m.useEffect(()=>{u()},[]);const u=async()=>{n(!0);try{const{data:g,error:x}=await j.from("vendors").select("id, email, owner_name, company_name, phone, vendor_id").order("created_at",{ascending:!1});if(x)throw x;t(g||[]);const w=(g||[]).filter(v=>v.vendor_id&&v.vendor_id.includes("-V-")).length,y=(g||[]).filter(v=>!v.vendor_id||!v.vendor_id.includes("-V-")).length;d({total:(g==null?void 0:g.length)||0,migrated:w,pending:y,failed:0}),M({title:"Vendors Loaded",description:`Found ${(g==null?void 0:g.length)||0} vendors (${w} migrated, ${y} pending)`})}catch(g){console.error("Error loading vendors:",g),M({title:"Error",description:g.message,variant:"destructive"})}finally{n(!1)}},h=(g="",x="",w="")=>{let y=g.toUpperCase().replace(/[^A-Z]/g,"").slice(0,4).padEnd(4,"X"),v=x.toUpperCase().replace(/[^A-Z]/g,"").slice(0,4).padEnd(4,"Z"),b=w?w.replace(/\D/g,"").slice(-2).padStart(2,"0"):Math.floor(Math.random()*100).toString().padStart(2,"0");const N=Math.floor(Math.random()*100).toString().padStart(2,"0");return`${y}-V-${v}-${b}${N}`},p=async g=>{try{if(l(b=>({...b,[g.id]:{status:"processing",message:"Generating vendor ID..."}})),g.vendor_id&&g.vendor_id.includes("-V-")){l(b=>({...b,[g.id]:{status:"skipped",message:"Already migrated"}}));return}let x=h(g.owner_name,g.company_name,g.phone),w=0,y=!1;for(;!y&&w<10;){const{data:b}=await j.from("vendors").select("id").eq("vendor_id",x).maybeSingle();b?(x=h(g.owner_name,g.company_name,g.phone),w++):y=!0}if(!y)throw new Error("Could not generate unique vendor ID after 10 attempts");l(b=>({...b,[g.id]:{status:"processing",message:`Generated: ${x}`}}));const{error:v}=await j.from("vendors").update({vendor_id:x}).eq("id",g.id);if(v)throw v;l(b=>({...b,[g.id]:{status:"success",message:`ID: ${x}`}})),t(b=>b.map(N=>N.id===g.id?{...N,vendor_id:x}:N))}catch(x){console.error(`Error migrating vendor ${g.id}:`,x),l(w=>({...w,[g.id]:{status:"error",message:x.message}}))}},f=async()=>{i(!0);let g=0,x=0;const w={};try{const y=e.filter(v=>!v.vendor_id||!v.vendor_id.includes("-V-"));if(y.length===0){M({title:"Info",description:"All vendors are already migrated!"}),i(!1);return}M({title:"Migration Started",description:`Migrating ${y.length} vendors...`});for(const v of y){try{l(T=>({...T,[v.id]:{status:"processing",message:"Calling backend..."}}));const b=await fetch("http://localhost:3001/api/migration/vendor-ids/migrate-single",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vendorId:v.id})}),N=await b.json();if(!b.ok)throw new Error(N.error||"Migration failed");const k=N.vendorId;l(T=>({...T,[v.id]:{status:"success",message:`ID: ${k}`}})),t(T=>T.map(A=>A.id===v.id?{...A,vendor_id:k}:A)),w[v.id]={success:!0,vendorId:k},g++}catch(b){console.error(`Error migrating vendor ${v.id}:`,b),l(N=>({...N,[v.id]:{status:"error",message:b.message}})),w[v.id]={success:!1,error:b.message},x++}await new Promise(b=>setTimeout(b,300))}await u(),M({title:"Migration Complete",description:`Successfully migrated ${g} vendors${x>0?`, ${x} failed`:""}`})}catch(y){console.error("Migration error:",y),M({title:"Error",description:y.message,variant:"destructive"})}finally{i(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs(ve,{className:"mb-8",children:[r.jsxs(De,{children:[r.jsx(Re,{className:"text-3xl",children:"Vendor ID Migration"}),r.jsx(Rs,{children:"Generate and assign vendor IDs to all vendors using the vendorApi pattern"})]}),r.jsxs(_e,{children:[r.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-700",children:c.total}),r.jsx("div",{className:"text-sm text-blue-600",children:"Total Vendors"})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[r.jsx("div",{className:"text-3xl font-bold text-green-700",children:c.migrated}),r.jsx("div",{className:"text-sm text-green-600",children:"Migrated"})]}),r.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[r.jsx("div",{className:"text-3xl font-bold text-yellow-700",children:c.pending}),r.jsx("div",{className:"text-sm text-yellow-600",children:"Pending"})]}),r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[r.jsx("div",{className:"text-3xl font-bold text-red-700",children:c.failed}),r.jsx("div",{className:"text-sm text-red-600",children:"Failed"})]})]}),r.jsxs("div",{className:"flex gap-4 mb-8",children:[r.jsxs(V,{onClick:u,disabled:s,variant:"outline",className:"flex items-center gap-2",children:[s?r.jsx(pe,{className:"w-4 h-4 animate-spin"}):r.jsx(Pa,{className:"w-4 h-4"}),"Reload Vendors"]}),r.jsxs(V,{onClick:f,disabled:a||c.pending===0,className:"bg-green-600 hover:bg-green-700 flex items-center gap-2",children:[a?r.jsx(pe,{className:"w-4 h-4 animate-spin"}):null,"Migrate All Pending (",c.pending,")"]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-100 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Email"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Owner Name"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Company"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Phone"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Current Vendor ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Action"})]})}),r.jsx("tbody",{children:e.map(g=>{const x=o[g.id],w=g.vendor_id&&g.vendor_id.includes("-V-");return r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm",children:g.email}),r.jsx("td",{className:"px-4 py-3 text-sm",children:g.owner_name||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:g.company_name||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:g.phone||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm font-mono text-xs",children:g.vendor_id?r.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:g.vendor_id}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:x?r.jsxs("div",{className:"flex items-center gap-2",children:[x.status==="success"&&r.jsx(Hi,{className:"w-4 h-4 text-green-600"}),x.status==="processing"&&r.jsx(pe,{className:"w-4 h-4 animate-spin text-blue-600"}),x.status==="error"&&r.jsx(Ns,{className:"w-4 h-4 text-red-600"}),x.status==="skipped"&&r.jsx(Hi,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-xs",children:x.message})]}):w?r.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[r.jsx(Hi,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs",children:"Migrated"})]}):r.jsx("span",{className:"text-xs text-yellow-600",children:"Pending"})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:!w&&!x&&r.jsx(V,{onClick:()=>p(g),disabled:a,size:"sm",variant:"outline",className:"text-xs",children:"Migrate"})})]},g.id)})})]})}),e.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No vendors found"})})]}),r.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Vendor ID Format"}),r.jsx("div",{className:"bg-white rounded p-3 font-mono text-sm mb-3 text-gray-700",children:r.jsx("div",{children:"XXXX-V-YYYY-ZZ##"})}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"XXXX"})," - First 4 letters of owner name (padded with X if needed)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"V"}),' - Literal "V" for vendor']}),r.jsxs("li",{children:[r.jsx("strong",{children:"YYYY"})," - First 4 letters of company name (padded with Z if needed)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"ZZ"})," - Last 2 digits of phone number (random if unavailable)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"##"})," - Random 2 digits for uniqueness"]})]})]}),r.jsxs("div",{className:"mt-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Example"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsx("div",{children:r.jsx("span",{className:"text-gray-600",children:"Owner: Rajesh Kumar | Company: ABC Industries | Phone: 9876543210"})}),r.jsx("div",{className:"bg-white rounded p-2 font-mono text-xs",children:"RAJX-V-ABCZ-1045"})]})]})]})]})})})},nH=()=>{const[e,t]=m.useState("slugs"),[s,n]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState(!1),c=async()=>{if(window.confirm("This will add slugs to all products without them. Continue?")){n(!0),l(!1);try{const d=await sH(50);i(d),l(!0),M({title:" Migration Complete!",description:`Updated: ${d.updated}, Failed: ${d.failed}`})}catch(d){console.error("Migration error:",d),M({title:" Migration Failed",description:d.message||"Something went wrong",variant:"destructive"}),i({success:!1,updated:0,failed:-1}),l(!0)}finally{n(!1)}}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-8",children:[e==="vendorIds"&&r.jsx(rH,{}),e==="slugs"&&r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Migration Tools"}),r.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>t("slugs"),className:"px-4 py-2 font-semibold text-[#003D82] border-b-2 border-[#003D82]",children:"Product Slugs"}),r.jsx("button",{onClick:()=>t("vendorIds"),className:"px-4 py-2 font-semibold text-gray-600 hover:text-gray-900",children:"Vendor IDs"})]}),r.jsxs(ve,{children:[r.jsx(De,{children:r.jsx(Re,{className:"text-xl",children:"Product Slug Migration"})}),r.jsxs(_e,{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-600",children:"This tool will generate unique slugs for all products that don't have one yet. Slugs are used for shareable product URLs."}),r.jsx(V,{onClick:c,disabled:s,className:"w-full bg-[#003D82] hover:bg-blue-800 h-10",children:s?r.jsxs(r.Fragment,{children:[r.jsx(pe,{className:"mr-2 h-4 w-4 animate-spin"}),"Migrating..."]}):"Start Migration"}),o&&a&&r.jsxs("div",{className:`p-4 rounded-lg border ${a.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.success?r.jsx(os,{className:"w-5 h-5 text-green-600 mt-0.5"}):r.jsx(Ns,{className:"w-5 h-5 text-red-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:`font-bold ${a.success?"text-green-900":"text-red-900"}`,children:a.success?"Migration Successful":"Migration Failed"}),r.jsxs("p",{className:`text-sm ${a.success?"text-green-700":"text-red-700"}`,children:[a.updated>0&&` ${a.updated} products updated`,a.failed>0&&`${a.updated>0?" | ":""} ${a.failed} failed`]})]})]}),a.success&&r.jsxs("div",{className:"text-sm text-green-700 bg-white p-2 rounded border border-green-200",children:[r.jsx("p",{children:" All product slugs are now active!"}),r.jsx("p",{children:"Check your product pages at /p/product-name-xxx"})]})]})]})]}),r.jsxs("div",{className:"text-sm text-gray-500 bg-blue-50 border border-blue-200 p-4 rounded",children:[r.jsx("p",{className:"font-semibold text-blue-900 mb-2",children:" How to Access:"}),r.jsxs("p",{children:["Visit this page at: ",r.jsx("code",{className:"bg-white px-2 py-1 rounded",children:"/migration-tools"})]})]})]})]})},aH=()=>{const{appType:e}=Ex();return e==="vendor"?r.jsx(qb,{}):e==="buyer"?r.jsx($b,{}):e==="admin"?r.jsx(Jo,{}):e==="management"?r.jsx(Jo,{}):e==="directory"?r.jsx(lj,{}):e==="career"?r.jsx(dj,{}):r.jsxs(bo,{children:[r.jsx(Y,{path:"/management",element:r.jsx(tH,{})}),r.jsx(Y,{path:"/admin/register/superadmin",element:r.jsx(_P,{})}),r.jsx(Y,{element:r.jsx(CP,{}),children:r.jsx(Y,{path:"/admin/register/superadmin/dashboard",element:r.jsx(SP,{})})}),r.jsx(Y,{path:"/migration-tools",element:r.jsx(nH,{})}),r.jsx(Y,{path:"/vendor/*",element:r.jsx(qb,{})}),r.jsx(Y,{path:"/buyer/*",element:r.jsx($b,{})}),r.jsx(Y,{path:"/admin/*",element:r.jsx(Jo,{})}),r.jsx(Y,{path:"/employee/*",element:r.jsx(Jo,{})})," ",r.jsx(Y,{path:"/career/*",element:r.jsx(dj,{})}),r.jsx(Y,{path:"/hr/*",element:r.jsx(Jo,{})}),r.jsx(Y,{path:"/*",element:r.jsx(lj,{})})]})};function iH(){return m.useEffect(()=>{Px.seedLocations().catch(e=>console.error("Location seeding failed",e))},[]),r.jsxs(r.Fragment,{children:[r.jsx(Yn,{children:r.jsx("title",{children:"IndianTradeMart - B2B Marketplace"})}),r.jsx(p3,{children:r.jsx(XD,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:r.jsx(m3,{children:r.jsx(n3,{children:r.jsx(a3,{children:r.jsx(l3,{children:r.jsx(u3,{children:r.jsx(i3,{children:r.jsx(aH,{})})})})})})})})}),r.jsx(z1,{})]})}mp.createRoot(document.getElementById("root")).render(r.jsx(iH,{}));export{j as c,na as g,je as v};
