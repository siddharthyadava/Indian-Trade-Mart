const u=e=>{if(!e||e.length<2)return[];const r=new Set(["the","a","an","and","or","but","in","on","at","to","for","of","from","by","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","should","could","may","might","must","can","me","my","myself","you"]);return e.toLowerCase().trim().split(/[\s,.-]+/).filter(t=>t.length>2&&!r.has(t))},a=(e,r)=>{const t=e.toLowerCase().trim(),n=r.toLowerCase().trim();if(t===n)return 1;if(t.length===0||n.length===0)return 0;if(t.includes(n)||n.includes(t))return .9;const s=t.length>n.length?t:n,l=t.length>n.length?n:t;let o=0;for(let c of l)s.includes(c)&&o++;return o/s.length},d=(e,r)=>{if(!e||!r||r.length===0)return null;const t=u(e);if(t.length===0)return null;let n=null,s=0;for(const l of r){let o=0;o+=a(e,l.name)*.5;const c=u(l.name);let h=0;for(const i of t)for(const f of c)(i===f||a(i,f)>.7)&&h++;if(t.length>0&&(o+=h/t.length*.5),l.description){const i=a(e,l.description);o+=i*.1}o>s&&(s=o,n=l)}return s>.3?{category:n,score:s}:null},g=e=>e&&e>.6;export{a as calculateSimilarity,u as extractKeywords,d as findBestMatchingCategory,g as isStrongMatch};
